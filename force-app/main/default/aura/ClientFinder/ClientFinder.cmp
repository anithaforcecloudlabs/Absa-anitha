<!--
* Lightning Component for Client Finder
*
* @author  Tracy de Bruin : CloudSmiths
* @version v1.0
* krgjfoighjeuogfhru
* @since   2018-07-20
*
-->
<aura:component
  implements="lightning:availableForFlowScreens,force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickAction"
  access="global"
  controller="ClientFinderExt">

<aura:attribute name="value" type="String" default=""/>
  <!--<aura:unescapedHtml value="{!v.cssStyle}"/>-->
  <aura:unescapedHtml value="{!v.cssStyle}" />
  <lightning:navigation aura:id="navService" />
  <lightning:workspaceAPI aura:id="workspace" />
  <!--Wealth attribute  -->
  <aura:attribute name="ServiceTypeName" type="String" default=" " />
  <aura:attribute name="ServiceGroupName" type="String" default=" " />
  <aura:attribute name="ProcessType" type="String" default=" " />
  <aura:attribute name="isWealthOnboarding" type="boolean" default="false" />
  <!--Wealth attribute  -->
  <!--Added By Divya on 27/10/2022-->
  <aura:attribute name="isNBFSTrustOnboarding" type="boolean" default="false" />
  <aura:attribute
    name="processNameSPMrp"
    type="String"
  /><!--SJAKKIDI:12022022:W-029200:W-029203-->
  <!-- Parameters used to determine what functionality to Show/Hide -->
  <aura:attribute name="isSICCodeChange" type="boolean" default="false" />
  <!-- By Mohammed Junaid u for US W-013580 -->
  <aura:attribute type="Boolean" name="serviceGroup" default="false" />
  <aura:attribute name="serviceTypeHRT" type="Boolean" default="false" />
  <aura:attribute name="showPTVbtn" type="Boolean" default="false" />
  <aura:attribute
    type="Boolean"
    name="isCompactView"
    default="false"
    description="Indicator to show Compact Client column results"
  />
  <aura:attribute
    type="Boolean"
    name="showCreateIndividualProspect"
    default="false"
    description="Determine whether to show the Create New Individual Prospect Button and its functionality"
  />
  <aura:attribute
    type="Boolean"
    name="showCreateBusinessProspect"
    default="false"
    description="Determine whether to show the Create New Business Prospect Button and its functionality"
  />
  <aura:attribute
    type="Boolean"
    name="showCreateBusinessProspectOnboarding"
    default="false"
    description="Determine whether to show the Create New Business Prospect Button and its functionality"
  />
  <aura:attribute
    type="Boolean"
    name="showCreateIndividualProspectOnboarding"
    default="false"
    description="Determine whether to show the Create New Business Prospect Button and its functionality"
  />
  <aura:attribute
    type="Boolean"
    name="showBranchCreateIndividualProspectOnboarding"
    default="false"
    description="Determine whether to show the Create New Individual Prospect Button and its functionality"
  />
  <aura:attribute
    type="Boolean"
    name="isSelectionConfermed"
    default="false"
    description="Selection Confermation"
  />
  <aura:attribute
    type="Boolean"
    name="isConsentSelected"
    default="false"
    description="Selection Consent"
  />
  <aura:attribute
    type="Boolean"
    name="showCreateStokvelProspectOnboarding"
    default="false"
    description="Determine whether to show the Create New Stokvel Prospect Button and its functionality"
  />
  <aura:attribute
    type="Boolean"
    name="showProductSelection"
    default="false"
    description="Determine whether to show the Products related to the selected Client and ability to select one"
  />
  <aura:attribute
    type="Boolean"
    name="showParticipantSelection"
    default="false"
    description="Determine whether to show the Participants related to the selected Client"
  />
  <aura:attribute
    type="Boolean"
    name="showNewCaseCreation"
    default="false"
    description="Determine whether to show the Proceed to Case Creation Buttont"
  />
  <aura:attribute
    type="Boolean"
    name="showNewProductOnboarding"
    default="false"
    description="Determine whether to show the Product onboarding process for branches"
  />
  <aura:attribute
    type="Boolean"
    name="showLinkingaccountsintoaPackage"
    default="false"
    description="Determine whether to show the Create New Individual Prospect Button and its functionality"
  />
  <aura:attribute
    type="Boolean"
    name="showLinkingButton"
    default="false"
    description="Determine whether to show the Create New Individual Prospect Button and its functionality"
  />
  <aura:attribute
    type="Boolean"
    name="isBranchLinkingSelected"
    default="false"
    description="Determine whether to show the Create New Individual Prospect Button and its functionality"
  />

  <!-- TdB - In Progress - Contact attribute/paramter not working as yet-->
  <aura:attribute
    type="Boolean"
    name="showContactSelection"
    default="false"
    description="Determine whether to show the Contact search and creation section"
  />
  <aura:attribute
    type="Boolean"
    name="showCaseHistory"
    default="false"
    description="Determine whether to show the 5 most recent Cases linked to the Client"
  />
  <aura:attribute
    type="Boolean"
    name="showLeadHistory"
    default="false"
    description="Determine whether to show the 5 most recent Leads linked to the Client"
  />
  <aura:attribute
    type="Boolean"
    name="showCreateNewCase"
    default="false"
    description="Determine whether to show the Create New Case Button and its functionality"
  />
  <aura:attribute
    type="Boolean"
    name="showCreateRelatedParty"
    default="false"
    description="Determine whether to show the Create Related Party Button and its functionality"
  />
  <aura:attribute
    type="Boolean"
    name="showShortTermInsuranceFields"
    default="false"
  />
  <!--Added by Short Term Insurance-->
  <aura:attribute type="Boolean" name="isIdNoRequired" default="true" />

  <aura:attribute
    type="String"
    name="parentId"
    default=""
    description="Parent Id for the Related Party functionality"
  />
  <aura:attribute type="Boolean" name="showIdNotRequired" default="false" />
  <!--Addded By Divya on 15/7/2022-->
  <aura:attribute type="Boolean" name="showOccupationSection" default="false" />
  <!-- Register Events -->
  <aura:registerEvent name="setAttribute" type="c:setClientInfo" />
  <aura:registerEvent name="setContact" type="c:setContactInfo" />
  <aura:registerEvent name="setParticipant" type="c:setParticipantInfo" />
  <aura:registerEvent name="setProduct" type="c:setProductInfo" />
  <aura:registerEvent name="navigate" type="c:navigateToFlowCmp" />
  <aura:registerEvent name="loadMyEvent" type="c:selectJobEve" />
  <!--Added by Tejesh 04Aug2022 -->
  <aura:registerEvent name="relatedPartyUpdated" type="c:relatedPartyUpdated" />
  <!--Added by Gigyasu 15Mar2023 -->
  <aura:handler event="c:closeLeadRecordTypePopup" action="{!c.closeLeadRecordTypePopup}"/>
  <aura:attribute type="Boolean" name="showLeadRecordTypePopup" default="false" />
  <aura:attribute type="String" name="functionAfterRecordTypeModalCloses" />
  <aura:attribute name="onRowSelectedEvent" type="Object" />
  <!-- Handlers -->
  <aura:handler name="init" value="{!this}" action="{!c.validateSearchLimit}" />
  <!-- TdB - In Progress - Contact attribute/paramter not working as yet-->
  <!--<aura:handler name="change" value="{!v.contactId}" action="{!c.logContactId}"/>
    <aura:handler name="change" value="{!v.contactRecord}" action="{!c.logNewContact}"/>-->
  <aura:handler name="init" value="{!this}" action="{!c.getColumnHeaders}" />
  <aura:handler name="init" value="{!this}" action="{!c.getClientRecordType}" />
  <aura:attribute name="businessProspectRecordTypeId" type="String" />
  <aura:attribute name="individualProspectRecordTypeId" type="String" />
  <aura:attribute name="caseRecordTypeId" type="String" />
  <aura:attribute name="Onboardingselection" type="String" />
  <aura:attribute name="jobname" type="List" />
  <aura:attribute
    name="consentOptions"
    type="List"
    default="[
                                                               {'label': 'Yes', 'value': 'Yes'},
                                                               {'label': 'No', 'value': 'No'}
                                                               ]"
  />
  <aura:attribute name="consentVal" type="string" />
  <!--Handler Declaration-->
  <aura:handler
    name="selectedJobEvent"
    event="c:selectedJobEvent"
    action="{!c.setClientSelected}"
  />
  <aura:handler
    name="setComplianceStatus"
    event="c:ComplianceEvent"
    action="{!c.complianceStatusEvent}"
  />
  <!-- added for Home Loans-->

  <!-- Attributes -->
  <aura:attribute name="recordId" type="String" />
  <aura:attribute name="isLimitReached" type="Boolean" default="true" />
  <aura:attribute name="isNewClientCreated" type="Boolean" />
  <aura:attribute name="currentCount" type="Integer" />
  <aura:attribute name="clientSearchLimit" type="Integer" />
  <aura:attribute name="accountRecord" type="Object[]" />
  <aura:attribute
    name="searchLimitMsg"
    type="String"
    default="{!'*Minimum search requirement must be met - ' + v.clientSearchLimit + ' search attempts'}"
  />
  <aura:attribute name="searchTypeValue" type="String" />
  <aura:attribute name="salesforceSearchLabel" type="String" />
  <aura:attribute name="searchTypeList" type="String[]" />
  <aura:attribute name="accountsReturned" type="Object[]" />
  <aura:attribute name="participantsReturned" type="Object[]" />
  <aura:attribute name="relatedAccountId" type="String" />
  <aura:attribute name="searchTypeSelected" type="String" />
  <aura:attribute name="accountId" type="String" />
  <aura:attribute name="contactId" type="String" />
  <aura:attribute name="isPersonAccount" type="Boolean" default="false" />
  <aura:attribute name="isBusinessAccount" type="Boolean" default="false" />
  <aura:attribute
    name="isBusinessAccountOnboarding"
    type="Boolean"
    default="false"
  />
  <aura:attribute
    name="isIndividualAccountOnboarding"
    type="Boolean"
    default="false"
  />
  <aura:attribute name="isprocessOnboarding" type="Boolean" default="false" />
  <aura:attribute name="isAccountInSalesforce" type="Boolean" default="false" />
  <aura:attribute name="isNewCaseCreation" type="Boolean" default="false" />
  <aura:attribute
    name="isNewCreditOpportunity"
    type="Boolean"
    default="false"
  />
  <aura:attribute name="isNewSPMOpportunity" type="Boolean" default="false" />
  <!-- Variables for complex credit group structure W-015610 -->
  <aura:attribute
    name="fromComplexCreditGroupStructure"
    type="Boolean"
    default="false"
  />
  <aura:attribute name="groupStructureOpportunityId" type="String" />
  <aura:attribute name="groupStructureRow" type="String" />
  <aura:attribute name="isNewCPFOpportunity" type="Boolean" default="false" />
  <aura:attribute name="isNewCAFOpportunity" type="Boolean" default="false" />
  <aura:attribute
    name="isNewEstateOpportunity"
    type="Boolean"
    default="false"
  /><!--Added newly by Clinton-->
  <aura:attribute
    name="isNewProductOpportunity"
    type="Boolean"
    default="false"
  />
  <aura:attribute
    name="isRemediateExistingCustomer"
    type="Boolean"
    default="false"
  />
  <aura:attribute name="relatedCases" type="Object" />
  <aura:attribute name="relatedCasesColumns" type="List" />
  <aura:attribute name="relatedLeads" type="Object" />
  <aura:attribute name="relatedLeadsColumns" type="List" />
  <aura:attribute name="isCreateContact" type="boolean" default="false" />
  <aura:attribute name="isAccountsFound" type="boolean" default="false" />
  <aura:attribute name="isCIFSearch" type="boolean" default="false" />
  <aura:attribute name="isNotValidSearchValue" type="boolean" default="true" />
  <aura:attribute
    name="contactRecord"
    type="Contact"
    default="{'sobjectType': 'Contact'}"
  />
  <aura:attribute
    name="isprocessStokvelOnboarding"
    type="Boolean"
    default="false"
  />
  <aura:attribute
    name="newStokvelProspect"
    type="Account"
    default="{'sobjectType': 'Account'}"
  />
  <aura:attribute name="isButtonActive" type="Boolean" default="true" />
  <aura:attribute name="showTitleError" type="Boolean" default="false" />
  <aura:attribute name="serviceRequestRecordTypeId" type="String" default="" />
  <aura:attribute
    name="accountParentRecord"
    type="Account"
    default="{'sobjectType': 'Account'}"
  />
  <aura:attribute
    name="accountSelected"
    type="Account"
    default="{'sobjectType': 'Account',
                                                                   'Id': '',
                                                                   'Salutation' : '',
                                                                   'PersonTitle' : '',
                                                                   'FirstName': '',
                                                                   'LastName': '',
                                                                   'Phone': '',
                                                                   'PersonMobilePhone': '',
                                                                   'PersonEmail': '',
                                                                   'CIF__c': '',
                                                                   'Source__c': '',
                                                                   'RecordTypeId':'',
                                                                   'Name' : '',
                                                                   'isPersonAccount':'',
                                                                   'PersonContactId' : '',
                                                                   'Client_Type__c' : ''
                                                                   }"
  />
  <!--<aura:attribute name="newAccount" type="Account" default="{'sobjectType': 'Account'}"/>  -->
  <aura:attribute
    name="newBusinessProspect"
    type="Account"
    default="{'sobjectType': 'Account'}"
  />
  <aura:attribute
    name="newIndivProspect"
    type="Account"
    default="{'sobjectType': 'Account'}"
  />
  <aura:attribute
    name="newAddressRecord"
    type="Address__c"
    default="{'sobjectType': 'Address__c'}"
  />
  <aura:attribute
    name="ClearIndivProspect"
    type="Account"
    default="{'sobjectType': 'Account'}"
  />
  <aura:attribute
    name="newBusinessProspectOnboarding"
    type="Account"
    default="{'sobjectType': 'Account'}"
  />
  <aura:attribute name="clientSearchResultColumns" type="List" />
  <aura:attribute
    name="maxRowSelection"
    type="Integer"
    default="1"
    access="private"
  />
  <aura:attribute name="selectedClientRow" type="List" access="private" />
  <aura:attribute name="clientDetailsBean" type="Object" access="private" />
  <aura:attribute name="MDMclientDetailsBean" type="Object" access="private" />
  <aura:attribute name="isRelatedContent" type="Boolean" default="false" />
  <aura:attribute
    name="accountContactRelation"
    type="AccountContactRelation"
    default="{'sobjectType': 'AccountContactRelation'}"
  />
  <aura:attribute name="hanisResponse" type="HanisValidate_Resp_IB_v1" />
  <aura:attribute name="CPBResponse" type="CPBValidate_Resp_IB_v1" />
  <aura:attribute type="Boolean" name="showAddRelatedParty" default="false" />
  <aura:attribute name="roleOptions" type="List" />
  <aura:attribute name="selectedRole" type="List" />
  <aura:attribute name="designationOptions" type="List" />
  <aura:attribute name="ProcessName" type="String" default="" />
  <!-- 20200312: Prashant Jain and Tinashe Shoko: Added for Merchant Onboarding -->
  <aura:attribute name="searchByNameResultOption" type="List" />
  <aura:attribute name="searchByNameOptionSelected" type="String" />
  <aura:attribute
    name="showSearchByNameCIFSection"
    type="Boolean"
    default="false"
  />

  <aura:Attribute name="isEmployed" type="boolean" default="false" />
  <aura:attribute name="isUpdateRelatedParty" type="boolean" default="false" />
  <aura:attribute name="editedAccountId" type="String" default="" />
  <aura:attribute
    name="editedAccount"
    type="Account"
    default="{'sobjectType': 'Account'}"
  />
  <aura:attribute name="BranchPersonTitle" type="String" default="" />
  <aura:attribute name="BranchLoading" type="Boolean" default="false" />
  <aura:attribute name="errorMessage" type="String" />
  <aura:attribute name="BranchLinkLoading" type="Boolean" default="false" />
  <aura:attribute name="FlowName" type="String" default="" />
  <aura:attribute name="customerCode" type="String" access="global" />
  <aura:attribute name="linkRecordId" type="String" />
  <aura:attribute name="FicLockRequired" type="Boolean" default="false" />
  <!-- Added for Home loan service classification added by sandeep -->
  <aura:attribute name="HomeLoanServiceGroup" type="String" access="global" />
  <!-- Added for Home loan service classification added  by sandeep -->
  <!-- Product Attributes -->
  <aura:attribute name="productData" type="Object" access="private" />
  <aura:attribute name="productColumns" type="List" />
  <aura:attribute name="productSelected" type="Object" access="private" />

  <!--Participant Attributes-->
  <aura:attribute
    name="clientParticipantsBean"
    type="Object"
    access="private"
  />
  <aura:attribute name="participantData" type="Object" access="private" />
  <aura:attribute name="participantSelected" type="Object" access="private" />
  <aura:attribute name="isParticipantDetail" type="Boolean" default="false" />

  <!-- Delink attributes -->
  <aura:attribute
    type="Boolean"
    name="showDelinkingAccountsFromPackage"
    default="false"
    description="Determine whether to show Delink functionality"
  />
  <aura:attribute type="Boolean" name="showDelinkingFlow" default="false" />

  <!-- Pagination Attributes for Product-->
  <aura:attribute name="productPaginationList" type="Object" />
  <aura:attribute name="productStartPage" type="Integer" default="0" />
  <aura:attribute name="productEndPage" type="Integer" default="0" />
  <aura:attribute name="productTotalRecords" type="Integer" default="0" />
  <aura:attribute name="productPageSize" type="Integer" default="5" />

  <!-- Contact Attributes -->
  <aura:attribute name="contactData" type="Object[]" default="[]" />
  <aura:attribute name="contactFilteredData" type="Object[]" default="[]" />
  <aura:attribute name="contactFilterValue" type="String" />
  <aura:attribute name="contactColumns" type="List" />
  <aura:attribute name="contactSelected" type="Object" access="private" />
  <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
  <aura:attribute name="searchValue" type="String" />
  <!-- Real time filtering based on changes to the Contact filter text -->
  <!-- <aura:handler name="change" value="{!v.contactFilterValue}" action="{!c.updateContactFilter}" /> -->

  <aura:attribute name="newCase" type="Object" />
  <aura:attribute name="newCaseField" type="Object" />
  <aura:attribute name="newCaseError" type="String" />
  <aura:attribute
    name="developerName"
    type="String"
    default="Service_Request"
  />
  <aura:attribute name="sObjectName" type="String" default="Case" />
  <aura:attribute name="countryValuesArray" type="String[]" />
  <aura:attribute name="countryValuesArray_NEW" type="Object[]" />
  <aura:attribute name="countryOfCitizenShip" type="String[]" />
  <aura:attribute name="clientTypeVal" type="String" />
  <!--Chandra 08252020  against 4746-->

  <aura:attribute name="primaryEntityId" type="String" />
  <!--Chandra 07142020  against 4945-->
  <aura:attribute
    name="showEntityTypeSelection"
    type="boolean"
    default="false"
  />
  <!--Manoj-09102020 - W-005633 New Design for Single Button New Prospect-->
  <aura:attribute
    name="processTypeP"
    type="String"
  /><!--Manoj-6067-Lite Onboarding Manual Capture-->
  <aura:attribute name="parentRelationshipId" type="String" />
  <aura:attribute
    name="showFICRefreshConfirmation"
    type="boolean"
    default="false"
  /><!--Sandeep Golla - W-009646 FIC Refresh for Service Jobs -->
  <aura:attribute name="complianceStatus" type="String" />
  <aura:attribute name="serviceTypeRecordTypeId" type="String" />
  <aura:attribute name="showSpinner" type="boolean" default="false" />
  <aura:attribute name="ficCase" type="Case" />
  <aura:attribute name="confirmationMessage" type="String" />
  <aura:attribute
    name="daysDue"
    type="Integer"
  /><!--Sandeep Golla - W-009428 FIC Refresh for Service Jobs -->

  <!-- TdB : Participant Related Party for Onboarding -->
  <aura:attribute name="isParticipant" type="String" />
  <aura:attribute type="Boolean" name="showNoTaxReason" default="false" />
  <aura:attribute type="Boolean" name="showCountryForeignTax" default="false" />

  <!--SPM attributes Added by Diksha 9/21/2020-->
  <aura:attribute name="isModalOpenforPM" type="boolean" default="false" />
  <!-- Diksha for SPM selection of PM-->
  <aura:attribute name="selectedPm" type="string" />
  <aura:attribute name="pmList" type="User[]" />
  <aura:attribute name="loggedinUserProfile" type="string" />

  <!-- Attribute Added by Santosh Kumar 23/May/2021 for show Individual Customer Pop Modal to Create Contact Record Using LDS Work-Id-012428 -->
  <aura:attribute name="selectJobName" type="String" />
  <aura:attribute name="showIndividualCustomerPopUP" type="Boolean" />
  <aura:attribute
    name="showIndividualCustomerPopUpDisclaimer"
    type="Boolean"
    default="true"
  />
  <!-- W-019888 Hloni Matsoso 2022-05-17-->
  <aura:attribute
    name="newAccount"
    type="Account"
    default="{ 'sobjectType': 'Account'}"
  />
  <aura:attribute
    name="showXDSComponent"
    type="Boolean"
  /><!--Added by chandra dated 26/05/2021 against W-012460-->
  <aura:attribute
    name="disableHandleNext"
    type="Boolean"
    default="true"
  /><!--Added by chandra dated 26/05/2021 against W-012460-->
  <aura:attribute name="selectedAccountRecordTypeId" type="String" />

  <!--Sales onboarding Attributes: Simangaliso Mathenjwa: 27 Aug 2021-->
  <aura:attribute name="showPrivacyNotice" type="boolean" default="false" />
  <aura:attribute name="selectedAccountRecordTypeName" type="String" />
  <aura:attribute
    name="titleOptions"
    type="List"
    default="[{'label': 'Mr', 'value': 'Mr'},
                                                                {'label': 'Mrs', 'value': 'Mrs'},
                                                                {'label': 'Ms', 'value': 'Ms'},
                                                                {'label': 'Doctor', 'value': 'Doctor'},
                                                             	{'label': 'Professor', 'value': 'Professor'}]"
  />
  <!--<aura:attribute name="showPrivacyNotice" type="boolean" default="false"/>-->
  <!-- Distributiononboarding Attributes: Anwesh-->
  <aura:attribute name="isSelfLead" type="Boolean" default="false" />
  <!--Addded newly for estate on boarding-->
  <aura:attribute name="EstateclientTypeValues" type="List" default="[]" />
  <!--<aura:attribute name="clientTypeValues" type="Object[]"/>
    <aura:attribute name="clientGroupValues" type="Object[]"/>-->
  <aura:attribute name="enabletoProceed" type="Boolean" default="true" />
  <aura:attribute
    name="estateIndividualoptions"
    type="List"
    default="[
                                                                        {'label': 'Estate Late', 'value': 'Estate Late'}
                                                                        ]"
  />
  <aura:attribute
    name="estateResidentoptions"
    type="List"
    default="[
                                                                      {'label': 'South African Resident', 'value': 'South African Resident'}
                                                                      ]"
  />
  <!--changes  end for estate onboarding-->
  <aura:attribute
    name="designationSelected"
    type="String"
  /><!--W-027069 added by nitin shyamnani-->
  <!-- Wealth Onboarding values -->
  <aura:attribute name="enableentityType" type="Boolean" default="true" />

  <aura:attribute name="WealthclientGroupValues" type="List" default="[]" />
  <aura:attribute name="WealthclientTypeValues" type="List" default="[]" />
  <aura:attribute
    name="Individualoptions"
    type="List"
    default="[
                                                                  {'label': 'Individual', 'value': 'Individual'},
                                                                  {'label': 'Private Individual', 'value': 'Private Individual'}
                                                                  ]"
  />
  <aura:attribute
    name="NonIndividualoptions"
    type="List"
    default="[
                                                                     {'label': 'Private Company', 'value': 'Private Company'},
                                                                     {'label': 'Public Listed Company', 'value': 'Public Listed Company'},
                                                                     {'label': 'Trusts', 'value': 'Trusts'}
                                                                     ]"
  />
  <aura:attribute
    name="Jointoptions"
    type="List"
    default="[
                                                             {'label': 'Joint and Several', 'value': 'Joint and Several'}
                                                             ]"
  />
  <!--Added By Divya 10-4-2022-->
  <aura:attribute name="butdisable" type="boolean" default="false" />

  <!-- Added By Tejesh 21-04-2022 -->
  <aura:attribute name="coexErr" type="boolean" default="false" />
  <!-- Added By Tejesh 29/07/2022 -->
  <aura:attribute name="showCntryPass" type="boolean" default="true" />

  <!-- Added By Lakshmi 19-May-2022 -->
  <aura:attribute name="showContact" type="boolean" default="true" />
  <aura:attribute name="showMarital" type="boolean" default="false" />
  <!-- Added By Lakshmi 25-May-2022 -->
  <aura:attribute name="showRelationship" type="boolean" default="false" />
  <aura:attribute name="isCoexecutor" type="boolean" default="false" />
  <!-- end for Wealth -->
  <!--Using LDS to create case record-->
  <force:recordData
    aura:id="caseRecordCreator"
    layoutType="FULL"
    fields="AccountId,Subject,Status,RecordType,RecordTypeId,Type,Type__c,Subtype__c,Product__c,sd_Service_Group__c,sd_Service_Group_Type_Id__c,sd_Original_Service_Group__c,sd_Original_Service_Queue__c,sd_Service_Level_Id__c,sd_Service_Group_Id__c,BusinessHoursId,sd_Response_Email_Address__c"
    targetRecord="{!v.newCase}"
    targetFields="{!v.newCaseField}"
    targetError="{!v.newCaseError}"
  />
  <aura:attribute name="recordLoadError" type="String" />
  <force:recordData
    aura:id="recordLoader"
    recordId="{!v.parentId}"
    fields="Client_Type__c"
    targetFields="{!v.accountParentRecord}"
    targetError="{!v.recordLoadError}"
  />

  <aura:attribute type="Opportunity" name="opportunity" />

  <force:recordData
    recordId="{!v.recordId}"
    fields="AccountId"
    targetFields="{!v.opportunity}"
  />

  <aura:attribute name="clientTypeValues" type="Object[]" />
  <aura:attribute name="clientGroupValues" type="Object[]" />
  <aura:attribute
    name="disableAddRelatedPartyBtn"
    type="boolean"
    default="true"
  />
  <aura:attribute name="placeOfResidence" type="string" />
  <aura:attribute name="isOperatingRole" type="Boolean" />
  <aura:attribute name="isMandatIndemnityUser" type="Boolean" />
  <aura:attribute name="showTempResidentSection" type="Boolean" />
  <aura:attribute
    name="showAccountClosureConfirmation"
    type="boolean"
    default="false"
  /><!--Mohammed Junaid U - W-010672 Closure of Account -->
  <aura:attribute name="prospectClientType" type="string" default="" />
  <aura:attribute name="prospectClientGroup" type="string" default="" />
  <aura:attribute name="isComponentReadOnly" type="Boolean" default="false" />
  <aura:attribute
    name="TotalSharePercentageOfRPs"
    type="Decimal"
    default="0.0"
  /><!--HarishKolla -->
  <aura:attribute
    name="totalSharePercentageOfRPs_AllTypes"
    type="Decimal"
    default="0.0"
  /><!--HarishKolla -->
  <aura:registerEvent
    name="statusOfAddedRelatedParty"
    type="c:AddRelatedPartyStatusEvent"
  /><!--HarishKolla -->
  <aura:attribute name="isPartnerControllerRole" type="Boolean" />
  <!--W-022648-->
  <!-- Added By Tejesh 03-Oct-2022 -->
  <lightning:flow aura:id="flowData" class="slds-hide" />

  <!-- Added for Enquiry Start -->
  <aura:attribute
    name="disableCreateNewCaseButton"
    type="boolean"
    default="true"
  />
  <!-- Added for Enquiry End -->

  <!-- Added By Divya on 11/2/2022 -->
  <aura:attribute name="isAccountCompliance" type="boolean" />
  <!-- Added by Tejesh 18/Jul/2022 for Deceased Late Validation -->
  <aura:attribute name="deceasedExists" type="boolean" />
  <div class="slds-hide">
    <lightning:card>
      <lightning:flow
        aura:id="deceasedLateValidation"
        onstatuschange="{!c.handleFlowStatusChange}"
      />
    </lightning:card>
  </div>

  <!-- Loading Spinner-->
  <center style="z-index: 99">
    <lightning:spinner
      aura:id="TheSpinner"
      class="slds-hide"
      variant="brand"
      size="large"
    />
  </center>
  <!-- Had issue with above spinner getting on whole page-->
  <aura:if isTrue="{!v.showSpinner}">
    <div class="slds-backdrop slds-backdrop_open">
      <lightning:spinner aura:id="spinner" variant="brand" size="large" />
    </div>
  </aura:if>

  <!-- Client Component-->
  <lightning:card
    aura:id="clientFinderId"
    iconName="action:new_account"
    title="Client Finder"
  >
    <!-- Client Search -->
    <div class="c-container">
      <lightning:layout multipleRows="true">
        <!--Fields-->
        <lightning:layoutItem padding="around-small">
          <!-- Search type -->
          <lightning:select
            class="select-auto-width"
            aura:id="iSearchType"
            label=""
            onchange="{!c.setSearchType}"
          >
            <aura:iteration
              items="{!v.searchTypeList}"
              var="searchItem"
              indexVar="index"
            >
              <option value="{!vsearchItem}" text="{!searchItem}"></option>
            </aura:iteration>
          </lightning:select>
        </lightning:layoutItem>
        <lightning:layoutItem padding="around-small">
          <!-- Search value -->
          <lightning:input
            aura:id="iSearchValue"
            value="{!v.searchValue}"
            type="text"
            placeholder="Search Value"
            label=""
            onchange="{!c.validateSearchValueLength}"
          />
        </lightning:layoutItem>
        <lightning:layoutItem padding="around-small">
          <lightning:button
            variant="brand"
            class="slds-m-top--medium"
            disabled="{!v.isNotValidSearchValue}"
            aura:id="btnCifSearch"
            label="Search"
            onclick="{!c.searchClient}"
            iconName="utility:search"
          />
        </lightning:layoutItem>
        <lightning:layoutItem padding="around-small" size="12">
          <!-- Create New Individual Prospect Button -->
          <aura:if
            isTrue="{!v.showCreateIndividualProspect || v.showCreateBusinessProspect || v.showCreateBusinessProspectOnboarding || v.showCreateIndividualProspectOnboarding || v.showCreateRelatedParty || v.showBranchCreateIndividualProspectOnboarding || v.showCreateStokvelProspectOnboarding}"
          >
            <aura:if isTrue="{!v.showCreateIndividualProspect}">
              <lightning:button
                variant="brand"
                disabled="{!v.isLimitReached}"
                aura:id="btnCreateNewIndividualProspect"
                label="New Individual Prospect"
                iconName="action:new_person_account"
                iconPosition="left"
                onclick="{!c.showNewIndividualProspectModal}"
              />
            </aura:if>
            <aura:if isTrue="{!v.showBranchCreateIndividualProspectOnboarding}">
              <lightning:button
                variant="brand"
                disabled="{!v.isLimitReached}"
                aura:id="btnCreateBranchNewIndividualProspect"
                label="New Individual Prospect"
                iconName="action:new_person_account"
                iconPosition="left"
                onclick="{!c.showNewBranchIndividualProspectModal}"
              />
            </aura:if>
            <!-- Create New Business Prospect Button -->
            <aura:if isTrue="{!v.showCreateBusinessProspect}">
              <lightning:button
                variant="brand"
                disabled="{!v.isLimitReached}"
                aura:id="btnCreateNewBusinessProspect"
                label="New Business Prospect"
                iconName="action:new_account"
                iconPosition="left"
                onclick="{!c.showNewBusinessProspectModal}"
              />
            </aura:if>
            <!--create stokvel-->
            <aura:if isTrue="{!v.showCreateStokvelProspectOnboarding}">
              <lightning:button
                variant="brand"
                disabled="{!v.isLimitReached}"
                aura:id="btnCreateNewProspectOnboarding"
                label="New Stokvel Prospect"
                iconName="action:new_account"
                iconPosition="left"
                onclick="{!c.createStokvelOnboardingEntity}"
              />
            </aura:if>
            <!-- Create New Business Prospect Button Onboarding -->
            <!-- 20200312: Prashant Jain and Tinashe Shoko: extra parameter to check if it is Merchant Onboarding and handle accordingly-->
            <!--Commented by Manoj 09102020-W005633
                        <aura:if isTrue="{!and(v.showCreateBusinessProspectOnboarding, or(v.isprocessOnboarding, v.ProcessName=='MerchantOnboarding'|| and(v.ProcessName=='SPMOnboarding',!v.isNewSPMOpportunity)))}">
                            <lightning:button variant="brand" disabled="{!v.isLimitReached}"  aura:id="btnCreateNewBusinessProspectOnboarding" label="New Business Prospect" iconName="action:new_account" iconPosition="left" onclick="{!c.navigateToOnbOardingClientDetails}"/>
                        </aura:if>
                        -->

            <!--Create New Prospect Single button for Onboarding Manoj-09102020-W005633-->
            <aura:if
              isTrue="{!and(and(and(v.ProcessName != 'Estate Onboarding', v.ServiceTypeName!='Fiduciary Onboarding'), v.ServiceTypeName != 'Wealth Offshore Client Onboarding'), !v.isSelfLead)}"
            >
              <aura:if
                isTrue="{!and(v.showCreateBusinessProspectOnboarding, or(v.isprocessOnboarding, v.ProcessName=='MerchantOnboarding' || v.ProcessName=='ISO - Sub Merchant Onboarding' || v.ProcessName=='complexcredit' || v.ProcessName=='Self-Service Merchant Onboarding' || v.ProcessName=='SuretyOnboarding' || and(v.ProcessName=='SPMOnboarding',!v.isNewSPMOpportunity)|| and(v.ProcessName=='CPFOnboarding',!v.isNewCPFOpportunity)))}"
              >
                <lightning:button
                  variant="brand"
                  disabled="{!v.isLimitReached}"
                  aura:id="btnCreateNewProspectOnboarding"
                  label="New Prospect"
                  iconName="action:new_account"
                  iconPosition="left"
                  onclick="{!c.selectClientType}"
                />
              </aura:if>
            </aura:if>

            <!-- Estate Onboarding Process Start -->
            <aura:if
              isTrue="{!and(v.showCreateBusinessProspectOnboarding, v.ProcessName=='Estate Onboarding')}"
            >
              <lightning:button
                variant="brand"
                disabled="{!v.isLimitReached}"
                aura:id="btnCreateNewProspectOnboarding"
                label="New Prospect"
                iconName="action:new_account"
                iconPosition="left"
                onclick="{!c.selectOnboardingEntity}"
              />
            </aura:if>
            <!-- Estate Onboarding Process End -->
            <!-- Wealth Onboarding Process Start -->
            <aura:if
              isTrue="{!and(v.showCreateBusinessProspectOnboarding, v.ServiceTypeName=='Wealth Offshore Client Onboarding', v.isSelfLead == false)}"
            >
              <lightning:button
                variant="brand"
                disabled="{!v.isLimitReached}"
                aura:id="btnCreateNewProspectOnboarding"
                label="New Prospect"
                iconName="action:new_account"
                iconPosition="left"
                onclick="{!c.selectOnboardingEntity}"
              />
            </aura:if>
            <!-- Wealth Onboarding Process End -->
            <!-- Trust Onboarding Process Start -->
            <aura:if
              isTrue="{!and(v.showCreateBusinessProspectOnboarding, v.ServiceTypeName=='Fiduciary Onboarding')}"
            >
              <lightning:button
                variant="brand"
                disabled="{!v.isLimitReached}"
                aura:id="btnCreateNewProspectOnboarding"
                label="New Prospect"
                iconName="action:new_account"
                iconPosition="left"
                onclick="{!c.selectOnboardingEntity}"
              />
            </aura:if>
            <!-- Trust Onboarding Process End -->
            <aura:if
              isTrue="{!and(and(v.accountSelected.Client_Type__c == 'NBFS Trust',not(v.showCreateRelatedParty)),not(empty(v.accountSelected.Client_Type__c)))}"
            >
              <lightning:button
                variant="brand"
                aura:id="btnUpdateExistingClient"
                label="Add Prospect"
                iconName="action:new_account"
                iconPosition="left"
                onclick="{!c.handleAddUpdatePrimaryClient}"
              />
            </aura:if>
            <!-- Distribution Prospect Onboarding Added by Anwesh for SelfLead-->

            <aura:if
              isTrue="{!and(v.showCreateBusinessProspectOnboarding,v.isSelfLead)}"
            >
              <lightning:button
                variant="brand"
                disabled="{!v.isLimitReached}"
                aura:id="btnCreateNewProspectOnboarding"
                label="New Prospect"
                iconName="action:new_account"
                iconPosition="left"
                onclick="{!c.CreateProspect}"
              />
            </aura:if>
            <!-- Distribution Prospect Onboarding Added by Anwesh for SelfLead END-->

            <!-- Create New Individual Prospect Button Onboarding -->
            <!-- 20200312: Prashant Jain and Tinashe Shoko: extra parameter to check if it is Merchant Onboarding and handle accordingly-->
            <aura:if
              isTrue="{!and(v.showCreateIndividualProspectOnboarding, or(v.isprocessOnboarding, v.ProcessName=='MerchantOnboarding' || v.ProcessName=='ISO - Sub Merchant Onboarding' || v.ProcessName=='Self-Service Merchant Onboarding' || and(v.ProcessName=='SPMOnboarding',!v.isNewSPMOpportunity)))}"
            >
              <!-- TdB - Hide New Individual Prospect button for now and use Sole prop
                             <aura:if isTrue="{!v.ProcessName=='MerchantOnboarding'}">  if it is merchant onboarding then the button label should be New Sole Prospect - W-004021 - Tinashe Shoko 17-03-2020 -->
              <!--Commented by Manoj 09102020-W005633
                             <lightning:button variant="brand" disabled="{!v.isLimitReached}"  aura:id="btnCreateNewIndivProspectOnboarding" label="New Sole Proprietor Prospect" iconName="action:new_account" iconPosition="left" onclick="{!c.navigateToOnbOardingIndvDetails}"/>
                                -->
              <!--<aura:set attribute="else">
                                    <lightning:button variant="brand" disabled="{!v.isLimitReached}"  aura:id="btnCreateNewIndivProspectOnboarding" label="New Individual Prospect" iconName="action:new_account" iconPosition="left" onclick="{!c.navigateToOnbOardingIndvDetails}"/>
                                </aura:set>
                            </aura:if>-->
            </aura:if>

            <!-- Create New Related Party Button Onboarding -->
            <aura:if isTrue="{!v.showCreateRelatedParty}">
              <lightning:button
                variant="brand"
                disabled="{!v.isLimitReached}"
                aura:id="btnCreateNewRelatedParty"
                label="New Related Party"
                iconName="action:new_account"
                iconPosition="left"
                onclick="{!c.selectClientType}"
              />
            </aura:if>
            <aura:if isTrue="{!v.showCreateRelatedParty}">
              <!--<lightning:button variant="brand" disabled="{!(!v.isPersonAccount)}" aura:id="btnCreateAddRelatedParty" label="Add Related Party" iconName="action:new_account" iconPosition="left" onclick="{!c.showNewRelatedPartyModal}"/>-->
              <aura:if isTrue="{!v.clientTypeVal =='NBFS Trust'}">
                <!-- TEJESH: Modified the button function to handleAddUpdateRealtedpartyWrapper for W-024874 on 21-Oct-2022 -->
                <lightning:button
                  variant="brand"
                  disabled="{!(!or(v.isPersonAccount,v.clientTypeVal !='NBFS Trust'))}"
                  aura:id="btnCreateAddRelatedParty"
                  label="Add Related Party"
                  iconName="action:new_account"
                  iconPosition="left"
                  onclick="{!c.handleAddUpdateRealtedpartyWrapper}"
                />
                <aura:set attribute="else">
                  <lightning:button
                    variant="brand"
                    disabled="{!v.disableAddRelatedPartyBtn}"
                    aura:id="btnCreateAddRelatedParty"
                    label="Add Related Party"
                    iconName="action:new_account"
                    iconPosition="left"
                    onclick="{!c.handleAddUpdateRealtedpartyWrapper}"
                  />
                </aura:set>
              </aura:if>
            </aura:if>

            <aura:if isTrue="{!v.isLimitReached}">
              <span>
                <p>{!v.searchLimitMsg}</p>
              </span>
            </aura:if>
          </aura:if>
        </lightning:layoutItem>
      </lightning:layout>
    </div>

    <aura:if isTrue="{!v.showSearchByNameCIFSection}">
      <!--Search by Name dropdown -->
      <div class="c-container">
        <lightning:layout multipleRows="true">
          <!--Fields-->
          <lightning:layoutItem padding="around-small">
            <lightning:select
              aura:id="searchByNameCIF"
              label="Select CIF to view additional details"
              name="searchByNameCIF"
              onchange="{! c.callGoldenSources}"
            >
              <option value="None" text="--- None ---"></option>
              <aura:iteration
                items="{!v.searchByNameResultOption}"
                var="eachResult"
              >
                <option value="{!eachResult.value}">{!eachResult.label}</option>
              </aura:iteration>
            </lightning:select>
          </lightning:layoutItem>
        </lightning:layout>
      </div>
    </aura:if>

    <!-- Client search results -->
    <div aura:id="ClientResultTable" class="slds-grid slds-gutters slds-hide">
      <div class="slds-col slds-size_3-of-3">
        <h3 class="slds-section__title">
          <button
            aria-controls="expando-unique-id"
            aria-expanded="true"
            class="slds-button slds-section__title-action customSectionButton"
          >
            <span class="slds-truncate" title="Participants"
              >Client Search Results</span
            >
          </button>
        </h3>
        <lightning:datatable
          class="table-ClientResult"
          data="{! v.accountsReturned}"
          columns="{! v.clientSearchResultColumns }"
          keyField="Id"
          onrowselection="{!c.setClientSelected}"
          maxRowSelection="{!v.maxRowSelection}"
          aura:id="clientSearchdataTable"
        />
      </div>
    </div>

    <br />
    <!-- Client Basic Info - Individual Account Branch -->
    <aura:if isTrue="{! v.showTitleError }">
      <c:BranchDialog
        showDialog="{! v.showTitleError }"
        heading="Invalid Field Value"
        message="{! v.errorMessage }"
      />
    </aura:if>
    <aura:if
      isTrue="{!and(v.isPersonAccount, v.showBranchCreateIndividualProspectOnboarding)}"
    >
      <!-- <aura:if isTrue="{!v.ProcessName == 'NewProductOnboarding'}">Added by Sharath - START-->
      <div class="row">
        <div class="slds-p-horizontal--small column" style="width: 55%">
          <!-- column class added by Sharath -->
          <table style="width: 100%">
            <tr>
              <td colspan="2" style="width: 100%">
                <h3 class="slds-section__title">
                  <button
                    aria-controls="expando-unique-id"
                    aria-expanded="true"
                    class="slds-button slds-section__title-action slds-truncate"
                  >
                    <span class="slds-truncate" title="Participants"
                      >Individual Client Information</span
                    >
                  </button>
                </h3>
              </td>
            </tr>
            <lightning:layout multipleRows="true">
              <lightning:layoutItem padding="horizontal-small" size="3">
                <aura:if isTrue="{!v.accountSelected.Id}">
                  <lightning:recordEditForm
                    aura:id="Branch_personal_Individual"
                    recordId="{! v.accountSelected.Id}"
                    objectApiName="Account"
                    onload="{! c.TitlesAndIDLoaded }"
                    onsubmit="{! c.TitlesAndIDSubmit }"
                    onerror="{! c.TitlesAndIDError }"
                    onsuccess="{! c.TitlesAndIDSuccess }"
                    density="comfy"
                  >
                    <lightning:inputField
                      aura:id="BranchTitles"
                      fieldName="Titles__pc"
                      value="{! v.BranchPersonTitle}"
                    />
                    <lightning:inputField
                      aura:id="BranchIDType"
                      fieldName="ID_Type__pc"
                      class="hidden_field"
                      value="SA Identity Document"
                    />
                    <lightning:inputField
                      aura:id="ValidUpdateBypass"
                      fieldName="Valid_Update_Bypass__c"
                      class="hidden_field"
                      value="true"
                    />
                    <button
                      id="{! globalId + 'branch_personal_Individual_submit' }"
                      type="submit"
                      class="hidden_field"
                    />
                  </lightning:recordEditForm>
                </aura:if>
              </lightning:layoutItem>
              <aura:if isTrue="{! v.BranchLoading }">
                <div class="slds-spinner_container">
                  <div
                    role="status"
                    class="slds-spinner slds-spinner_medium slds-spinner_brand"
                  >
                    <span class="slds-assistive-text">Loading</span>
                    <div class="slds-spinner__dot-a" />
                    <div class="slds-spinner__dot-b" />
                  </div>
                </div>
              </aura:if>
            </lightning:layout>
            <tr>
              <td style="width: 40%">
                <b
                  ><label class="slds-form-element__label" for="firstName"
                    >Name:
                  </label>
                </b>
                <br />
                <ui:outputText
                  value="{!v.accountSelected.Salutation + ' ' + v.accountSelected.FirstName + ' ' + v.accountSelected.LastName}"
                  aura:id="Name"
                />
                <br />
              </td>
              <td style="width: 60%">
                <b
                  ><label class="slds-form-element__label" for="cifNo"
                    >CIF Number:
                  </label>
                </b>
                <br />
                <ui:outputText
                  value="{!v.accountSelected.CIF__c}"
                  aura:id="cifNo"
                />
                <br />
              </td>
            </tr>
            <tr>
              <td style="width: 40%">
                <b
                  ><label class="slds-form-element__label" for="idNo"
                    >ID Number:
                  </label>
                </b>
                <br />
                <ui:outputText
                  value="{!v.accountSelected.ID_Number__pc}"
                  aura:id="idNo"
                />
                <br />
              </td>
              <td style="width: 60%">
                <b
                  ><label class="slds-form-element__label" for="mobileNo"
                    >Mobile Phone:
                  </label>
                </b>
                <br />
                <ui:outputText
                  value="{!v.accountSelected.PersonMobilePhone}"
                  aura:id="mobilePhone"
                />
                <br />
              </td>
            </tr>
            <tr>
              <td style="width: 100%"></td>
            </tr>
            <tr>
              <td style="width: 100%" class="slds-form-element__label">
                <lightning:radioGroup
                  name="radioGroupConsent"
                  label="I confirm that I have asked the customer permission to contact them on the above mentioned number
                                                                 should they not be able to complete their application and the customer said :"
                  options="{! v.consentOptions }"
                  value="{! v.consentVal }"
                  type="radio"
                  required="true"
                  onchange="{! c.confirmSelection }"
                />
              </td>
            </tr>
          </table>
          <br />
        </div>
        <div class="slds-p-horizontal--small column" style="width: 45%">
          <!--Added by Sharath - START-->
          <!--link Accounts-->
          <!--<aura:if isTrue="{!v.serviceGroup}"-->
          <!-- Harish Kolla: Production Incident: INC4897275 - Added Logged in Profile check-->
          <aura:if
            isTrue="{! v.loggedinUserProfile != 'Standard User (Wills Registration Clerk)'}"
          >
            <table style="width: 100%">
              <tr>
                <td colspan="2" style="width: 100%">
                  <h3 class="slds-section__title">
                    <button
                      aria-controls="expando-unique-id"
                      aria-expanded="true"
                      class="slds-button slds-section__title-action slds-truncate"
                    >
                      <span class="slds-truncate" title="Participants"
                        >FICA Health Compliance</span
                      >
                    </button>
                  </h3>
                </td>
              </tr>
              <tr>
                <c:ComplianceViewWidget
                  recordId="{!v.accountId}"
                  showHeader="false"
                />
              </tr>
            </table>
          </aura:if>
          <!--/aura:if-->
        </div>
      </div>
      <!--Added by Sharath - END-->
      <!-- <aura:set attribute="else">
                    <div class="slds-p-horizontalsmall">
                        <table style="width:100%">
                            <tr>
                                <td colspan="2" style="width:100%">
                                    <h3 class="slds-section__title">
                                        <button aria-controls="expando-unique-id" aria-expanded="true" class="slds-button slds-section__title-action slds-truncate">
                                            <span class="slds-truncate" title="Participants">Individual Client Information</span>
                                        </button>
                                    </h3>
                                </td>
                            </tr>

                            <tr>
                                <td style="width:40%">
                                    <b><label class="slds-form-element__label" for="firstName">Name: </label> </b> <br/>
                                    <ui:outputText value="{!v.accountSelected.Salutation + ' ' + v.accountSelected.FirstName + ' ' + v.accountSelected.LastName}"  aura:id="Name"/> <br/>
                                </td>
                                <td style="width:60%">
                                    <b><label class="slds-form-element__label" for="cifNo">CIF Number: </label> </b> <br/>
                                    <ui:outputText value="{!v.accountSelected.CIF__c}"  aura:id="cifNo"/> <br/>
                                </td>
                            </tr>
                            <tr>
                                <td style="width:40%">
                                    <b><label class="slds-form-element__label" for="idNo">ID Number: </label> </b> <br/>
                                    <ui:outputText value="{!v.accountSelected.ID_Number__pc}"  aura:id="idNo"/> <br/>
                                </td>
                                <td style="width:60%">
                                    <b><label class="slds-form-element__label" for="mobileNo">Mobile Phone: </label> </b> <br/>
                                    <ui:outputText value="{!v.accountSelected.PersonMobilePhone}"  aura:id="mobilePhone"/> <br/>
                                </td>
                            </tr>
                            <tr>
                                <td style="width:100%"></td>
                            </tr>
                            <tr>
                                <td style="width:100%" class="slds-form-element__label">
                                    <lightning:radioGroup name="radioGroupConsent"
                                                          label="I confirm that I have asked the customer permission to contact them on the above mentioned number
                                                                 should they not be able to complete their application and the customer said :"
                                                          options="{! v.consentOptions }"
                                                          value="{! v.consentVal }"
                                                          type="radio"
                                                          required="true"
                                                          onchange="{! c.confirmSelection }"
                                                          />

                                </td>
                            </tr>
                        </table>
                        <br/>
                    </div>
                </aura:set>
            </aura:if>-->
    </aura:if>

    <!--link Accounts-->
    <aura:if
      isTrue="{!and(v.FlowName == 'Linking accounts into a Package',v.showLinkingaccountsintoaPackage)}"
    >
      <aura:if isTrue="{!(v.isBranchLinkingSelected)}">
        <div class="slds-p-horizontal--small">
          <table style="width: 100%">
            <tr>
              <td colspan="2" style="width: 100%">
                <h3 class="slds-section__title">
                  <button
                    aria-controls="expando-unique-id"
                    aria-expanded="true"
                    class="slds-button slds-section__title-action slds-truncate"
                  >
                    <span class="slds-truncate" title="ParticipantsLink"
                      >Individual Client Information</span
                    >
                  </button>
                </h3>
              </td>
            </tr>
            <lightning:layout multipleRows="true">
              <lightning:layoutItem padding="horizontal-small" size="3">
                <b
                  ><label class="slds-form-element__label" for="firstNameLink"
                    >Name:
                  </label>
                </b>
                <br />
                <ui:outputText
                  value="{!v.accountSelected.Salutation + ' ' + v.accountSelected.FirstName + ' ' + v.accountSelected.LastName}"
                  aura:id="NameLink"
                />
                <br />
              </lightning:layoutItem>
              <lightning:layoutItem padding="horizontal-small" size="3">
                <b
                  ><label class="slds-form-element__label" for="cifNoLink"
                    >CIF Number:
                  </label>
                </b>
                <br />
                <ui:outputText
                  value="{!v.accountSelected.CIF__c}"
                  aura:id="cifNoLink"
                />
                <br />
              </lightning:layoutItem>
            </lightning:layout>

            <lightning:layout multipleRows="true">
              <lightning:layoutItem padding="horizontal-small" size="3">
                <b
                  ><label class="slds-form-element__label" for="idNoLink"
                    >ID Number:
                  </label>
                </b>
                <br />
                <ui:outputText
                  value="{!v.accountSelected.ID_Number__pc}"
                  aura:id="idNoLink"
                />
                <br />
              </lightning:layoutItem>
              <lightning:layoutItem padding="horizontal-small" size="3">
                <b
                  ><label class="slds-form-element__label" for="mobilePhoneLink"
                    >Mobile Phone:
                  </label>
                </b>
                <br />
                <ui:outputText
                  value="{!v.accountSelected.PersonMobilePhone}"
                  aura:id="mobilePhoneLink"
                />
                <br />
              </lightning:layoutItem>
            </lightning:layout>
            <tr>
              <td style="width: 100%"></td>
            </tr>
            <tr>
              <td style="width: 100%" class="slds-form-element__label">
                <lightning:radioGroup
                  name="radioGroupConsentLink"
                  label="I confirm that I have asked the customer permission to contact them on the above mentioned number
                                                             should they not be able to complete their application and the customer said :"
                  options="{! v.consentOptions }"
                  value="{! v.consentVal }"
                  type="radio"
                  required="true"
                  onchange="{! c.confirmSelectionLink }"
                />
              </td>
            </tr>
          </table>
        </div>
      </aura:if>
    </aura:if>

    <!-- Delinking -->
    <aura:if isTrue="{!v.showDelinkingAccountsFromPackage}">
      <aura:if isTrue="{!(v.isBranchLinkingSelected)}">
        <div class="slds-p-horizontal--small">
          <table style="width: 100%">
            <tr>
              <td colspan="2" style="width: 100%">
                <h3 class="slds-section__title">
                  <button
                    aria-controls="expando-unique-id"
                    aria-expanded="true"
                    class="slds-button slds-section__title-action slds-truncate"
                  >
                    <span class="slds-truncate" title="ParticipantsLink"
                      >Individual Client Information</span
                    >
                  </button>
                </h3>
              </td>
            </tr>
            <lightning:layout multipleRows="true">
              <lightning:layoutItem padding="horizontal-small" size="3">
                <b
                  ><label class="slds-form-element__label" for="firstNameLink"
                    >Name:
                  </label>
                </b>
                <br />
                <ui:outputText
                  value="{!v.accountSelected.Salutation + ' ' + v.accountSelected.FirstName + ' ' + v.accountSelected.LastName}"
                  aura:id="NameLink"
                />
                <br />
              </lightning:layoutItem>
              <lightning:layoutItem padding="horizontal-small" size="3">
                <b
                  ><label class="slds-form-element__label" for="cifNoLink"
                    >CIF Number:
                  </label>
                </b>
                <br />
                <ui:outputText
                  value="{!v.accountSelected.CIF__c}"
                  aura:id="cifNoLink"
                />
                <br />
              </lightning:layoutItem>
            </lightning:layout>

            <lightning:layout multipleRows="true">
              <lightning:layoutItem padding="horizontal-small" size="3">
                <b
                  ><label class="slds-form-element__label" for="idNoLink"
                    >ID Number:
                  </label>
                </b>
                <br />
                <ui:outputText
                  value="{!v.accountSelected.ID_Number__pc}"
                  aura:id="idNoLink"
                />
                <br />
              </lightning:layoutItem>
              <lightning:layoutItem padding="horizontal-small" size="3">
                <b
                  ><label class="slds-form-element__label" for="mobilePhoneLink"
                    >Mobile Phone:
                  </label>
                </b>
                <br />
                <ui:outputText
                  value="{!v.accountSelected.PersonMobilePhone}"
                  aura:id="mobilePhoneLink"
                />
                <br />
              </lightning:layoutItem>
            </lightning:layout>
            <tr>
              <td style="width: 100%"></td>
            </tr>
          </table>

          <!--Delinking Maintanence -->
          <lightning:layoutItem padding="around-small" size="12">
            <div aura:id="StartLinkButton" class="slds-grid slds-gutters">
              <aura:if isTrue="{!v.showDelinkingAccountsFromPackage}">
                <lightning:layoutItem padding="around-small" size="6">
                  <lightning:button
                    name="bio"
                    label="Complete customer biometrics"
                    variant="brand"
                    onclick="{!c.handleStartDelink}"
                  />
                </lightning:layoutItem>
              </aura:if>
            </div>
          </lightning:layoutItem>
        </div>
      </aura:if>
    </aura:if>
    <!-- //Delinking -->

    <!-- Client Basic Info - Individual Account-->
    <aura:if
      isTrue="{!and(v.isPersonAccount, (v.showBranchCreateIndividualProspectOnboarding==false))}"
    >
      <!--<aura:if isTrue="{!v.isPersonAccount}"> -->
      <!-- <aura:if isTrue="{!v.ProcessName == 'NewProductOnboarding'}">-Added by Sharath - START-->
      <aura:if
        isTrue="{!and ((v.showLinkingaccountsintoaPackage == false), (v.showDelinkingAccountsFromPackage == false))}"
      >
        <div class="row">
          <div class="slds-p-horizontal--small column" style="width: 55%">
            <table style="width: 100%">
              <tr>
                <td colspan="2" style="width: 50%">
                  <h3 class="slds-section__title">
                    <button
                      aria-controls="expando-unique-id"
                      aria-expanded="true"
                      class="slds-button slds-section__title-action slds-truncate"
                    >
                      <span class="slds-truncate" title="Participants"
                        >Individual Client Information</span
                      >
                    </button>
                  </h3>
                </td>
              </tr>
              <tr>
                <td style="width: 40%">
                  <b
                    ><label class="slds-form-element__label" for="firstName"
                      >&nbsp;Name:
                    </label>
                  </b>
                  <br /> &nbsp;<ui:outputText
                    value="{!v.accountSelected.Salutation + ' ' + v.accountSelected.FirstName + ' ' + v.accountSelected.LastName}"
                    aura:id="Name"
                  />
                  <br />
                </td>
                <td style="width: 60%">
                  <b
                    ><label class="slds-form-element__label" for="cifNo"
                      >CIF Number:
                    </label>
                  </b>
                  <br />
                  <ui:outputText
                    value="{!v.accountSelected.CIF__c}"
                    aura:id="cifNo"
                  />
                  <br />
                </td>
              </tr>
              <tr>
                <td style="width: 40%">
                  <b
                    ><label class="slds-form-element__label" for="idNo"
                      >&nbsp;ID Number:
                    </label>
                  </b>
                  <br /> &nbsp;<ui:outputText
                    value="{!v.accountSelected.ID_Number__pc}"
                    aura:id="idNo"
                  />
                  <br />
                </td>
                <td style="width: 60%">
                  <b
                    ><label class="slds-form-element__label" for="commMethod"
                      >Preferred Communication Method:
                    </label>
                  </b>
                  <br />
                  <ui:outputText
                    value="{!v.accountSelected.Communication_Method__c}"
                    aura:id="commMethod"
                  />
                  <br />
                </td>
              </tr>
              <tr>
                <td style="width: 40%">
                  <b
                    ><label class="slds-form-element__label" for="mobileNo"
                      >&nbsp;Mobile Phone:
                    </label>
                  </b>
                  <br /> &nbsp;<ui:outputText
                    value="{!v.accountSelected.PersonMobilePhone}"
                    aura:id="mobilePhone"
                  />
                  <br />
                </td>
                <td style="width: 60%">
                  <b
                    ><label class="slds-form-element__label" for="homePhone"
                      >Home Phone:
                    </label>
                  </b>
                  <br />
                  <ui:outputText
                    value="{!v.accountSelected.PersonHomePhone}"
                    aura:id="homePhone"
                  />
                  <br />
                </td>
              </tr>
              <tr>
                <td style="width: 40%">
                  <!--added by short term insurance-->
                  <aura:if isTrue="{!v.showShortTermInsuranceFields}">
                    <b
                      ><label class="slds-form-element__label" for="workPhone"
                        >Work Phone:
                      </label>
                    </b>
                    <br />
                    <ui:outputText
                      value="{!v.accountSelected.Work_Phone__c}"
                      aura:id="workPhone"
                    />
                    <br />
                    <aura:set attribute="else">
                      <b
                        ><label class="slds-form-element__label" for="workPhone"
                          >Work Phone:
                        </label>
                      </b>
                      <br />
                      <ui:outputText
                        value="{!v.accountSelected.Phone}"
                        aura:id="workPhone"
                      />
                      <br />
                    </aura:set>
                  </aura:if>
                </td>
                <td style="width: 60%">
                  <b
                    ><label class="slds-form-element__label" for="emailAddress"
                      >Email:
                    </label>
                  </b>
                  <br />
                  <ui:outputText
                    value="{!v.accountSelected.PersonEmail}"
                    aura:id="emailAddress"
                  />
                  <br />
                </td>
              </tr>
              <tr>
                <td colspan="2" style="width: 100%">
                  <h3 class="slds-section__title">
                    <button
                      aria-controls="expando-unique-id"
                      aria-expanded="true"
                      class="slds-button slds-section__title-action customSubSectionButton"
                    >
                      <span class="slds-truncate" title="Participants"
                        >Additional Information</span
                      >
                    </button>
                  </h3>
                </td>
              </tr>
              <tr>
                <td style="width: 40%">
                  <b>
                    <label
                      class="slds-form-element__label"
                      for="physicalAddress"
                      >Physical Address:
                    </label>
                  </b>
                  <br />
                  <ui:outputText
                    value="{!v.accountSelected.ShippingStreet}"
                    aura:id="physicalAddress"
                  />
                  <br />
                  <ui:outputText
                    value="{!v.accountSelected.ShippingCity}"
                    aura:id="physicalAddress"
                  />
                  <br />
                  <ui:outputText
                    value="{!v.accountSelected.ShippingPostalCode}"
                    aura:id="physicalAddress"
                  />
                  <br />
                </td>
                <td style="width: 60%">
                  <b
                    ><label class="slds-form-element__label" for="postalAddress"
                      >Residential Address:
                    </label>
                  </b>
                  <br />
                  <ui:outputText
                    value="{!v.accountSelected.BillingStreet}"
                    aura:id="postalAddress"
                  />
                  <br />
                  <ui:outputText value="{!v.accountSelected.BillingCity}" />
                  <br />
                  <ui:outputText
                    value="{!v.accountSelected.BillingPostalCode}"
                  />
                  <br />
                  <ui:outputText value="{!v.accountSelected.BillingCountry}" />
                  <br />
                </td>
              </tr>
            </table>
            <br />
          </div>
          <div class="slds-p-horizontal--small column" style="width: 45%">
            <!--Added by Sharath - START-->
            <!--aura:if isTrue="{!v.serviceGroup}"-->
            <!-- Harish Kolla: Production Incident: INC4897275 - Added Logged in Profile check-->
            <aura:if
              isTrue="{! v.loggedinUserProfile != 'Standard User (Wills Registration Clerk)'}"
            >
              <table style="width: 100%">
                <tr>
                  <td colspan="2" style="width: 100%">
                    <h3 class="slds-section__title">
                      <button
                        aria-controls="expando-unique-id"
                        aria-expanded="true"
                        class="slds-button slds-section__title-action slds-truncate"
                      >
                        <span class="slds-truncate" title="Participants"
                          >FICA Health Compliance</span
                        >
                      </button>
                    </h3>
                  </td>
                </tr>
                <tr>
                  <c:ComplianceViewWidget
                    recordId="{!v.accountId}"
                    showHeader="false"
                  />
                </tr>
              </table>
            </aura:if>
            <!--/aura:if-->
          </div>
        </div>
        <!--Added by Sharath - END-->
        <!-- <aura:set attribute="else">
                    <div class="slds-p-horizontal-small">
                        <table style="width:100%">
                            <tr>
                                <td colspan="2" style="width:100%">
                                    <h3 class="slds-section__title">
                                        <button aria-controls="expando-unique-id" aria-expanded="true" class="slds-button slds-section__title-action slds-truncate">
                                            <span class="slds-truncate" title="Participants">Individual Client Information</span>
                                        </button>
                                    </h3>
                                </td>
                            </tr>

                            <tr>
                                <td style="width:40%">
                                    <b><label class="slds-form-element__label" for="firstName">Name: </label> </b> <br/>
                                    <ui:outputText value="{!v.accountSelected.Salutation + ' ' + v.accountSelected.FirstName + ' ' + v.accountSelected.LastName}"  aura:id="Name"/> <br/>
                                </td>
                                <td style="width:60%">
                                    <b><label class="slds-form-element__label" for="cifNo">CIF Number: </label> </b> <br/>
                                    <ui:outputText value="{!v.accountSelected.CIF__c}"  aura:id="cifNo"/> <br/>
                                </td>
                            </tr>
                            <tr>
                                <td style="width:40%">
                                    <b><label class="slds-form-element__label" for="idNo">ID Number: </label> </b> <br/>
                                    <ui:outputText value="{!v.accountSelected.ID_Number__pc}"  aura:id="idNo"/> <br/>
                                </td>
                                <td style="width:60%">
                                    <b><label class="slds-form-element__label" for="commMethod">Preferred Communication Method: </label> </b> <br/>
                                    <ui:outputText value="{!v.accountSelected.Communication_Method__c}"  aura:id="commMethod"/> <br/>
                                </td>
                            </tr>
                            <tr>
                                <td style="width:40%">
                                    <b><label class="slds-form-element__label" for="mobileNo">Mobile Phone: </label> </b> <br/>
                                    <ui:outputText value="{!v.accountSelected.PersonMobilePhone}"  aura:id="mobilePhone"/> <br/>
                                </td>
                                <td style="width:60%">
                                    <b><label class="slds-form-element__label" for="homePhone">Home Phone: </label> </b> <br/>
                                    <ui:outputText value="{!v.accountSelected.PersonHomePhone}"  aura:id="homePhone"/> <br/>
                                </td>
                            </tr>
                            <tr>
                                <td style="width:40%">
                                    <b><label class="slds-form-element__label" for="workPhone">Work Phone: </label> </b> <br/>
                                    <ui:outputText value="{!v.accountSelected.Phone}"  aura:id="workPhone"/> <br/>
                                </td>
                                <td style="width:60%">
                                    <b><label class="slds-form-element__label" for="emailAddress">Email: </label> </b> <br/>
                                    <ui:outputText value="{!v.accountSelected.PersonEmail}"  aura:id="emailAddress"/> <br/>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2" style="width:100%">
                                    <h3 class="slds-section__title">
                                        <button aria-controls="expando-unique-id" aria-expanded="true" class="slds-button slds-section__title-action customSubSectionButton">
                                            <span class="slds-truncate" title="Participants">Additional Information</span>
                                        </button>
                                    </h3>
                                </td>

                            </tr>
                            <tr>
                                <td style="width:40%">
                                    <b> <label class="slds-form-element__label" for="physicalAddress">Physical Address: </label> </b> <br/>
                                    <ui:outputText value="{!v.accountSelected.ShippingStreet}"  aura:id="physicalAddress"/> <br/>
                                    <ui:outputText value="{!v.accountSelected.ShippingCity}"  aura:id="physicalAddress"/> <br/>
                                    <ui:outputText value="{!v.accountSelected.ShippingPostalCode}"  aura:id="physicalAddress"/> <br/>
                                </td>
                                <td style="width:60%">
                                    <b><label class="slds-form-element__label" for="postalAddress">Residential Address: </label> </b> <br/>
                                    <ui:outputText value="{!v.accountSelected.BillingStreet}" aura:id="postalAddress" /> <br/>
                                    <ui:outputText value="{!v.accountSelected.BillingCity}"/> <br/>
                                    <ui:outputText value="{!v.accountSelected.BillingPostalCode}"/> <br/>
                                    <ui:outputText value="{!v.accountSelected.BillingCountry}"/> <br/>
                                </td>
                            </tr>
                        </table>
                        <br/>
                    </div>

                </aura:set>
            </aura:if>-->
      </aura:if>
    </aura:if>

    <!--
 <lightning:button variant="brand"  label="{!v.jobname.Service_Type__r.Name}" title="Brand action" onclick="{! c.handleClick }" />
        -->

    <!-- Client Basic Info - Business Account -->
    <aura:if isTrue="{!v.isBusinessAccount}">
      <!-- <aura:if isTrue="{!v.ProcessName == 'NewProductOnboarding'}"><!Added by Sharath - START-->
      <div class="row">
        <div class="slds-p-horizontal--small column" style="width: 55%">
          <!-- column class added by Sharath -->
          <table style="width: 100%">
            <tr>
              <td colspan="2" style="width: 100%">
                <h3 class="slds-section__title">
                  <button
                    aria-controls="expando-unique-id"
                    aria-expanded="true"
                    class="slds-button slds-section__title-action customSubSectionButton"
                  >
                    <span class="slds-truncate" title="Participants"
                      >Business Client Information</span
                    >
                  </button>
                </h3>
              </td>
            </tr>
            <tr>
              <td style="width: 40%">
                <b
                  ><label class="slds-form-element__label" for="Name"
                    >Name:
                  </label>
                </b>
                <br />
                <ui:outputText
                  value="{!v.accountSelected.Name}"
                  aura:id="Name"
                /><br />
              </td>
              <td style="width: 60%">
                <b
                  ><label class="slds-form-element__label" for="cifNo"
                    >CIF Number:
                  </label>
                </b>
                <br />
                <ui:outputText
                  value="{!v.accountSelected.CIF__c}"
                  aura:id="cifNo"
                /><br />
              </td>
            </tr>
            <tr>
              <td style="width: 40%">
                <b
                  ><label class="slds-form-element__label" for="workPhone"
                    >Work Phone:
                  </label>
                </b>
                <br />
                <ui:outputText
                  value="{!v.accountSelected.Phone}"
                  aura:id="workPhone"
                /><br />
              </td>
              <td style="width: 60%">
                <b
                  ><label class="slds-form-element__label" for="commMethod"
                    >Preferred Communication Method:
                  </label>
                </b>
                <br />
                <ui:outputText
                  value="{!v.accountSelected.Communication_Method__c}"
                  aura:id="commMethod"
                /><br />
              </td>
            </tr>
            <tr>
              <td colspan="2" style="width: 100%">
                <h3 class="slds-section__title">
                  <button
                    aria-controls="expando-unique-id"
                    aria-expanded="true"
                    class="slds-button slds-section__title-action customSubSectionButton"
                  >
                    <span class="slds-truncate" title="Participants"
                      >Additional Information</span
                    >
                  </button>
                </h3>
              </td>
            </tr>
            <tr>
              <td style="width: 40%">
                <b
                  ><label class="slds-form-element__label" for="physicalAddress"
                    >Physical Address:
                  </label>
                </b>
                <br />
                <ui:outputText
                  value="{!v.accountSelected.ShippingStreet}"
                  aura:id="physicalAddress"
                />
                <br />
                <ui:outputText
                  value="{!v.accountSelected.ShippingCity}"
                  aura:id="physicalAddress"
                />
                <br />
                <ui:outputText
                  value="{!v.accountSelected.ShippingPostalCode}"
                  aura:id="physicalAddress"
                />
                <br />
              </td>
              <td style="width: 60%">
                <b
                  ><label class="slds-form-element__label" for="postalAddress"
                    >Postal Address:
                  </label>
                </b>
                <br />
                <ui:outputText
                  value="{!v.accountSelected.BillingStreet}"
                  aura:id="postalAddress"
                />
                <br />
                <ui:outputText value="{!v.accountSelected.BillingCity}" />
                <br />
                <ui:outputText value="{!v.accountSelected.BillingPostalCode}" />
                <br />
              </td>
            </tr>
          </table>
          <br />
          <!-- Added By Anand Manhas : Non Individual Attestation  -->        
          <aura:if isTrue="{!OR(v.ProcessName == 'NewProductOnboarding', v.accountSelected.Compliance_Status__c=='Compliant')}">
            <c:NonIndividualAttestation accountRecord="{!v.accountSelected}"/> 
        </aura:if>
       

        <!-- End Anand Manhas : Non Individual Attestation -->
        </div>
        <div class="slds-p-horizontal--small column" style="width: 45%">
          <!-- column class added by Sharath -->
          <!--aura:if isTrue="{!v.serviceGroup}"-->
          <!-- Harish Kolla: Production Incident: INC4897275 - Added Logged in Profile check-->
          <aura:if
            isTrue="{! v.loggedinUserProfile != 'Standard User (Wills Registration Clerk)'}"
          >
            <table style="width: 100%">
              <tr>
                <td colspan="2" style="width: 100%">
                  <h3 class="slds-section__title">
                    <button
                      aria-controls="expando-unique-id"
                      aria-expanded="true"
                      class="slds-button slds-section__title-action slds-truncate"
                    >
                      <span class="slds-truncate" title="Participants"
                        >FICA Health Compliance</span
                      >
                    </button>
                  </h3>
                </td>
              </tr>
              <tr>
                <c:ComplianceViewWidget
                  recordId="{!v.accountId}"
                  showHeader="false"
                />
              </tr>
            </table>
          </aura:if>
          <!--/aura:if-->
        </div>
      </div>
      <!--Added by Sharath - END-->
      <!-- <aura:set attribute="else">
                    <div class="slds-p-horizontalsmall">
                        <table style="width:100%">
                            <tr >
                                <td colspan="2" style="width:100%">
                                    <h3 class="slds-section__title">
                                        <button aria-controls="expando-unique-id" aria-expanded="true" class="slds-button slds-section__title-action customSubSectionButton">
                                            <span class="slds-truncate" title="Participants">Business Client Information</span>
                                        </button>
                                    </h3>
                                </td>
                            </tr>
                            <tr>
                                <td style="width:40%">
                                    <b><label class="slds-form-element__label" for="Name">Name: </label> </b> <br/>
                                    <ui:outputText value="{!v.accountSelected.Name}"  aura:id="Name"/><br/>
                                </td>
                                <td style="width:60%">
                                    <b><label class="slds-form-element__label" for="cifNo">CIF Number: </label> </b> <br/>
                                    <ui:outputText value="{!v.accountSelected.CIF__c}"  aura:id="cifNo"/><br/>
                                </td>
                            </tr>
                            <tr>
                                <td style="width:40%">
                                    <b><label class="slds-form-element__label" for="workPhone">Work Phone: </label> </b>  <br/>
                                    <ui:outputText value="{!v.accountSelected.Phone}"  aura:id="workPhone"/><br/>
                                </td>
                                <td style="width:60%">
                                    <b><label class="slds-form-element__label" for="commMethod">Preferred Communication Method: </label> </b> <br/>
                                    <ui:outputText value="{!v.accountSelected.Communication_Method__c}"  aura:id="commMethod"/><br/>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2" style="width:100%">
                                    <h3 class="slds-section__title">
                                        <button aria-controls="expando-unique-id" aria-expanded="true" class="slds-button slds-section__title-action customSubSectionButton">
                                            <span class="slds-truncate" title="Participants">Additional Information</span>
                                        </button>
                                    </h3>
                                </td>
                            </tr>
                            <tr>
                                <td style="width:40%">
                                    <b><label class="slds-form-element__label" for="physicalAddress">Physical Address: </label> </b> <br/>
                                    <ui:outputText value="{!v.accountSelected.ShippingStreet}"  aura:id="physicalAddress"/> <br/>
                                    <ui:outputText value="{!v.accountSelected.ShippingCity}"  aura:id="physicalAddress"/> <br/>
                                    <ui:outputText value="{!v.accountSelected.ShippingPostalCode}"  aura:id="physicalAddress"/> <br/>
                                </td>
                                <td style="width:60%">
                                    <b><label class="slds-form-element__label" for="postalAddress">Postal Address: </label> </b> <br/>
                                    <ui:outputText value="{!v.accountSelected.BillingStreet}" aura:id="postalAddress" /> <br/>
                                    <ui:outputText value="{!v.accountSelected.BillingCity}"/> <br/>
                                    <ui:outputText value="{!v.accountSelected.BillingPostalCode}"/> <br/>
                                </td>
                            </tr>
                        </table>
                        <br/>
                    </div>

                </aura:set>
            </aura:if>-->
    </aura:if>

    <!-- Added for Enquiry Start -->
    <aura:if
      isTrue="{!(
            equals(v.jobname.Service_Type__r.Name, 'CBP Tariff Enquiry')
            || equals(v.jobname.Service_Type__r.Name, 'CBP Charge Enquiry')
            || equals(v.jobname.Service_Type__r.Name, 'Category Change')
            ) }"
    >
      <aura:if isTrue="{!(v.isBranchLinkingSelected)}">
        <div class="slds-p-horizontal--small">
          <table style="width: 100%">
            <tr>
              <td style="width: 100%" class="slds-form-element__label">
                <lightning:radioGroup
                  name="radioGroupConsentLink"
                  label="I confirm that I have asked the customer permission to contact them on the above mentioned number
                                                             should they not be able to complete their application and the customer said :"
                  options="{! v.consentOptions }"
                  value="{! v.consentVal }"
                  type="radio"
                  required="true"
                  onchange="{! c.confirmSelectionLinkEnquiry }"
                />
              </td>
            </tr>
          </table>
        </div>
      </aura:if>
    </aura:if>
    <!-- Added for Enquiry End -->

    <div
      aura:id="ClientOnBoardingbutton"
      class="slds-grid slds-gutters"
      style="text-align: center; display: block"
    >
      <aura:if
        isTrue="{or!(v.isBusinessAccountOnboarding , v.isNewSPMOpportunity,v.isNewCPFOpportunity)}"
      >
        <lightning:button
          variant="brand"
          label="Proceed to New-To-Bank Onboarding"
          title="proceed"
          onclick="{! c.navigateToOnbOardingClientDetails}"
        />
      </aura:if>
    </div>
    <div
      aura:id="ClientIndividualOnBoardingbutton"
      class="slds-grid slds-gutters"
      style="text-align: center; display: block"
    >
      <aura:if
        isTrue="{or(!v.isIndividualAccountOnboarding, v.isNewSPMOpportunity,v.isNewCPFOpportunity)}"
      >
        <aura:if isTrue="{!v.accountSelected.CIF__c == null}">
          <lightning:button
            variant="brand"
            label="Proceed to New-To-Bank Onboarding"
            title="proceed"
            onclick="{! c.navigateToOnbOardingIndvDetails}"
          />
          <aura:set attribute="else">
            <lightning:button
              variant="brand"
              label="Proceed to Client"
              title="proceed"
              onclick="{! c.navigateToClient}"
            />
          </aura:set>
        </aura:if>
      </aura:if>
    </div>

    <!--TdB - Onboard new Product Existing Customer -->
    <div
      aura:id="iProductOnBoardingbutton"
      class="slds-grid slds-gutters"
      style="text-align: center; display: block"
    >
      <aura:if
        isTrue="{!or(and(v.ProcessName == 'NewProductOnboarding',v.jobname.Process_Type__c == 'Existing Customer'),
                             and(v.ProcessName == 'CAFNewToProduct',v.jobname.Process_Type__c == 'Existing Customer'))}"
      >
        <aura:if
          isTrue="{!and(v.isNewProductOpportunity, v.accountSelected.CIF__c != null)}"
        >
          <lightning:button
            variant="brand"
            label="Proceed to Onboard New Product"
            title="proceed"
            onclick="{! c.navigateToOnboardingBigForm}"
          />
        </aura:if>
          
          
          <!--Added by Denson to accomodate new to bank W-030975-->
          <aura:if isTrue="{!and(v.isNewProductOpportunity, v.accountSelected.CIF__c == null)}"> 
              <lightning:button variant="brand" label="Proceed to New-To-Bank Onboarding" title="proceed"
                                onclick="{! c.navigateToOnboardingBigForm}" />
          </aura:if>
          
      </aura:if>
    </div>
	
	<!-- Link Executor, used to create Account Contact Relation records from Case where account is linked -->
         <aura:if isTrue="{!and(v.createAccConRelation, v.ProcessName == 'AddExecutor')}">
             <div class="slds-grid slds-gutters" style ="text-align: center;display: block;">
             	<lightning:button variant="brand"
                                          label="Link Account"
                                          title="Link Account"
                                          onclick="{!c.setAccContactRelation}"/>
             </div>
    	</aura:if>

    <div
      aura:id="CreateNewCaseButton"
      class="slds-grid slds-gutters"
      style="text-align: center; display: block"
    >
      <aura:if isTrue="{!and(v.showNewCaseCreation, v.isNewCaseCreation)}">
        <aura:if isTrue="{!notequals(v.HomeLoanServiceGroup, 'Home Loans') }">
          <!-- Added for Enquiry Start -->
          <aura:if
            isTrue="{!(
                        notequals(v.jobname.Service_Type__r.Name, 'CBP Tariff Enquiry')
                        &amp;&amp; notequals(v.jobname.Service_Type__r.Name, 'CBP Charge Enquiry')
                        &amp;&amp; notequals(v.jobname.Service_Type__r.Name, 'Category Change')
                    &amp;&amp; notequals(v.jobname.Service_Type__r.Name, 'Issue New Combi Card')
                        ) }"
          >
            <aura:if isTrue="{!v.showPTVbtn == false}">
              <lightning:button
                variant="brand"
                label="Proceed to Create New Case"
                title="proceed"
                onclick="{! c.handleComponentEvent}"
              />
              <aura:set attribute="else">
                <lightning:button
                  variant="brand"
                  label="Proceed to Create New Case"
                  title="proceed"
                  disabled="{!v.disableCreateNewCaseButton}"
                  onclick="{! c.handleComponentEventWithAccountCreating}"
                />
              </aura:set>
            </aura:if>
            <!-- Added for Enquiry End -->
          </aura:if>
        </aura:if>
      </aura:if>
        <!-- issue combi card starts -->
            <aura:if isTrue="{!(v.jobname.Service_Type__r.Name == 'Issue New Combi Card')}">
                <aura:if isTrue="{!v.showPTVbtn == false}">
                    <lightning:button variant="brand"
                                      label="Next"
                                      title="Next"
                                      onclick="{!c.navigateToAccountPage}"/>
                </aura:if>
                <!-- Added for Enquiry End -->
            </aura:if>
            <!-- issue combi card ends -->
      <!-- Added for Home Loans Start -->
      <aura:if isTrue="{!and(v.showNewCaseCreation, v.isNewCaseCreation)}">
        <aura:if isTrue="{!equals(v.HomeLoanServiceGroup, 'Home Loans') }">
          <aura:if
            isTrue="{!or(v.FicLockRequired == false ,and(v.FicLockRequired, equals(v.complianceStatus, 'Compliant')))}"
          >
            <aura:if isTrue="{!v.showPTVbtn == false}">
              <lightning:button
                variant="brand"
                label="Proceed to New Case"
                title="proceed"
                onclick="{! c.handleComponentEvent}"
              />
            </aura:if>
            <lightning:button
              variant="brand"
              label="Proceed to Client"
              title="proceed"
              onclick="{! c.navigateToClient}"
            />
          </aura:if>
        </aura:if>
      </aura:if>

      <!-- Added for Home Loans End -->
    </div>
    <!-- Added By Mohammed junaid U for US W-013580 -->
    <div
      aura:id="ChangeinSICCode"
      class="slds-grid slds-gutters"
      style="text-align: center; display: block"
    >
      <aura:if
        isTrue="{!and(v.ProcessName == 'Update Incorrect SIC Code', v.isSICCodeChange)}"
      >
        <lightning:button
          variant="brand"
          label="Proceed to change SIC Code"
          title="proceed"
          onclick="{! c.navigateToOnboardingBigForm}"
        />
      </aura:if>
    </div>

    <!--DBOOYSEN W-012962 Sales framework-->
    <div
      aura:id="salesOnboardingButton"
      class="slds-grid slds-gutters"
      style="text-align: center; display: block"
    >
      <aura:if
        isTrue="{!and(v.jobname.ObjectRef == 'Sales_Group_Process_Type__c', v.isNewCaseCreation)}"
      >
        <lightning:button
          variant="brand"
          label="Proceed to Sales Onboarding"
          title="Proceed to sales onboarding"
          onclick="{! c.handleSalesOnboarding}"
        />
      </aura:if>
    </div>
    <aura:if isTrue="{!v.showPTVbtn }">
      <div
        class="slds-grid slds-gutters"
        style="text-align: center; display: block"
      >
        <lightning:layoutItem padding="around-small" size="12">
          <lightning:button
            variant="brand"
            aura:id="btnProceedtoVerification"
            label="Proceed to Verification"
            iconName="action:new_account"
            iconPosition="left"
            onclick="{!c.handleProceedToMOV}"
          />
        </lightning:layoutItem>
      </div>
    </aura:if>
    <lightning:layoutItem padding="around-small" size="12">
      <div aura:id="StartOnboardingButton" class="slds-grid slds-gutters">
        <aura:if
          isTrue="{!and(v.isSelectionConfermed,v.showNewProductOnboarding)}"
        >
          <lightning:flow aura:id="flowData" />
          <lightning:layoutItem padding="around-small" size="6">
            <lightning:button
              variant="brand"
              label="Start Product Onboarding"
              title="proceed"
              onclick="{! c.handleStartProductOnboarding}"
            />
          </lightning:layoutItem>
        </aura:if>
      </div>
    </lightning:layoutItem>
    <lightning:layoutItem padding="around-small" size="12">
      <div aura:id="StartLinkButton" class="slds-grid slds-gutters">
        <aura:if
          isTrue="{!and(v.showLinkingButton,v.showLinkingaccountsintoaPackage)}"
        >
          <lightning:flow aura:id="flowLinkData" />
          <lightning:layoutItem padding="around-small" size="6">
            <lightning:button
              variant="brand"
              label="Next"
              title="proceed"
              onclick="{! c.handleStartLink}"
            />
          </lightning:layoutItem>
        </aura:if>
      </div>
    </lightning:layoutItem>
    <!--TdB - Credit Product Creation -->
    <div
      aura:id="NewCreditOpportunity"
      class="slds-grid slds-gutters"
      style="text-align: center; display: block"
    >
      <aura:if
        isTrue="{!and(v.ProcessName=='NewCreditProduct', v.isNewCreditOpportunity)}"
      >
        <lightning:button
          variant="brand"
          label="Proceed to New Credit Product"
          title="proceed"
          onclick="{! c.createCreditOpportunity}"
        />
      </aura:if>
    </div>
    <!-- My Change- AG-->
    <div
      aura:id="NewCreditOpportunity2"
      class="slds-grid slds-gutters"
      style="text-align: center; display: block"
    >
      <!--      <aura:if isTrue="{!and( or(v.ProcessName=='', v.ProcessName=='complexcredit'),( v.isNewCreditOpportunity))}"> -->
      <aura:if
        isTrue="{!and( v.ProcessName=='complexcredit', v.isNewCreditOpportunity)}"
      >
        <lightning:button
          variant="brand"
          label="Proceed to New Complex Credit Opportunity"
          title="proceed"
          onclick="{! c.createComplexCreditOpportunity}"
        />
      </aura:if>
    </div>
    <!--Vara W017542 Added-->
    <div
      aura:id="NewCreditOpportunity3"
      class="slds-grid slds-gutters"
      style="text-align: center; display: block"
    >
      <!--      <aura:if isTrue="{!and( or(v.ProcessName=='', v.ProcessName=='creditfinalisation'),( v.isNewCreditOpportunity))}"> -->
      <aura:if
        isTrue="{!and( v.ProcessName=='creditFinalisation', v.isNewCreditOpportunity)}"
      >
        <lightning:button
          variant="brand"
          label="Proceed to New Credit Finalisation Opportunity"
          title="proceed"
          onclick="{! c.createCreditFinalisationOpportunity}"
        />
      </aura:if>
    </div>

    <!--TdB - Remediate Existing Customer -->
    <div
      aura:id="NewCreditOpportunity"
      class="slds-grid slds-gutters"
      style="text-align: center; display: block"
    >
      <aura:if
        isTrue="{!and(v.ProcessName == 'RemediateExistingCustomer', v.isRemediateExistingCustomer)}"
      >
        <lightning:button
          variant="brand"
          label="Proceed to Customer Remediation"
          title="proceed"
          onclick="{! c.navigateToOnboardingBigForm}"
        />
      </aura:if>
    </div>

    <!--TdB - Credit Covid 19 Product Creation Almas Aleem-->
    <div
      aura:id="CovidOpportunity"
      class="slds-grid slds-gutters"
      style="text-align: center; display: block"
    >
      <aura:if
        isTrue="{!and(v.ProcessName=='NewCreditProduct(Covid-19)', v.isNewCreditOpportunity)}"
      >
        <lightning:button
          variant="brand"
          label="Proceed to New Credit Product"
          title="proceed"
          onclick="{! c.createCovidOpportunity}"
        />
      </aura:if>
    </div>

    <!-- 11/30/2020 Diksha CPF Opp Creation -->
    <div
      aura:id="NewCPFOpportunity"
      class="slds-grid slds-gutters"
      style="text-align: center; display: block"
    >
      <aura:if
        isTrue="{!and(v.ProcessName=='CPFOnboarding', v.isNewCPFOpportunity)}"
      >
        <lightning:button
          variant="brand"
          label="Proceed to New CPF Opportunity"
          title="proceed"
          onclick="{! c.createCPFOpportunity}"
        />
      </aura:if>
    </div>
    <div
      aura:id="NewCAFOpportunity"
      class="slds-grid slds-gutters"
      style="text-align: center; display: block"
    >
      <aura:if
        isTrue="{!and(v.ProcessName=='CAFNewToProduct', v.isNewCAFOpportunity)}"
      >
        <lightning:button
          variant="brand"
          label="Proceed to CAF Opportunity"
          title="proceed"
          onclick="{! c.createCAFOpportunity}"
        />
      </aura:if>
    </div>
    <!-- 14072021 Estste onboarding  -->

    <div
      aura:id="NewEstateOpportunity"
      class="slds-grid slds-gutters"
      style="text-align: center; display: block"
    >
      <aura:if
        isTrue="{!and(v.ProcessName=='Estate Onboarding',v.isNewEstateOpportunity)}"
      >
        <lightning:button
          variant="brand"
          label="Proceed to New Estate Opportunity"
          title="proceed"
          onclick="{! c.estateHandleAddUpdatePrimaryClient}"
        />
      </aura:if>
    </div>
    <!-- 14072021 Wealth offshore onboarding  -->
    <div
      aura:id="NewWealthOpportunity"
      class="slds-grid slds-gutters"
      style="text-align: center; display: block"
    >
      <aura:if
        isTrue="{!and(v.ServiceTypeName=='Wealth Offshore Client Onboarding',v.isWealthOnboarding)}"
      >
        <lightning:button
          variant="brand"
          label="Proceed to Wealth Opportunity"
          title="proceed"
          onclick="{! c.createWealthOpportunity}"
        />
      </aura:if>
    </div>
    <!-- Added By Divya on 27/10/2022 NBFS Trust onboarding  -->
    <div
      aura:id="NewNBFSTrustOpportunity"
      class="slds-grid slds-gutters"
      style="text-align: center; display: block"
    >
      <aura:if
        isTrue="{!and(v.ServiceTypeName=='Fiduciary Onboarding',v.isNBFSTrustOnboarding)}"
      >
        <lightning:button
          variant="brand"
          label="Proceed to NBFS Trust Opportunity"
          title="proceed"
          onclick="{! c.createNBFSTrustOpportunity}"
        />
      </aura:if>
    </div>
    <!--Diksha - SPM Opp Creation -->
    <div
      aura:id="NewSPMOpportunity"
      class="slds-grid slds-gutters"
      style="text-align: center; display: block"
    >
      <aura:if
        isTrue="{!and(v.ProcessName=='SPMOnboarding', v.isNewSPMOpportunity)}"
      >
        <lightning:button
          variant="brand"
          label="Proceed to SPM Opportunity"
          title="proceed"
          onclick="{! c.createSPMOpportunity}"
        />

        <div class="slds-m-around_xx-large">
          <!--Use aura:if tag to display/hide popup based on isModalOpen value-->
          <aura:if isTrue="{!v.isModalOpenforPM}">
            <!-- Modal/Popup Box starts here-->
            <section
              role="dialog"
              tabindex="-1"
              aria-labelledby="modal-heading-01"
              aria-modal="true"
              aria-describedby="modal-content-id-1"
              class="slds-modal slds-fade-in-open"
            >
              <div class="slds-modal__container">
                <!-- Modal/Popup Box Header Starts here-->
                <header class="slds-modal__header">
                  <lightning:buttonIcon
                    iconName="utility:close"
                    onclick="{! c.closeModel }"
                    alternativeText="close"
                    variant="bare-inverse"
                    class="slds-modal__close"
                  />
                  <h2
                    id="modal-heading-01"
                    class="slds-text-heading_medium slds-hyphenate"
                  >
                    Modal/PopUp Box
                  </h2>
                </header>
                <!--Modal/Popup Box Body Starts here-->
                <div
                  class="slds-modal__content slds-p-around_medium"
                  id="modal-content-id-1"
                >
                  <lightning:select
                    aura:id="pmid"
                    label="Portfolio Manager / Financial Advisor"
                    value="{!v.selectedPm}"
                  >
                    <option aura:id="pmNone" value="" text="---None---" />
                    <aura:iteration items="{!v.pmList}" var="pm">
                      <option
                        value="{!pm.value}"
                        text="{!pm.Name}"
                        selected="{!v.selected}"
                      />
                    </aura:iteration>
                  </lightning:select>
                </div>
                <!--Modal/Popup Box Footer Starts here-->
                <footer class="slds-modal__footer">
                  <lightning:button
                    variant="neutral"
                    label="Cancel"
                    title="Cancel"
                    onclick="{! c.closeModel }"
                  />
                  <lightning:button
                    variant="brand"
                    label="OK"
                    title="OK"
                    onclick="{!c.submitDetails}"
                  />
                </footer>
              </div>
            </section>
            <div class="slds-backdrop slds-backdrop_open"></div>
          </aura:if>
        </div>
      </aura:if>
    </div>
    <!-- Related Content -->
    <aura:if isTrue="{!v.isRelatedContent}">
      <!-- Participant Details -->
      <aura:if isTrue="{!v.showParticipantSelection}">
        <aura:if isTrue="{!and(v.isBusinessAccount, v.isCIFSearch)}">
          <lightning:card>
            <aura:set attribute="title">
              <lightning:icon
                iconName="action:new_person_account"
                size="xx-small"
              />
              Participants
            </aura:set>
            <lightning:datatable
              data="{!v.participantData}"
              columns="{!v.clientSearchResultColumns}"
              keyField="Id"
              onrowselection="{!c.setParticipantSelection}"
              maxRowSelection="{!v.maxRowSelection}"
              aura:id="clientParticipantsDataTable"
            />
          </lightning:card>
          <!-- Participant Basic Info -->
          <aura:if isTrue="{!v.isParticipantDetail}">
            <div class="slds-p-horizontal--small">
              <table style="width: 100%">
                <tr>
                  <td colspan="2" style="width: 100%">
                    <h3 class="slds-section__title">
                      <button
                        aria-controls="expando-unique-id"
                        aria-expanded="true"
                        class="slds-button slds-section__title-action customSubSectionButton"
                      >
                        <span class="slds-truncate" title="Participants"
                          >Participant Information</span
                        >
                      </button>
                    </h3>
                  </td>
                </tr>

                <tr>
                  <td style="width: 40%">
                    <b
                      ><label class="slds-form-element__label" for="firstName"
                        >Name:
                      </label>
                    </b>
                    <br />
                    <ui:outputText
                      value="{!v.participantSelected.Salutation + ' ' + v.participantSelected.FirstName + ' ' + v.participantSelected.LastName}"
                      aura:id="Name"
                    />
                    <br />
                  </td>
                  <td style="width: 60%">
                    <b
                      ><label class="slds-form-element__label" for="mobileNo"
                        >Mobile Phone:
                      </label>
                    </b>
                    <br />
                    <ui:outputText
                      value="{!v.participantSelected.PersonMobilePhone}"
                      aura:id="mobilePhone"
                    />
                    <br />
                  </td>
                </tr>
                <tr>
                  <td style="width: 40%">
                    <b
                      ><label class="slds-form-element__label" for="idNo"
                        >ID Number:
                      </label>
                    </b>
                    <br />
                    <ui:outputText
                      value="{!v.participantSelected.ID_Number__pc}"
                      aura:id="idNo"
                    />
                    <br />
                  </td>
                  <td style="width: 60%">
                    <b
                      ><label class="slds-form-element__label" for="homePhone"
                        >Home Phone:
                      </label>
                    </b>
                    <br />
                    <ui:outputText
                      value="{!v.participantSelected.PersonHomePhone}"
                      aura:id="homePhone"
                    />
                    <br />
                  </td>
                </tr>
                <tr>
                  <td style="width: 40%">
                    <b>
                      <label
                        class="slds-form-element__label"
                        for="physicalAddress"
                        >Physical Address:
                      </label>
                    </b>
                    <br />
                    <ui:outputText
                      value="{!v.participantSelected.ShippingStreet}"
                      aura:id="physicalAddress"
                    />
                    <br />
                  </td>
                  <td style="width: 60%">
                    <b
                      ><label class="slds-form-element__label" for="workPhone"
                        >Work Phone:
                      </label>
                    </b>
                    <br />
                    <ui:outputText
                      value="{!v.participantSelected.Phone}"
                      aura:id="workPhone"
                    />
                    <br />
                  </td>
                </tr>
                <tr>
                  <td style="width: 40%">
                    <ui:outputText
                      value="{!v.participantSelected.ShippingCity}"
                      aura:id="physicalAddress"
                    />
                    <br />
                    <ui:outputText
                      value="{!v.participantSelected.ShippingPostalCode}"
                      aura:id="physicalAddress"
                    />
                    <br />
                  </td>
                  <td style="width: 60%"></td>
                </tr>
              </table>
              <br />
            </div>
          </aura:if>
        </aura:if>
      </aura:if>

      <!-- Product Details -->
      <aura:if isTrue="{!v.showProductSelection}">
        <aura:if
          isTrue="{!and(or(v.isBusinessAccount || v.isPersonAccount), v.isCIFSearch)}"
        >
          <lightning:card>
            <aura:set attribute="title">
              <lightning:icon iconName="action:add_file" size="xx-small" />
              Products
            </aura:set>
            <lightning:datatable
              data="{!v.productPaginationList}"
              columns="{!v.productColumns}"
              keyField="Id"
              hideCheckboxColumn="false"
              onrowselection="{!c.setProductSelection}"
              maxRowSelection="{!v.maxRowSelection}"
              aura:id="clientProductDataTable"
            />

            <lightning:layout horizontalAlign="center">
              <lightning:layoutItem>
                <lightning:button
                  label="Previous"
                  disabled="{!v.productStartPage == 0}"
                  onclick="{!c.previousProduct}"
                  variant="base"
                  iconName="utility:back"
                />
                &nbsp; &nbsp; &nbsp;
                <lightning:button
                  label="Next"
                  disabled="{!v.productEndPage >= v.productTotalRecords}"
                  onclick="{!c.nextProduct}"
                  variant="base"
                  iconName="utility:forward"
                  iconPosition="right"
                />
              </lightning:layoutItem>
            </lightning:layout>
          </lightning:card>
        </aura:if>
      </aura:if>

      <!-- TdB - In Progress - Contact attribute/parameter not working as yet -->
      <!-- Contact Details -->
      <aura:if isTrue="{!v.showContactSelection}">
        <aura:if isTrue="{!v.isBusinessAccount}">
          <lightning:card>
            <aura:set attribute="title">
              <lightning:icon iconName="action:new_contact" size="xx-small" />
              Contacts
            </aura:set>
            <aura:set attribute="actions">
              <lightning:layout horizontalAlign="end">
                <lightning:layoutItem>
                  <lightning:input
                    aura:id="iContactFiltere"
                    onchange="{!c.updateContactFilter}"
                    value="{!v.contactFilterValue}"
                    label="Search"
                    variant="label-hidden"
                    type="search"
                    placeholder="Search Contact list..."
                  />
                </lightning:layoutItem>
                <lightning:layoutItem>
                  &nbsp;<lightning:button
                    label="New Contact"
                    iconName="utility:add"
                    onclick="{!c.showNewContactModal}"
                  />
                </lightning:layoutItem>
              </lightning:layout>
            </aura:set>
            <lightning:datatable
              data="{!v.contactFilteredData}"
              columns="{!v.contactColumns}"
              keyField="Id"
              hideCheckboxColumn="false"
              onrowselection="{!c.setContactSelection}"
              maxRowSelection="{!v.maxRowSelection}"
              aura:id="clientContactDataTable"
            />
          </lightning:card>
          <br />
        </aura:if>
      </aura:if>

      <!-- Case related List -->
      <aura:if isTrue="{!v.showCaseHistory}">
        <aura:if isTrue="{!v.isBusinessAccount || v.isPersonAccount}">
          <lightning:card>
            <aura:set attribute="title">
              <lightning:icon iconName="action:new_case" size="xx-small" />
              Cases
            </aura:set>
            <lightning:datatable
              data="{! v.relatedCases }"
              columns="{! v.relatedCasesColumns }"
              keyField="Id"
              hideCheckboxColumn="true"
            />
          </lightning:card>
        </aura:if>
      </aura:if>

      <!-- Leads related List -->
      <aura:if isTrue="{!v.showLeadHistory}">
        <aura:if isTrue="{!v.isBusinessAccount || v.isPersonAccount}">
          <lightning:card>
            <aura:set attribute="title">
              <lightning:icon iconName="action:new_lead" size="xx-small" />
              Leads
            </aura:set>
            <lightning:datatable
              data="{! v.relatedLeads}"
              columns="{! v.relatedLeadsColumns}"
              keyField="Id"
              hideCheckboxColumn="true"
            />
          </lightning:card>
        </aura:if>
      </aura:if>
    </aura:if>
  </lightning:card>

  <!-- Create New Stokvel Prospect Client Modal for Branch -->
  <aura:attribute name="CreateStokvelProspect" type="boolean" default="false" />
  <aura:if isTrue="{!v.CreateStokvelProspect}">
    <section
      role="dialog"
      tabindex="-1"
      aria-labelledby="modal-heading-01"
      aria-modal="true"
      aria-describedby="modal-content-id-1"
      class="slds-modal slds-fade-in-open"
    >
      <div class="slds-modal__container">
        <div
          class="slds-modal__content slds-p-around_medium"
          id="modal-content-id-1"
        >
          <p>
            <lightning:recordEditForm
              aura:id="iCreateStokvelClient"
              objectApiName="Account"
              recordId="{!v.recordId}"
              onload="{!c.handleStokvelOnLoad}"
              onsubmit="{! c.handleStokvelSubmit }"
              onsuccess="{!c.handleSuccess}"
              onerror="{!c.handleError}"
            >
              <h3 class="slds-section__title">
                <span
                  class="slds-truncate slds-button slds-section__title-action"
                  title="Section Title"
                  >Stokvel Information</span
                >
              </h3>
              <lightning:layout>
                <lightning:layoutItem padding="around-small" size="6">
                  <label for="Name">Entity Name</label>
                  <lightning:inputField
                    variant="label-hidden"
                    aura:id="iEntityName"
                    fieldName="Name"
                    required="true"
                  />
                  <label for="FirstName">Designated Representative Name</label>
                  <lightning:inputField
                    variant="label-hidden"
                    aura:id="iClientFirstName"
                    fieldName="RepresetentiveName__c"
                    required="true"
                  />
                </lightning:layoutItem>
                <lightning:layoutItem padding="around-small" size="6">
                  <label for="LastName"
                    >Designated Representative Surname</label
                  >
                  <lightning:inputField
                    variant="label-hidden"
                    aura:id="iClientLastName"
                    fieldName="RepresentativeLastname__c"
                    required="true"
                  />
                  <label for="PersonMobilePhone"
                    >Designated Representative Contact Number</label
                  >
                  <lightning:inputField
                    variant="label-hidden"
                    aura:id="iClientPersonMobilePhone"
                    fieldName="Phone"
                    required="true"
                    type="number"
                  />
                  <div style="display: none">
                    <button
                      id="{! globalId + '_phone_submit' }"
                      type="submit"
                      class="hidden_field"
                    />
                    <lightning:inputField
                      variant="label-hidden"
                      aura:id="isbuSegMent"
                      fieldName="SBU_Segment__c"
                      value="Retail Banking Services"
                    />
                  </div>
                </lightning:layoutItem>
              </lightning:layout>
            </lightning:recordEditForm>
          </p>
          <div>
            <lightning:radioGroup
              name="radioGroupStokvelConsent"
              label="I confirm that I have asked the entity representantive to contact them on the above mentioned number should they not be able to complete their application and representantive said :"
              options="{! v.consentOptions }"
              value="{! v.consentVal }"
              type="radio"
              onchange="{! c.CreateStokvelProspect }"
            />
          </div>
        </div>
        <footer class="slds-modal__footer">
          <lightning:button
            variant="neutral"
            label="Cancel"
            title="Cancel"
            onclick="{! c.closeNewStokvelProspectModel }"
          />
          <lightning:button
            variant="brand"
            aura:id="btncreateStokvelProspect"
            disabled="{!v.isButtonActive}"
            label="Create Prospect"
            title="Save"
            onclick="{! c.createStokvelClient }"
          />
        </footer>
      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
  </aura:if>
  <!-- End Create New Stokvel Prospect Client Modal for Branch -->
  <!-- Create New Individual Prospect Client Modal -->
  <aura:attribute
    name="isCreateIndividualProspect"
    type="boolean"
    default="false"
  />
  <aura:if isTrue="{!v.isCreateIndividualProspect}">
    <section
      role="dialog"
      tabindex="-1"
      aria-labelledby="modal-heading-01"
      aria-modal="true"
      aria-describedby="modal-content-id-1"
      class="slds-modal slds-fade-in-open"
    >
      <div class="slds-modal__container">
        <header class="slds-modal__header">
          <lightning:buttonIcon
            iconName="utility:close"
            onclick="{! c.closeNewIndividualProspectModel}"
            alternativeText="close"
            variant="bare-inverse"
            class="slds-modal__close"
          />
          <h2 id="modal-heading-01" class="customSectionButton">
            Create Individual Prospect Client
          </h2>
        </header>
        <div
          class="slds-modal__content slds-p-around_medium"
          id="modal-content-id-1"
        >
          <p>
            <lightning:recordEditForm
              aura:id="iCreateIndvClient"
              objectApiName="Account"
              recordId="{!v.recordId}"
            >
              <h3 class="slds-section__title">
                <span
                  class="slds-truncate slds-button slds-section__title-action"
                  title="Section Title"
                  >Client Information</span
                >
              </h3>
              <lightning:layout>
                <lightning:layoutItem padding="around-small" size="6">


                  <div style="display: none">
                    <lightning:inputField fieldName="Name" />
                  </div>
                  <lightning:inputField
                    aura:id="iClientSalutation"
                    fieldName="Salutation"
                    value="{!v.newIndivProspect.Salutation}"
                    class="customRequired"
                  />

                  <lightning:inputField
                    aura:id="iClientFirstName"
                    fieldName="FirstName"
                    value="{!v.newIndivProspect.FirstName}"
                  />
                  <lightning:inputField
                    aura:id="iClientLastName"
                    fieldName="LastName"
                    value="{!v.newIndivProspect.LastName}"
                    class="customRequired"
                  />
                  <lightning:inputField
                    aura:id="iClientCreationReason"
                    fieldName="Client_Creation_Reason__c"
                    value="{!v.newIndivProspect.Client_Creation_Reason__c}"
                    class="customRequired"
                  />
                </lightning:layoutItem>
                <lightning:layoutItem padding="around-small" size="6">
                  <lightning:inputField
              aura:id="iClientType"
              fieldName="ClientType__c"
              value="{!v.newIndivProspect.ClientType__c}"
              class="customRequired"
            />
                  <!-- <aura:if isTrue="{!not(v.showShortTermInsuranceFields)}">   
                                        <lightning:inputField aura:id="iClientIdNo" fieldName="ID_Number__pc" value="{!v.newIndivProspect.ID_Number__pc}"/>
                                    </aura:if> -->
                  <!-- Monde added ID_Type__pc-->
                  <!--   <aura:if isTrue="{!v.showShortTermInsuranceFields}"> -->
              
                  <aura:if isTrue="{!not(v.isIdNoRequired)}">
                    <lightning:inputField
                      aura:id="iIDType"
                      fieldName="ID_Type__c"
                      value="{!v.newIndivProspect.ID_Type__c}"
                    />
                    <lightning:inputField
                      aura:id="iClientIdNo"
                      fieldName="ID_Number__pc"
                      value="{!v.newIndivProspect.ID_Number__pc}"
                    />
                    <lightning:inputField
                      aura:id="iClientBirthDate"
                      fieldName="PersonBirthdate"
                      value="{!v.newIndivProspect.PersonBirthdate}"
                    />
                    <!--   </aura:if> -->
                    <aura:set attribute="else">
                    
                      <lightning:inputField
                        aura:id="iIDType"
                        fieldName="ID_Type__c"
                        value="{!v.newIndivProspect.ID_Type__c}"
                        class="customRequired"
                      />
                      <lightning:inputField
                        aura:id="iClientIdNo"
                        fieldName="ID_Number__pc"
                        value="{!v.newIndivProspect.ID_Number__pc}"
                        class="customRequired"
                      />
                      <lightning:inputField
                        aura:id="iClientBirthDate"
                        fieldName="PersonBirthdate"
                        value="{!v.newIndivProspect.PersonBirthdate}"
                        class="customRequired"
                      />

                    </aura:set>
                  </aura:if>
                </lightning:layoutItem>
              </lightning:layout>
              <h3 class="slds-section__title">
                <span
                  class="slds-truncate slds-button slds-section__title-action"
                  title="Section Title"
                  >Contact Details</span
                >
              </h3>
              <lightning:layout>
                <lightning:layoutItem padding="around-small" size="6">
                  <lightning:inputField
                    aura:id="iClientPersonMobilePhone"
                    fieldName="PersonMobilePhone"
                    value="{!v.newIndivProspect.PersonMobilePhone}"
                    class="customRequired"
                  />
                  <lightning:inputField
                    aura:id="iClientPersonHomePhone"
                    fieldName="PersonHomePhone"
                    value="{!v.newIndivProspect.PersonHomePhone}"
                  />
                  <!--Added by short term insurance-->
                  <aura:if isTrue="{!v.showShortTermInsuranceFields}">
                    <lightning:inputField
                      aura:id="iClientWorkPhone"
                      fieldName="Work_Phone__c"
                      value="{!v.newIndivProspect.Work_Phone__c}"
                    />
                    <aura:set attribute="else">
                      <lightning:inputField
                        aura:id="iClientPhone"
                        fieldName="Phone"
                        value="{!v.newIndivProspect.Phone}"
                      />
                    </aura:set>
                  </aura:if>
                </lightning:layoutItem>
                <aura:if isTrue="{!not(v.showShortTermInsuranceFields)}">
                  <lightning:layoutItem padding="around-small" size="6">
                    <lightning:inputField
                      aura:id="iClientEmail"
                      fieldName="PersonEmail"
                      value="{!v.newIndivProspect.PersonEmail}"
                    />
                    <!--  <lightning:inputField aura:id="iClientCommunicationMethod" fieldName="Communication_Method__c" value="{!v.newIndivProspect.Communication_Method__c}"/> -->
                  </lightning:layoutItem>
                </aura:if>
              </lightning:layout>
              <h3 class="slds-section__title">
                <span
                  class="slds-truncate slds-button slds-section__title-action"
                  title="Section Title"
                  >Address Information</span
                >
              </h3>
              <lightning:layout>
                <lightning:layoutItem padding="around-small" size="12">
                  <div style="display: none">
                    <lightning:inputField fieldName="BillingAddress" />
                  </div>
                  <!--Add if statement Monde -->
                  <aura:if isTrue="{!v.showShortTermInsuranceFields}">
                    <label for="iClientBillingStreet">Line 1</label>
                    <lightning:inputField
                      fieldName="BillingStreet"
                      aura:id="iClientBillingStreet"
                      value="{!v.newIndivProspect.BillingStreet}"
                      variant="label-hidden"
                    />
                    <br />

                    <label for="Line2">Line 2</label>
                    <lightning:inputField
                      fieldName="Physical_address_line_2_c__c"
                      aura:id="Line2"
                      value="{!v.newIndivProspect.Physical_address_line_2_c__c}"
                      variant="label-hidden"
                    />
                    <br />

                    <label for="iClientBillingCity">City</label>
                    <lightning:inputField
                      fieldName="BillingCity"
                      aura:id="iClientBillingCity"
                      value="{!v.newIndivProspect.BillingCity}"
                      variant="label-hidden"
                    />
                    <br />

                    <label for="iClientBillingPostalCode">Postal code</label>
                    <lightning:inputField
                      fieldName="BillingPostalCode"
                      aura:id="iClientBillingPostalCode"
                      value="{!v.newIndivProspect.BillingPostalCode}"
                      variant="label-hidden"
                    />
                    <br />

                    <label for="iClientBillingState">Suburb</label>
                    <lightning:inputField
                      fieldName="BillingState"
                      aura:id="iClientBillingState"
                      value="{!v.newIndivProspect.BillingState}"
                      variant="label-hidden"
                    />
                    <br />

                    <label for="iClientBillingCountry">Country</label>
                    <lightning:inputField
                      fieldName="BillingCountry"
                      aura:id="iClientBillingCountry"
                      value="{!v.newIndivProspect.BillingCountry}"
                      variant="label-hidden"
                    />

                    <aura:set attribute="else">
                      <lightning:inputField
                        fieldName="BillingStreet"
                        aura:id="iClientBillingStreet"
                        value="{!v.newIndivProspect.BillingStreet}"
                      />
                      <br />
                      <!--<lightning:inputField fieldName="Physical_address_line_2_c__c" aura:id="Line2" value="{!v.newIndivProspect.Physical_address_line_2_c__c}"/>
                                            <br />-->
                      <lightning:inputField
                        fieldName="BillingCity"
                        aura:id="iClientBillingCity"
                        value="{!v.newIndivProspect.BillingCity}"
                      />
                      <br />
                      <lightning:inputField
                        fieldName="BillingPostalCode"
                        aura:id="iClientBillingPostalCode"
                        value="{!v.newIndivProspect.BillingPostalCode}"
                      />
                      <br />
                      <lightning:inputField
                        fieldName="BillingState"
                        aura:id="iClientBillingState"
                        value="{!v.newIndivProspect.BillingState}"
                      />
                      <br />
                      <lightning:inputField
                        fieldName="BillingCountry"
                        aura:id="iClientBillingCountry"
                        value="{!v.newIndivProspect.BillingCountry}"
                      />
                    </aura:set>
                  </aura:if>
                  <!--Monde Masiza commeted out the below fields because they will display in the above else statement-->
                  <!--<lightning:inputField fieldName="BillingStreet" aura:id="iClientBillingStreet" value="{!v.newIndivProspect.BillingStreet}"/>
                                    <lightning:inputField fieldName="BillingCity" aura:id="iClientBillingCity" value="{!v.newIndivProspect.BillingCity}"/>
                                    <lightning:inputField fieldName="BillingPostalCode" aura:id="iClientBillingPostalCode" value="{!v.newIndivProspect.BillingPostalCode}"/>
                                    <lightning:inputField fieldName="BillingState" aura:id="iClientBillingState" value="{!v.newIndivProspect.BillingState}"/>
                                    <lightning:inputField fieldName="BillingCountry" aura:id="iClientBillingCountry" value="{!v.newIndivProspect.BillingCountry}"/>-->
                </lightning:layoutItem>
              </lightning:layout>
            </lightning:recordEditForm>
          </p>
        </div>
        <footer class="slds-modal__footer">
          <lightning:button
            variant="neutral"
            label="Cancel"
            title="Cancel"
            onclick="{! c.closeNewIndividualProspectModel }"
          />
          <lightning:button
            variant="brand"
            label="Create Prospect"
            title="Save"
            onclick="{! c.createClient }"
          />
        </footer>
      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
  </aura:if>
  <!--khaliq added   -->
  <!-- Create New Individual Prospect Client Modal for Branch -->
  <aura:attribute
    name="isCreateBranchIndividualProspect"
    type="boolean"
    default="false"
  />
  <aura:if isTrue="{!v.isCreateBranchIndividualProspect}">
    <section
      role="dialog"
      tabindex="-1"
      aria-labelledby="modal-heading-01"
      aria-modal="true"
      aria-describedby="modal-content-id-1"
      class="slds-modal slds-fade-in-open"
    >
      <div class="slds-modal__container">
        <header class="slds-modal__header">
          <lightning:buttonIcon
            iconName="utility:close"
            onclick="{! c.closeNewBranchIndividualProspectModel}"
            alternativeText="close"
            variant="bare-inverse"
            class="slds-modal__close"
          />
          <h2 id="modal-heading-01" class="customSectionButton">
            Create Individual Prospect Client
          </h2>
        </header>
        <div
          class="slds-modal__content slds-p-around_medium"
          id="modal-content-id-1"
        >
          <p>
            <lightning:recordEditForm
              aura:id="iCreateBranchIndvClient"
              objectApiName="Account"
              recordId="{!v.recordId}"
            >
              <h3 class="slds-section__title">
                <span
                  class="slds-truncate slds-button slds-section__title-action"
                  title="Section Title"
                  >Client Information</span
                >
              </h3>
              <lightning:layout>
                <lightning:layoutItem padding="around-small" size="6">
                  <div style="display: none">
                    <lightning:inputField fieldName="Name" />
                  </div>
                  <!--<label for="FirstName" >Customer First Name</label>-->
                  <!-- <lightning:inputField aura:id="iClientTitle" label="Title" fieldName="Titles__pc" value="{!v.newIndivProspect.Titles__pc}" class="customRequired"/>  -->
                  <lightning:inputField
                    aura:id="iClientFirstName"
                    fieldName="FirstName"
                    value="{!v.newIndivProspect.FirstName}"
                    class="customRequired"
                  />
                  <lightning:inputField
                    aura:id="iClientLastName"
                    label="Customer Last Name"
                    fieldName="LastName"
                    value="{!v.newIndivProspect.LastName}"
                    class="customRequired"
                  />
                </lightning:layoutItem>
                <lightning:layoutItem padding="around-small" size="6">
                  <!--<lightning:input type="tel" label="Phone" name="PersonMobilePhone" pattern="[0]{1}[678]{1}[0-9]{8}" value="{!v.newIndivProspect.PersonMobilePhone}" class="customRequired"/>-->
                  <lightning:inputField
                    aura:id="iClientIdNo"
                    label="Customer South African ID Number"
                    fieldName="ID_Number__pc"
                    value="{!v.newIndivProspect.ID_Number__pc}"
                    class="customRequired"
                    readonly="true"
                  />
                  <span onkeypress="{!c.NumberCheck}">
                    <lightning:input
                      aura:id="iClientPersonMobilePhone"
                      onkeypress="{!c.NumberCheck}"
                      label="Mobile"
                      value="{!v.newIndivProspect.PersonMobilePhone}"
                      class="customRequired"
                    />
                  </span>
                </lightning:layoutItem>
              </lightning:layout>
            </lightning:recordEditForm>
          </p>
        </div>
        <footer class="slds-modal__footer">
          <lightning:button
            variant="neutral"
            label="Cancel"
            title="Cancel"
            onclick="{! c.closeNewBranchIndividualProspectModel }"
          />
          <lightning:button
            variant="brand"
            label="Create Prospect"
            title="Save"
            onclick="{! c.createClient }"
          />
        </footer>
      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
  </aura:if>
  <!-- End Create New Individual Prospect Client Modal for Branch -->
  <!-- Create New Business Prospect Client Modal -->
  <aura:attribute
    name="isCreateBusinessProspect"
    type="boolean"
    default="false"
  />
  <aura:if isTrue="{!v.isCreateBusinessProspect}">
    <section
      role="dialog"
      tabindex="-1"
      aria-labelledby="modal-heading-01"
      aria-modal="true"
      aria-describedby="modal-content-id-1"
      class="slds-modal slds-fade-in-open"
    >
      <div class="slds-modal__container">
        <lightning:recordEditForm objectApiName="Address__c">
          <lightning:inputField
            required="false"
            class="hidden_field"
            fieldName="Shipping_Street__c"
            value="{!v.newAddressRecord.Shipping_Street__c}"
          />
        </lightning:recordEditForm>
        <header class="slds-modal__header">
          <lightning:buttonIcon
            iconName="utility:close"
            onclick="{! c.closeNewBusinessProspectModel }"
            alternativeText="close"
            variant="bare-inverse"
            class="slds-modal__close"
          />
          <h2
            id="modal-heading-01"
            class="slds-text-heading_medium slds-hyphenate"
          >
            Create Business Prospect Client
          </h2>
        </header>
        <div
          class="slds-modal__content slds-p-around_medium"
          id="modal-content-id-1"
        >
          <p>
            <lightning:recordEditForm
              aura:id="iCreateIndvClient"
              objectApiName="Account"
              recordId="{!v.recordId}"
              recordTypeId="{!v.businessProspectRecordTypeId}"
            >
              <h3 class="slds-section__title">
                <span
                  class="slds-truncate slds-button slds-section__title-action"
                  title="Section Title"
                  >Client Information</span
                >
              </h3>
              <lightning:layout>
                <lightning:layoutItem padding="around-small" size="6">
                  <div style="display: none">
                    <lightning:inputField fieldName="Name" />
                  </div>
                  <lightning:inputField
                    aura:id="iBusinessName"
                    fieldName="Name"
                    value="{!v.newBusinessProspect.Name}"
                    class="customRequired"
                  />
                  <lightning:inputField
                    aura:id="iBusinessRegistrationNo"
                    fieldName="Registration_Number__c"
                    value="{!v.newBusinessProspect.Registration_Number__c}"
                  />
                  <lightning:inputField
                    aura:id="iBusinessRegistrationNo"
                    fieldName="Client_Type__c"
                    value="{!v.newBusinessProspect.Client_Type__c}"
                  />
                </lightning:layoutItem>
                <lightning:layoutItem padding="around-small" size="6">
                  <lightning:inputField
                    aura:id="iBusinessCreationReason"
                    fieldName="Client_Creation_Reason__c"
                    value="{!v.newBusinessProspect.Client_Creation_Reason__c}"
                    class="customRequired"
                  />
                  <lightning:inputField
                    aura:id="iClientCommunicationMethod"
                    fieldName="Communication_Method__c"
                    value="{!v.newBusinessProspect.Communication_Method__c}"
                  />
                </lightning:layoutItem>
              </lightning:layout>
              <h3 class="slds-section__title">
                <span
                  class="slds-truncate slds-button slds-section__title-action"
                  title="Section Title"
                  >Address Information</span
                >
              </h3>
              <lightning:layout>
                <lightning:layoutItem padding="around-small" size="6">
                  <div style="display: none">
                    <lightning:inputField fieldName="BillingAddress" />
                  </div>
                  <lightning:inputField
                    fieldName="BillingStreet"
                    aura:id="iBusinessBillingStreet"
                    value="{!v.newBusinessProspect.BillingStreet}"
                  />
                  <lightning:inputField
                    fieldName="BillingCity"
                    aura:id="iBusinessBillingCity"
                    value="{!v.newBusinessProspect.BillingCity}"
                  />
                  <lightning:inputField
                    fieldName="BillingPostalCode"
                    aura:id="iBusinessBillingPostalCode"
                    value="{!v.newBusinessProspect.BillingPostalCode}"
                  />
                  <lightning:inputField
                    fieldName="BillingState"
                    aura:id="iBusinessBillingState"
                    value="{!v.newBusinessProspect.BillingState}"
                  />
                  <lightning:inputField
                    fieldName="BillingCountry"
                    aura:id="iBusinessBillingCountry"
                    value="{!v.newBusinessProspect.BillingCountry}"
                  />
                </lightning:layoutItem>

                <lightning:layoutItem padding="around-small" size="6">
                  <div style="display: none">
                    <lightning:inputField fieldName="BillingAddress" />
                  </div>
                  <lightning:inputField
                    fieldName="ShippingStreet"
                    aura:id="iBusinessShippingStreet"
                    value="{!v.newBusinessProspect.ShippingStreet}"
                  />
                  <lightning:inputField
                    fieldName="ShippingCity"
                    aura:id="iBusinessShippingCity"
                    value="{!v.newBusinessProspect.ShippingCity}"
                  />
                  <lightning:inputField
                    fieldName="ShippingPostalCode"
                    aura:id="iBusinessShippingPostalCode"
                    value="{!v.newBusinessProspect.ShippingPostalCode}"
                  />
                  <lightning:inputField
                    fieldName="ShippingState"
                    aura:id="iBusinessShippingState"
                    value="{!v.newBusinessProspect.ShippingState}"
                  />
                  <lightning:inputField
                    fieldName="ShippingCountry"
                    aura:id="iBusinessShippingCountry"
                    value="{!v.newBusinessProspect.ShippingCountry}"
                  />
                </lightning:layoutItem>
              </lightning:layout>
            </lightning:recordEditForm>
          </p>
        </div>
        <footer class="slds-modal__footer">
          <lightning:button
            variant="neutral"
            label="Cancel"
            title="Cancel"
            onclick="{!c.closeNewBusinessProspectModel}"
          />
          <lightning:button
            variant="brand"
            label="Create Prospect"
            title="Save"
            onclick="{!c.createClient}"
          />
        </footer>
      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
  </aura:if>

  <!-- Create New Business Prospect Client Modal Onboarding End-->
  <!-- New Contact Modal -->
  <aura:if isTrue="{!v.isCreateContact}">
    <section
      role="dialog"
      tabindex="-1"
      aria-labelledby="modal-heading-01"
      aria-modal="true"
      aria-describedby="modal-content-id-1"
      class="slds-modal slds-fade-in-open"
    >
      <div class="slds-modal__container">
        <header class="slds-modal__header">
          <lightning:buttonIcon
            iconName="utility:close"
            onclick="{! c.closeNewContactModal }"
            alternativeText="close"
            variant="bare-inverse"
            class="slds-modal__close"
          />
          <h2
            id="modal-heading-01"
            class="slds-text-heading_medium slds-hyphenate"
          >
            Create Contact
          </h2>
        </header>
        <div
          class="slds-modal__content slds-p-around_medium"
          id="modal-content-id-1"
        >
          <p>
            <lightning:recordEditForm
              aura:id="iCreateContact"
              objectApiName="Contact"
              recordId="{!v.contactRecordId}"
            >
              <h3 class="slds-section__title">
                <span
                  class="slds-truncate slds-button slds-section__title-action"
                  title="Section Title"
                  >Contact Information</span
                >
              </h3>
              <lightning:layout>
                <lightning:layoutItem padding="around-small" size="6">
                  <div style="display: none">
                    <lightning:inputField fieldName="Name" />
                  </div>
                  <lightning:inputField
                    fieldName="Salutation"
                    aura:id="iSalutation"
                    value="{!v.contactRecord.Salutation}"
                    class="customRequired"
                  />
                  <lightning:inputField
                    fieldName="FirstName"
                    aura:id="iFirstName"
                    value="{!v.contactRecord.FirstName}"
                    class="customRequired"
                  />
                  <lightning:inputField
                    fieldName="LastName"
                    aura:id="iLastName"
                    value="{!v.contactRecord.LastName}"
                  />
                </lightning:layoutItem>
                <lightning:layoutItem padding="around-small" size="6">
                  <lightning:inputField
                    fieldName="Email"
                    aura:id="iEmail"
                    value="{!v.contactRecord.Email}"
                  />
                  <lightning:inputField
                    fieldName="Phone"
                    aura:id="iPhone"
                    value="{!v.contactRecord.Phone}"
                  />
                  <lightning:inputField
                    fieldName="MobilePhone"
                    aura:id="iMobilePhone"
                    value="{!v.contactRecord.MobilePhone}"
                  />
                </lightning:layoutItem>
              </lightning:layout>
              <h3 class="slds-section__title">
                <span
                  class="slds-truncate slds-button slds-section__title-action"
                  title="Section Title"
                  >Address Information</span
                >
              </h3>
              <lightning:layout>
                <lightning:layoutItem padding="around-small" size="12">
                  <div style="display: none">
                    <lightning:inputField fieldName="MailingAddress" />
                  </div>
                  <lightning:inputField
                    fieldName="MailingStreet"
                    aura:id="iMailingStreet"
                    value="{!v.contactRecord.MailingStreet}"
                  />
                  <lightning:inputField
                    fieldName="MailingCity"
                    aura:id="iMailingCity"
                    value="{!v.contactRecord.MailingCity}"
                  />
                  <lightning:inputField
                    fieldName="MailingPostalCode"
                    aura:id="iMailingPostalCode"
                    value="{!v.contactRecord.MailingPostalCode}"
                  />
                  <lightning:inputField
                    fieldName="MailingState"
                    aura:id="iMailingState"
                    value="{!v.contactRecord.MailingState}"
                  />
                  <lightning:inputField
                    fieldName="MailingCountry"
                    aura:id="iMailingCountry"
                    value="{!v.contactRecord.MailingCountry}"
                  />
                </lightning:layoutItem>
              </lightning:layout>
            </lightning:recordEditForm>
          </p>
        </div>
        <footer class="slds-modal__footer">
          <lightning:button
            variant="neutral"
            label="Cancel"
            title="Cancel"
            onclick="{! c.closeNewContactModal }"
          />
          <lightning:button
            variant="brand"
            label="{!v.isAccountInSalesforce == false ? 'Create Client and Contact in Salesforce' : 'Create Contact in Salesforce'}"
            title="Save"
            onclick="{! c.validateContact }"
          />
        </footer>
      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
  </aura:if>

  <!--W-004914 - Manoj 07022020 - Selecting Client Group, Client Type when creating Related Party-->
  <lightning:overlayLibrary aura:id="overlayLib" />
  <aura:handler event="c:clientTypeEvent" action="{!c.handleEventTypeEvent}" />

  <!-- Create New Related Party Modal -->
  <aura:attribute name="isCreateRelatedParty" type="boolean" default="false" />
  <aura:if isTrue="{!v.isCreateRelatedParty}">
    <section
      role="dialog"
      tabindex="-1"
      aria-labelledby="modal-heading-01"
      aria-modal="true"
      aria-describedby="modal-content-id-1"
      class="slds-modal slds-fade-in-open slds-modal_large"
    >
      <div class="slds-modal__container">
        <header class="slds-modal__header">
          <lightning:buttonIcon
            iconName="utility:close"
            onclick="{! c.closeNewRelatedPartyModal}"
            alternativeText="close"
            variant="bare-inverse"
            class="slds-modal__close"
          />
          <h2 id="modal-heading-01" class="slds-modal__title slds-hyphenate">
            Create Related Party
          </h2>
        </header>
        <div
          class="slds-modal__content slds-p-around_medium"
          id="modal-content-id-1"
        >
          <!--Added By Divya on 18-4-2022-->
          <lightning:spinner
            aura:id="modelSpinner"
            class="slds-hide"
            variant="brand"
            size="large"
          />
          <p>
            <lightning:recordEditForm
              recordTypeId="{!v.individualProspectRecordTypeId}"
              aura:id="iCreateIndvClient"
              objectApiName="Account"
              recordId="{!v.recordId}"
            >
              <!--Newly commented by Rajesh for Popup issue-->
              <!--<lightning:recordEditForm  aura:id="iCreateIndvClient" objectApiName="Account">-->
              <h3 class="slds-section__title">
                <span
                  class="slds-truncate slds-button slds-section__title-action"
                  title="Section Title"
                  >Related Party Role Information</span
                >
              </h3>
              <lightning:layout>
                <lightning:layoutItem padding="around-small" size="12">
                  <lightning:inputField
                    aura:id="iClientIdNo"
                    fieldName="ID_Number__pc"
                    value="{!v.newIndivProspect.ID_Number__pc}"
                    class="customRequired"
                  />
                  <!-- <lightning:inputField aura:id="iClientIdtype" fieldName="ID_Type__pc" value="{!v.newIndivProspect.ID_Type__pc}"/>-->
                  <lightning:select
                    name="ID Type"
                    aura:id="iClientIdtype"
                    value="{!v.newIndivProspect.ID_Type__pc}"
                    label="ID Type"
                    required="true"
                    onchange="{! c.handleIdTypeChange}"
                  >
                    <!--Modified by Tejesh 21/07/2022-->
                    <option value="">--Select--</option>
                    <option value="SA Identity Document">
                      SA Identity Document
                    </option>
                    <option value="Passport">Passport</option>

                    <!--Added By Lakshmi W-020122 (01-06-22), Modified by Tejesh 27/07/2022 Modified by Kalyani 13/08/2022-->
                    <aura:if
                      isTrue="{!and(v.processTypeP != 'Estate Onboarding',v.processTypeP != 'F2F Onboarding')}"
                    >
                      <option value="Temporary ID Document">
                        Temporary ID Document
                      </option>
                    </aura:if>
                    <aura:if
                      isTrue="{!and(v.processTypeP != 'Estate Onboarding',v.processTypeP != 'F2F Onboarding')}"
                    >
                      <option value="CIF">CIF</option>
                    </aura:if>
                  </lightning:select>
                  <lightning:layoutItem padding="around-small" size="12">
                    <lightning:dualListbox
                      name="iRoles"
                      label="Roles:"
                      sourceLabel="Available"
                      selectedLabel="Selected"
                      fieldLevelHelp="Select all applicable Roles"
                      options="{!v.roleOptions}"
                      value="{!v.selectedRole}"
                      onchange="{! c.handleChange }"
                    /><!--handleChange added by chandra dated 02/08/2020-->
                  </lightning:layoutItem>
                </lightning:layoutItem>
              </lightning:layout>

              <!-- TdB: Additional fields for Participant Role -->
              <aura:if isTrue="{!v.isParticipant}">
                <h3 class="slds-section__title">
                  <span
                    class="slds-truncate slds-button slds-section__title-action"
                    title="Section Title"
                    >Identity and Verification</span
                  >
                </h3>
                <lightning:layout multipleRows="true">
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Date_Identified__c"
                      aura:id="iDateIdentified"
                      value="{!v.newIndivProspect.Date_Identified__c}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Identified_by_Employee_Number__c"
                      aura:id="iIdentifiedByEmployeeNumber"
                      value="{!v.newIndivProspect.Identified_by_Employee_Number__c}"
                    />
                  </lightning:layoutItem>
                </lightning:layout>
              </aura:if>
              <h3 class="slds-section__title">
                <span
                  class="slds-truncate slds-button slds-section__title-action"
                  title="Section Title"
                  >Client Information</span
                >
              </h3>
              <lightning:layout>
                <lightning:layoutItem padding="around-small" size="6">
                  <div style="display: none">
                    <lightning:inputField fieldName="Name" />
                  </div>
                  <!--<aura:if isTrue="{!v.processTypeP!='Lite Onboarding'}">SJAKKIDI:01172023:To show all fields in related party-->
                  <aura:if isTrue="{!v.processTypeP != 'Surety Onboarding'}">
                    <aura:if
                      isTrue="{! or(or(v.processTypeP == 'Estate Onboarding',v.clientTypeVal == 'NBFS Trust',v.clientTypeVal == 'Estate Late'),v.processTypeP == 'F2F Onboarding')}"
                    >
                      <!--Updated By Divya on 9-5-2022-->
                      <label class="slds-form-element__label">Title</label>
                      <lightning:inputField
                        aura:id="iClientPersonTitlepicklist"
                        fieldName="Titles__pc"
                        value="{!v.newIndivProspect.Titles__pc}"
                        variant="label-hidden"
                        class="customRequired"
                      />
                    </aura:if>

                    <aura:if
                      isTrue="{!and(and(v.processTypeP != 'Estate Onboarding',v.clientTypeVal != 'NBFS Trust', v.clientTypeVal != 'Estate Late'),v.processTypeP != 'F2F Onboarding') }"
                    >
                      <lightning:inputField
                        aura:id="iClientPersonTitle1"
                        fieldName="PersonTitle"
                        value="{!v.newIndivProspect.PersonTitle}"
                        class="customRequired"
                      />
                    </aura:if>
                    <lightning:inputField
                      aura:id="iClientInitials"
                      fieldName="Initials__pc"
                      value="{!v.newIndivProspect.Initials__pc}"
                    />
                  </aura:if>
                  <!--</aura:if>-->
                  <!--Updated by Divya on 21-7-2022-->
                  <!--Lakshmi Added for W-020317-->
                  <!-- TEJESH: Updated below condition on 11/OCT/2022 W-027679 -->
                  <aura:if
                    isTrue="{!or(or(v.processTypeP == 'Estate Onboarding',v.clientTypeVal == 'Estate Late'), or(v.clientTypeVal == 'NBFS Trust',v.processTypeP == 'F2F Onboarding'))}"
                  >
                    <lightning:inputField
                      aura:id="iClientFirstName"
                      fieldName="FirstName"
                      value="{!v.newIndivProspect.FirstName}"
                      class="customRequired"
                    />
                  </aura:if>
                  <aura:if
                    isTrue="{!and(and(v.processTypeP != 'Estate Onboarding',v.clientTypeVal != 'Estate Late'), and(v.clientTypeVal != 'NBFS Trust',v.processTypeP != 'F2F Onboarding'))}"
                  >
                    <lightning:inputField
                      aura:id="iClientFirstName"
                      fieldName="FirstName"
                      value="{!v.newIndivProspect.FirstName}"
                    />
                  </aura:if>
                  <lightning:inputField
                    aura:id="iClientLastName"
                    fieldName="LastName"
                    value="{!v.newIndivProspect.LastName}"
                    class="customRequired"
                  />

                  <aura:if isTrue="{!v.processTypeP != 'Surety Onboarding'}">
                    <!--<aura:if isTrue="{!v.processTypeP!='Lite Onboarding'}">SJAKKIDI:01172023:To show all fields in related party-->
                    <!--Manoj-6073-Lite Onboarding Manual Capture Individual-->
                    <lightning:inputField
                      aura:id="iClientPersonBirthdate"
                      fieldName="PersonBirthdate"
                      value="{!v.newIndivProspect.PersonBirthdate}"
                      class="customRequired"
                    />

                    <lightning:inputField
                      aura:id="iCountryOfResidence"
                      fieldName="Country_of_Residence__c"
                      value="{!v.newIndivProspect.Country_of_Residence__c}"
                      class="customRequired"
                    />
                    <aura:if isTrue="{!v.showMarital}">
                      <!--20-May-22 lakshmi Added for Estate late design change -->
                      <lightning:inputField
                        fieldName="Marital_Status__pc"
                        aura:id="iMaritalStatus"
                        value="{!v.newIndivProspect.Marital_Status__pc}"
                        class="customRequired"
                      />
                    </aura:if>
                    <!--</aura:if>-->
                  </aura:if>
                  <!--Tejesh: commented below code -->
                  <!--25-May-22 lakshmi Added for Estate late design change -->
                  <!-- 
										<aura:if isTrue="{!v.processTypeP =='Estate Onboarding'}">
										<aura:if isTrue="{!v.showRelationship}">
											<label class="slds-form-element__label" for="iwill">Relationship</label>
											<lightning:inputField
												aura:id="iNext_of_Kin_Relationship__pc"
												fieldName="Next_of_Kin_Relationship__pc"
												value="{!v.newIndivProspect.Next_of_Kin_Relationship__pc}"
												class="customRequired"
												variant="label-hidden"
											/>
										</aura:if> 
										</aura:if>
									-->
                </lightning:layoutItem>
                <lightning:layoutItem padding="around-small" size="6">
                  <!--  <lightning:inputField aura:id="iClientCreationReason" fieldName="Client_Creation_Reason__c" value="{!v.newIndivProspect.Client_Creation_Reason__c}" class="customRequired"/> -->
                  <!--	<lightning:inputField aura:id="iGender" fieldName="Gender__pc" value="{!v.newIndivProspect.Gender__pc}" class="customRequired"/> -->

                  <aura:if isTrue="{!v.processTypeP != 'Surety Onboarding'}">
                    <lightning:input
                      aura:id="iSharePercentage"
                      cname="SharePercentage"
                      label="Share Percentage"
                      formatter="percent-fixed"
                      onchange="{!c.handleSharePercentChange}"
                      disabled="true"
                    /><!--Add disabled to disable this field on load on screen by chandra-->
                    <lightning:select
                      name="UBO"
                      disabled="true"
                      label="UBO"
                      class="slds-hide"
                      aura:id="uboFld"
                      ><!--Add slds-hide to removed this field from screen by chandra-->
                      <option value="No">No</option>
                      <option value="Yes">Yes</option>
                    </lightning:select>
                  </aura:if>

                  <!--<aura:if isTrue="{!v.processTypeP!='Lite Onboarding'}">SJAKKIDI:01172023:To show all fields in related party-->
                  <!--Manoj-6073-Lite Onboarding Manual Capture Individual-->
                  <lightning:select
                    aura:id="selectedDesignationId"
                    label="Designation"
                    name="Designation"
                  >
                    <option value="" text="- NONE -" />
                    <aura:iteration
                      items="{!v.designationOptions}"
                      var="designation"
                    >
                      <option value="{!designation}">{!designation}</option>
                    </aura:iteration>
                  </lightning:select>

                  <aura:if isTrue="{!v.processTypeP != 'Surety Onboarding'}">
                    <lightning:select
                      name="Gender"
                      value="{!v.newIndivProspect.Gender__pc}"
                      label="Gender"
                      required="true"
                    >
                      <option value="">--Select--</option>
                      <option value="Male">Male</option>
                      <option value="Female">Female</option>
                    </lightning:select>
                  </aura:if>
                  <!--</aura:if>-->
                  <!--Added by rajesh-->
                  <!-- <lightning:inputField fieldName="Country_of_Birth__pc" value="{!v.newIndivProspect.Country_of_Birth__pc}" class=""/>-->

                  <aura:if isTrue="{!v.processTypeP != 'Surety Onboarding'}">
                    <lightning:select
                      name="Country of Birth"
                      value="{!v.newIndivProspect.Country_of_Birth__pc}"
                      label="Country of Birth"
                      class="customRequired"
                    >
                      <option value="South Africa"></option>
                      <aura:iteration
                        items="{!v.countryValuesArray_NEW}"
                        var="item"
                      >
                        <option value="{!item.value}">{!item.label}</option>
                      </aura:iteration>
                    </lightning:select>

                    <!--Added by Tejesh: W-020621-->
                    <lightning:select
                      name="Nationality"
                      value="{!v.newIndivProspect.Nationality__pc}"
                      label="Nationality"
                      class="customRequired"
                    >
                      <option value="South Africa"></option>
                      <aura:iteration
                        items="{!v.countryValuesArray_NEW}"
                        var="item"
                      >
                        <option value="{!item.value}">{!item.label}</option>
                      </aura:iteration>
                    </lightning:select>
                    <!--END: Added by Tejesh:  W-020621-->
                    <!-- Added for defect W-023330-->
                    <!-- aura:if isTrue="{!v.processTypeP != 'F2F Onboarding'}" -->
                    <!-- Updated by Divya on 26/7/2022: Adding the condition:SULOCHANA for distribution-->
                    <aura:if
                      isTrue="{!and(v.clientTypeVal == 'NBFS Trust', v.processTypeP != 'F2F Onboarding')}"
                    >
                      <lightning:select
                        name="CountryOfPassport"
                        value="{!v.newIndivProspect.CountryPassport__pc}"
                        label="Country Of Passport"
                        class="customRequired"
                        aura:id="iCountryPassport"
                      >
                        <option value="">--Select--</option>
                        <aura:iteration
                          items="{!v.countryValuesArray_NEW}"
                          var="item"
                        >
                          <option value="{!item.value}">{!item.label}</option>
                        </aura:iteration>
                      </lightning:select>
                    </aura:if>
                    <!--<aura:if isTrue="{!v.processTypeP!='Lite Onboarding'}">SJAKKIDI:01172023:To show all fields in related party-->
                    <aura:if
                      isTrue="{!v.newIndivProspect.Place_of_Residence__c != 'South African Resident'}"
                    >
                      <lightning:inputField
                        fieldName="Country_Passport_Issued__pc"
                        aura:id="iCountryPassportIssued"
                        value="{!v.newIndivProspect.Country_Passport_Issued__pc}"
                      />
                    </aura:if>
                    <lightning:inputField
                      fieldName="Date_Issued__pc"
                      aura:id="iCountryDateIssued"
                      value="{!v.newIndivProspect.Date_Issued__pc}"
                    />
                    <!-- Added by Maha W-017764 (30-5-22)-->
                    <aura:if
                      isTrue="{!or(and(v.showContact,v.processTypeP=='Estate Onboarding'),and(v.processTypeP!='Estate Onboarding',v.processTypeP != 'F2F Onboarding'))}"
                    >
                      <lightning:inputField
                        fieldName="Communication_Language__pc"
                        aura:id="iCommunicationLanguage"
                        value="{!v.newIndivProspect.Communication_Language__pc}"
                        class="customRequired"
                      />
                    </aura:if>
                    <!-- Added W-025069 :SULOCHANA -->
                    <aura:if isTrue="{!v.processTypeP == 'F2F Onboarding'}">
                      <lightning:select
                        name="Communication Language"
                        value="{!v.newIndivProspect.Communication_Language__pc}"
                        label="Communication Language"
                        required="true"
                      >
                        <option value="">--Select--</option>
                        <option value="Afrikaans">Afrikaans</option>
                        <option value="English">English</option>
                      </lightning:select>
                    </aura:if>
                    <!--</aura:if>-->
                    <!--<aura:if isTrue="{!v.processTypeP=='Lite Onboarding'}"-->
                    <aura:if isTrue="{!v.showMarital}">
                      <!--20-May-22 lakshmi Added for Estate late design change -->
                      <lightning:inputField
                        fieldName="Marital_Contract_Type__pc"
                        aura:id="iMaritalContractType"
                        value="{!v.newIndivProspect.Marital_Contract_Type__pc}"
                        required="true"
                      />
                    </aura:if>
                  </aura:if>
                  <!--<lightning:select name="Country of Citizenship" value="{!v.newIndivProspect.Country_of_Citizenship__c}" label="Country of Citizenship" class="customRequired" >
                                        <option value="">Select</option>
                                        <aura:iteration items="{!v.countryValuesArray_NEW}" var="item">
                                            <option value="{!item.value}">{!item.label}</option>
                                        </aura:iteration>

                                    </lightning:select>-->
                  <!-- <lightning:inputField fieldName="Country_of_Citizenship__c" value="{!v.newIndivProspect.Country_of_Citizenship__c}" class=""/> -->
                </lightning:layoutItem>
              </lightning:layout>

              <aura:if isTrue="{!v.processTypeP != 'Surety Onboarding'}">
                <lightning:layout>
                  <lightning:layoutItem padding="around-small" size="9">
                    <lightning:dualListbox
                      aura:id="selectGenre"
                      name="Country of Citizenship"
                      required="true"
                      label="Country of Citizenship"
                      sourceLabel="Available Country"
                      selectedLabel="Selected Country"
                      options="{!v.countryValuesArray_NEW }"
                      value="{!v.countryOfCitizenShip}"
                      onchange="{! c.handleChangeCountryOfCitzn }"
                    />
                  </lightning:layoutItem>
                </lightning:layout>
              </aura:if>

              <aura:if
                isTrue="{!v.newIndivProspect.Place_of_Residence__c != 'South African Resident'}"
              >
                <lightning:layout>
                  <lightning:layoutItem padding="around-small" size="6">
                    <lightning:input
                      type="checkbox"
                      checked="{!v.newIndivProspect.Is_the_Client_a_Temporary_Resident__c}"
                      label="Temporary Resident"
                      aura:id="tempResidentId"
                      onchange="{!c.handleTempResidentSection}"
                    />
                  </lightning:layoutItem>
                </lightning:layout>
              </aura:if>

              <aura:if isTrue="{!v.showTempResidentSection}">
                <lightning:layout>
                  <lightning:layoutItem padding="around-small" size="6">
                    <lightning:inputField
                      fieldName="Country_of_Permanent_Residency__c"
                      value="{!v.newIndivProspect.Country_of_Permanent_Residency__c}"
                      class="customRequired"
                    />
                    <lightning:inputField
                      fieldName="Purpose_of_Visit__c"
                      value="{!v.newIndivProspect.Purpose_of_Visit__c}"
                      class="customRequired"
                    />
                    <lightning:inputField
                      fieldName="Date_of_Arrival_in_South_Africa__c"
                      value="{!v.newIndivProspect.Date_of_Arrival_in_South_Africa__c}"
                      class="customRequired"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem padding="around-small" size="6">
                    <lightning:inputField
                      fieldName="Period_of_Visit__c"
                      value="{!v.newIndivProspect.Period_of_Visit__c}"
                      class="customRequired"
                    />
                    <lightning:inputField
                      fieldName="Temporary_Resident_Permit__c"
                      value="{!v.newIndivProspect.Temporary_Resident_Permit__c}"
                    />
                    <lightning:inputField
                      fieldName="Temporary_Resident_Permit_Expiry_Date__c"
                      value="{!v.newIndivProspect.Temporary_Resident_Permit_Expiry_Date__c}"
                    />
                  </lightning:layoutItem>
                </lightning:layout>
              </aura:if>
              <!-- TdB: Additional fields for Participant Role -->
              <aura:if isTrue="{!v.isParticipant}">
                <lightning:layout multipleRows="true">
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Primary_Identification_Reason__c"
                      value="{!v.newIndivProspect.Primary_Identification_Reason__c}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Place_of_Birth_City_Town__c"
                      value="{!v.newIndivProspect.Place_of_Birth_City_Town__c}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Passport_Number__pc"
                      value="{!v.newIndivProspect.Passport_Number__pc}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Passport_Expiry_Date__c"
                      value="{!v.newIndivProspect.Passport_Expiry_Date__c}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Temporary_resident_permit_number__c"
                      value="{!v.newIndivProspect.Temporary_resident_permit_number__c}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Temporary_Resident_Permit_Expiry_Date__c"
                      value="{!v.newIndivProspect.Temporary_Resident_Permit_Expiry_Date__c}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="City_of_Residence__c"
                      value="{!v.newIndivProspect.City_of_Residence__c}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Nationality__pc"
                      value="{!v.newIndivProspect.Nationality__pc}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Practice_Number__c"
                      value="{!v.newIndivProspect.Practice_Number__c}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Group_Scheme_Code__c"
                      value="{!v.newIndivProspect.Group_Scheme_Code__c}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Employee_No__c"
                      value="{!v.newIndivProspect.Employee_No__c}"
                    />
                  </lightning:layoutItem>
                </lightning:layout>
              </aura:if>
              <!--<aura:if isTrue="{!v.processTypeP!='Lite Onboarding'}">SJAKKIDI:01172023:To show all fields in related party-->
              <!--Manoj-6073-Lite Onboarding Manual Capture Individual-->
              <aura:if
                isTrue="{!or(and(v.showContact,v.processTypeP=='Estate Onboarding'),v.processTypeP!='Estate Onboarding')}"
              >
                <!--19-May-22 lakshmi Added for Estate late design change -->
                <h3 class="slds-section__title">
                  <span
                    class="slds-truncate slds-button slds-section__title-action"
                    title="Section Title"
                    >Contact Details</span
                  >
                </h3>
                <lightning:layout>
                  <lightning:layoutItem padding="around-small" size="6">
                    <!-- Added by Tejesh for W-029881 on 15Feb2023 -->
                    <aura:if isTrue="{!v.processTypeP=='Estate Onboarding'}">
                      <lightning:select
                        aura:id="iCOmmunicationMethod"
                        name="CommunicationMethod"
                        value="{!v.newBusinessProspect.Communication_Method__c}"
                        label="Communication Method"
                        required="true"
                      >
                        <option value="">--Select--</option>
                        <option value="Email">Email</option>
                        <option value="Phone">Phone</option>
                      </lightning:select>
                    </aura:if>
                    <!--  <lightning:inputField aura:id="iClientPersonMobilePhone" fieldName="PersonMobilePhone" value="{!v.newIndivProspect.PersonMobilePhone}" />
                                        <lightning:inputField aura:id="iClientPersonHomePhone" fieldName="PersonHomePhone" value="{!v.newIndivProspect.PersonHomePhone}"/>-->
                    <label for="iClientPhone">Phone</label>
                    <lightning:inputField
                      aura:id="iClientPhone"
                      variant="label-hidden"
                      fieldName="Phone"
                      value="{!v.newIndivProspect.Phone}"
                      label="Phone"
                      class="customRequired"
                    />

                    <aura:if isTrue="{!v.processTypeP != 'Surety Onboarding'}">
                      <lightning:inputField
                        aura:id="iClientPersonMobilePhone"
                        fieldName="PersonMobilePhone"
                        value="{!v.newIndivProspect.PersonMobilePhone}"
                        label="MobilePhone"
                      />
                      <!--Added By Divya on 25/10/2022-->
                    </aura:if>
                    <aura:if isTrue="{!v.clientTypeVal != 'NBFS Trust'}">
                      <lightning:inputField
                        aura:id="iClientEmail"
                        fieldName="PersonEmail"
                        value="{!v.newIndivProspect.PersonEmail}"
                        class="customRequired"
                      />
                      <aura:set attribute="else">
                        <lightning:inputField
                          aura:id="iClientEmail"
                          fieldName="PersonEmail"
                          value="{!v.newIndivProspect.PersonEmail}"
                        />
                      </aura:set>
                    </aura:if>
                  </lightning:layoutItem>
                </lightning:layout>
              </aura:if>

              <!-- TdB - Occupation START-->
              <aura:if isTrue="{!v.processTypeP != 'Surety Onboarding'}">
                <!--Updated By Divya on 16/7/2022-->
                <!--<aura:if isTrue="{! or(v.isOperatingRole,v.clientTypeVal == 'Estate Late',v.clientTypeVal == 'NBFS Trust', v.clientTypeVal == 'ESTATE LATE',v.processTypeP == 'Estate Onboarding',v.processTypeP == 'Wealth Offshore Onboarding')}">-->
                <aura:if
                  isTrue="{!or(v.isOperatingRole,v.showOccupationSection)}"
                >
                  <h3 class="slds-section__title">
                    <span
                      class="slds-truncate slds-button slds-section__title-action"
                      title="Section Title"
                      >Occupation Details</span
                    >
                  </h3>
                  <lightning:layout multipleRows="true">
                    <lightning:layoutItem
                      padding=""
                      size="6"
                      smallDeviceSize="12"
                      mediumDeviceSize="6"
                    >
                      <lightning:inputField
                        aura:id="iOccupationStatus"
                        fieldName="Occupation_Status__pc"
                        value="{!v.newIndivProspect.Occupation_Status__pc}"
                        class="customRequired"
                      />
                    </lightning:layoutItem>
                    <!--<aura:if isTrue="{!v.isEmployed}">-->
                    <lightning:layoutItem
                      padding=""
                      size="6"
                      smallDeviceSize="12"
                      mediumDeviceSize="6"
                    >
                      <lightning:inputField
                        fieldName="Occupation__pc"
                        value="{!v.newIndivProspect.Occupation__pc}"
                      />
                    </lightning:layoutItem>
                    <lightning:layoutItem
                      padding=""
                      size="6"
                      smallDeviceSize="12"
                      mediumDeviceSize="6"
                    >
                      <lightning:inputField
                        fieldName="Occupation_Category__pc"
                        value="{!v.newIndivProspect.Occupation_Category__pc}"
                      />
                    </lightning:layoutItem>
                    <lightning:layoutItem
                      padding=""
                      size="6"
                      smallDeviceSize="12"
                      mediumDeviceSize="6"
                    >
                      <lightning:inputField
                        fieldName="Occupation_Level__pc"
                        value="{!v.newIndivProspect.Occupation_Level__pc}"
                      />
                    </lightning:layoutItem>

                    <lightning:layoutItem
                      padding=""
                      size="6"
                      smallDeviceSize="12"
                      mediumDeviceSize="6"
                    >
                      <lightning:inputField
                        aura:id="iEmployerName"
                        fieldName="Employer_Name__pc"
                        value="{!v.newIndivProspect.Employer_Name__pc}"
                      />
                    </lightning:layoutItem>
                    <lightning:layoutItem
                      padding=""
                      size="6"
                      smallDeviceSize="12"
                      mediumDeviceSize="6"
                    >
                      <lightning:inputField
                        aura:id="iEmployerSector"
                        fieldName="Employer_Sector__pc"
                        value="{!v.newIndivProspect.Employer_Sector__pc}"
                      />
                    </lightning:layoutItem>

                    <!--</aura:if>-->
                  </lightning:layout>

                  <br />
                </aura:if>
              </aura:if>
              <!--</aura:if>-->
              <!--Occupation End-->

              <aura:if isTrue="{!v.processTypeP != 'Surety Onboarding'}">
                <!--</lightning:recordEditForm>-->
                <h3 class="slds-section__title">
                  <span
                    class="slds-truncate slds-button slds-section__title-action"
                    title="Section Title"
                    >Address Information</span
                  >
                </h3>
                <lightning:layout>
                  <lightning:layoutItem padding="around-small" size="12">
                    <div style="display: none">
                      <!--Newly commented by Rajesh for Popup issue-->
                      <!--<lightning:inputField fieldName="BillingAddress"/>-->
                    </div>
                    <lightning:recordEditForm objectApiName="Address__c">
                      <lightning:inputField
                        required="true"
                        fieldName="Shipping_Street__c"
                        value="{!v.newAddressRecord.Shipping_Street__c}"
                      />
                      <!-- TEJESH: Updated the below conditions on 11/OCT/2022 for defect W-027679 -->
                      <aura:if
                        isTrue="{! or(or(v.clientTypeVal == 'NBFS Trust',v.clientTypeVal == 'Estate Late'),or( v.clientTypeVal == 'ESTATE LATE',v.processTypeP == 'Estate Onboarding'))}"
                      >
                        <lightning:inputField
                          required="true"
                          fieldName="Shipping_Street_2__c"
                          value="{!v.newAddressRecord.Shipping_Street_2__c}"
                        />
                      </aura:if>
                      <aura:if
                        isTrue="{! and(and(v.clientTypeVal != 'NBFS Trust',v.clientTypeVal != 'Estate Late'), and(v.clientTypeVal != 'ESTATE LATE',v.processTypeP != 'Estate Onboarding'))}"
                      >
                        <lightning:inputField
                          fieldName="Shipping_Street_2__c"
                          value="{!v.newAddressRecord.Shipping_Street_2__c}"
                        />
                      </aura:if>

                      <lightning:inputField
                        required="true"
                        fieldName="Shipping_Suburb__c"
                        value="{!v.newAddressRecord.Shipping_Suburb__c}"
                      />
                      <lightning:inputField
                        required="true"
                        fieldName="Shipping_City__c"
                        value="{!v.newAddressRecord.Shipping_City__c}"
                      />
                      <lightning:inputField
                        required="true"
                        fieldName="Shipping_Country__c"
                        value="{!v.newAddressRecord.Shipping_Country__c}"
                      />
                      <lightning:inputField
                        required="true"
                        fieldName="Shipping_Zip_Postal_Code__c"
                        value="{!v.newAddressRecord.Shipping_Zip_Postal_Code__c}"
                      />
                    </lightning:recordEditForm>
                  </lightning:layoutItem>
                </lightning:layout>
              </aura:if>
              <!--Lakshmi 09-Jun-22 -W-017966 -->
              <aura:if
                isTrue="{!and(v.processTypeP != 'Estate Onboarding',v.clientTypeVal != 'ESTATE LATE',v.clientTypeVal != 'Estate Late')}"
              >
                <!--Lakshmi 15-4-22 -W-017966-->
                <h3 class="slds-section__title">
                  <span
                    class="slds-truncate slds-button slds-section__title-action"
                    title="Section Title"
                    >Company Involvement</span
                  >
                </h3>
              </aura:if>
              <lightning:layout>
                <lightning:layoutItem padding="around-small" size="12">
                  <div style="display: none"></div>
                  <lightning:recordEditForm objectApiName="Account">
                    <!--Lakshmi 09-Jun-22 -W-017966 -->
                    <aura:if
                      isTrue="{!and(v.processTypeP != 'Estate Onboarding',v.clientTypeVal != 'ESTATE LATE', v.clientTypeVal != 'Estate Late')}"
                    >
                      <lightning:inputField
                        fieldName="US_Person__c"
                        value="{!v.newIndivProspect.US_Person__c}"
                      /><!--Lakshmi 15-4-22 -W-017966-->
                      <lightning:inputField
                        required="{!v.isOperatingRole}"
                        fieldName="Operating_Roles__c"
                        value="{!v.newIndivProspect.Operating_Roles__c}"
                        aura:id="operatingRoleId"
                        onchange="{!c.handleChangeOperatingRole}"
                      />
                      <aura:if isTrue="{!v.isMandatIndemnityUser}">
                        <lightning:inputField
                          fieldName="Type_of_Instruction__c"
                          value="{!v.newIndivProspect.Type_of_Instruction__c}"
                        />
                        <lightning:inputField
                          fieldName="Account_Applicable__c"
                          value="{!v.newIndivProspect.Account_Applicable__c}"
                        />
                        <lightning:inputField
                          fieldName="Instruction_Method__c"
                          value="{!v.newIndivProspect.Instruction_Method__c}"
                        />
                      </aura:if>
                    </aura:if>
                    <!--Lakshmi 28-05-2022  W-017966 extra fields hidden-->
                  </lightning:recordEditForm>
                </lightning:layoutItem>
              </lightning:layout>

              <!-- TdB: Additional fields for Participant Role -->
              <aura:if isTrue="{!v.isParticipant}">
                <h3 class="slds-section__title">
                  <span
                    class="slds-truncate slds-button slds-section__title-action"
                    title="Section Title"
                    >Financial Information</span
                  >
                </h3>
                <lightning:layout multipleRows="true">
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <label for="prevInsolvent" class="slds-form-element__label"
                      >Have you ever been insolvent or under debt review?</label
                    >
                  </lightning:layoutItem>

                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Insolvent_Debit_Review__pc"
                      aura:id="prevInsolvent"
                      variant="label-hidden"
                      value="{!v.newIndivProspect.Insolvent_Debit_Review__pc}"
                    />
                    <div
                      aura:id="errPrevInsolvent"
                      class="slds-hide"
                      style="
                        color: var(
                          --lwc-colorTextError,
                          rgb(194, 57, 52)
                        ) !important;
                      "
                    >
                      Please Select a Value
                    </div>
                  </lightning:layoutItem>

                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:input
                      type="checkbox"
                      name="registeredTax"
                      aura:id="registeredTax"
                      label="Registered for TAX in South Africa"
                      checked="true"
                      onchange="{! c.showReasonForTaxNA }"
                    />
                  </lightning:layoutItem>

                  <aura:if isTrue="{!v.showNoTaxReason}">
                    <lightning:layoutItem
                      padding=""
                      size="6"
                      smallDeviceSize="12"
                      mediumDeviceSize="6"
                    >
                      <lightning:inputField
                        fieldName="Reason_For_Not_Providing_SA_Tax_Number__c"
                        aura:id="reasonForTaxNA"
                        value="{!v.newIndivProspect.Reason_For_Not_Providing_SA_Tax_Number__c}"
                      />
                      <div
                        aura:id="errreasonForTaxNA"
                        class="slds-hide"
                        style="
                          color: var(
                            --lwc-colorTextError,
                            rgb(194, 57, 52)
                          ) !important;
                        "
                      >
                        Please Enter Reason For Not Providing SA Tax Number
                      </div>
                    </lightning:layoutItem>
                    <aura:set attribute="else">
                      <lightning:layoutItem
                        padding=""
                        size="6"
                        smallDeviceSize="12"
                        mediumDeviceSize="6"
                      >
                        <lightning:inputField
                          fieldName="Income_Tax_Number__c"
                          aura:id="itNumber"
                          value="{!v.newIndivProspect.Income_Tax_Number__c}"
                        />
                        <div
                          aura:id="erritNumber"
                          class="slds-hide"
                          style="
                            color: var(
                              --lwc-colorTextError,
                              rgb(194, 57, 52)
                            ) !important;
                          "
                        >
                          Complete this field
                        </div>
                      </lightning:layoutItem>
                    </aura:set>
                  </aura:if>

                  <lightning:layout>
                    <lightning:layoutItem>
                      <lightning:inputField
                        fieldName="FAIS_Act__c"
                        aura:id="faisAct"
                        variant="label-hidden"
                        onchange="{!c.handleCheckboxChange}"
                        value="{!v.newIndivProspect.FAIS_Act__c}"
                      />
                    </lightning:layoutItem>

                    <lightning:layoutItem>
                      <label for="faisAct" class="slds-form-element__label"
                        >Client Renders Financial Services as defined in the
                        FAIS Act</label
                      >
                    </lightning:layoutItem>
                  </lightning:layout>

                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:input
                      type="checkbox"
                      name="registeredForeignTax"
                      aura:id="registeredForeignTax"
                      label="Registered for Foreign TAX"
                    />
                  </lightning:layoutItem>

                  <aura:if isTrue="{!v.showCountryForeignTax}">
                    <lightning:layoutItem
                      padding=""
                      size="6"
                      smallDeviceSize="12"
                      mediumDeviceSize="6"
                    >
                      <lightning:inputField
                        fieldName="Country_of_Foreign_tax__c"
                        aura:id="countryForeignTax"
                        value="{!v.newIndivProspect.Country_of_Foreign_tax__c}"
                      />
                      <div
                        aura:id="errCountryForeignTax"
                        class="slds-hide"
                        style="
                          color: var(
                            --lwc-colorTextError,
                            rgb(194, 57, 52)
                          ) !important;
                        "
                      >
                        Please select the country registered for foreign tax
                      </div>
                    </lightning:layoutItem>

                    <lightning:layoutItem
                      padding=""
                      size="6"
                      smallDeviceSize="12"
                      mediumDeviceSize="6"
                    >
                    </lightning:layoutItem>

                    <lightning:layoutItem
                      padding=""
                      size="6"
                      smallDeviceSize="12"
                      mediumDeviceSize="6"
                    >
                      <lightning:inputField
                        fieldName="Foreign_Tax_Number__c"
                        aura:id="foreignTax"
                        value="{!v.newIndivProspect.Foreign_Tax_Number__c}"
                      />
                      <div
                        aura:id="errforeignTaxNumber"
                        class="slds-hide"
                        style="
                          color: var(
                            --lwc-colorTextError,
                            rgb(194, 57, 52)
                          ) !important;
                        "
                      >
                        Complete this field
                      </div>
                    </lightning:layoutItem>

                    <lightning:layoutItem
                      padding=""
                      size="6"
                      smallDeviceSize="12"
                      mediumDeviceSize="6"
                    >
                    </lightning:layoutItem>
                  </aura:if>
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Monthly_Income__pc"
                      aura:id="iMonthlyIncome"
                      value="{!v.newIndivProspect.Monthly_Income__pc}"
                    />
                    <div
                      aura:id="errMonthlyIncome"
                      class="slds-hide"
                      style="
                        color: var(
                          --lwc-colorTextError,
                          rgb(194, 57, 52)
                        ) !important;
                      "
                    >
                      Please Enter Monthly Income
                    </div>
                  </lightning:layoutItem>

                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Does_the_Client_fall_under_the_CPA__c"
                      value="{!v.newIndivProspect.Does_the_Client_fall_under_the_CPA__c}"
                    />
                  </lightning:layoutItem>

                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Does_the_Client_fall_under_the_CPA__c"
                      value="{!v.newIndivProspect.Does_the_Client_fall_under_the_CPA__c}"
                    />
                  </lightning:layoutItem>

                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Is_Customer_Multi_Banked__c"
                      value="{!v.newIndivProspect.Is_Customer_Multi_Banked__c}"
                    />
                  </lightning:layoutItem>

                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Customer_Accounts_closed_by_another_Bank__c"
                      value="{!v.newIndivProspect.Customer_Accounts_closed_by_another_Bank__c}"
                    />
                  </lightning:layoutItem>

                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                    class="slds-hide"
                  >
                    <lightning:inputField
                      fieldName="Client_Group__c"
                      aura:id="iClientGroupRelatdeParty"
                      value="{!v.newIndivProspect.Client_Group__c}"
                    />
                  </lightning:layoutItem>

                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Source_of_Income__c"
                      aura:id="iSourceOfIncome"
                      value="{!v.newIndivProspect.Source_of_Income__c}"
                    />
                  </lightning:layoutItem>
                </lightning:layout>
                <h3 class="slds-section__title">
                  <span
                    class="slds-truncate slds-button slds-section__title-action"
                    title="Section Title"
                    >Regulatory Section - 3(i)f</span
                  >
                </h3>
                <lightning:layout>
                  <lightning:layoutItem>
                    <lightning:inputField
                      fieldName="Is_the_Client_a_Temporary_Resident__c"
                      variant="label-hidden"
                      aura:id="iTemporaryResident"
                      value="{!v.newIndivProspect.Is_the_Client_a_Temporary_Resident__c}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem>
                    <label
                      for="iTemporaryResident"
                      class="slds-form-element__label"
                      >Is the Client a Temporary Resident?</label
                    >
                  </lightning:layoutItem> </lightning:layout
                ><br />
                <lightning:layout>
                  <lightning:layoutItem>
                    <lightning:inputField
                      fieldName="Is_the_Client_a_Non_resident__c"
                      variant="label-hidden"
                      aura:id="iNonResident"
                      value="{!v.newIndivProspect.Is_the_Client_a_Non_resident__c}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem>
                    <label for="iNonResident" class="slds-form-element__label"
                      >Is the Client a Non-resident?</label
                    >
                  </lightning:layoutItem> </lightning:layout
                ><br />
              </aura:if>
            </lightning:recordEditForm>
          </p>
        </div>
        <footer class="slds-modal__footer">
          <lightning:button
            variant="neutral"
            label="Cancel"
            title="Cancel"
            onclick="{! c.closeNewRelatedPartyModal }"
          />
          <lightning:button
            variant="brand"
            label="Create Related Party"
            title="Save"
            disabled="{!v.butdisable}"
            onclick="{! c.createRelatedParty }"
          />
        </footer>
      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
  </aura:if>

  <!--Update Related Party-->
  <aura:if isTrue="{!v.isUpdateRelatedParty}">
    <section
      role="dialog"
      tabindex="-1"
      aria-labelledby="modal-heading-01"
      aria-modal="true"
      aria-describedby="modal-content-id-1"
      class="slds-modal slds-fade-in-open slds-modal_large"
    >
      <div class="slds-modal__container">
        <header class="slds-modal__header">
          <lightning:buttonIcon
            iconName="utility:close"
            onclick="{! c.closeEditRelatedPartyModal}"
            alternativeText="close"
            variant="bare-inverse"
            class="slds-modal__close"
          />
          <h2 id="modal-heading-01" class="slds-modal__title slds-hyphenate">
            Update Related Party
          </h2>
        </header>
        <div
          class="slds-modal__content slds-p-around_medium"
          id="modal-content-id-1"
        >
          <p>
            <lightning:recordEditForm
              onload="{!handleUpdateRelatedPartyLoad}"
              recordTypeId="{!v.individualProspectRecordTypeId}"
              aura:id="editRelatedParty"
              objectApiName="Account"
              ><!--recordId="{!v.editedAccountId}"-->
              <h3 class="slds-section__title">
                <span
                  class="slds-truncate slds-button slds-section__title-action"
                  title="Section Title"
                  >Related Party Role Information</span
                >
              </h3>
              <lightning:layout>
                <lightning:layoutItem padding="around-small" size="12">
                  <lightning:inputField
                    fieldName="ID_Number__pc"
                    value="{!v.editedAccount.ID_Number__pc}"
                    class="customRequired"
                  />
                  <lightning:select
                    name="ID Type"
                    aura:id="iClientIdtype"
                    value="{!v.editedAccount.ID_Type__pc}"
                    label="ID Type"
                    required="true"
                    onchange="{! c.handleIdTypeChange}"
                  >
                    <!--Modified by Tejesh 21/07/2022-->
                    <option value="">--Select--</option>
                    <option value="SA Identity Document">
                      SA Identity Document
                    </option>
                    <option value="Passport">Passport</option>

                    <!--Added By Lakshmi W-020122 (01-06-22),Modified by Tejesh 27/07/2022 -->
                    <aura:if isTrue="{!v.processTypeP != 'Estate Onboarding'}">
                      <option value="Temporary ID Document">
                        Temporary ID Document
                      </option>
                    </aura:if>
                    <aura:if
                      isTrue="{!and(v.processTypeP != 'Estate Onboarding',v.processTypeP != 'F2F Onboarding')}"
                    >
                      <option value="CIF">CIF</option>
                    </aura:if>
                  </lightning:select>
                  <lightning:layoutItem padding="around-small" size="12">
                    <lightning:dualListbox
                      name="iRoles"
                      label="Roles:"
                      sourceLabel="Available"
                      selectedLabel="Selected"
                      fieldLevelHelp="Select all applicable Roles"
                      options="{!v.roleOptions}"
                      value="{!v.selectedRole}"
                      onchange="{! c.handleRoleChange }"
                    /><!--handleChange added by chandra dated 23/07/2020-->
                  </lightning:layoutItem>
                </lightning:layoutItem>
              </lightning:layout>

              <!-- TdB: Additional fields for Participant Role -->
              <aura:if isTrue="{!v.isParticipant}">
                <h3 class="slds-section__title">
                  <span
                    class="slds-truncate slds-button slds-section__title-action"
                    title="Section Title"
                    >Identity and Verification</span
                  >
                </h3>
                <lightning:layout multipleRows="true">
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Date_Identified__c"
                      aura:id="iDateIdentified"
                      value="{!v.editedAccount.Date_Identified__c}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Identified_by_Employee_Number__c"
                      aura:id="iIdentifiedByEmployeeNumber"
                      value="{!v.editedAccount.Identified_by_Employee_Number__c}"
                    />
                  </lightning:layoutItem>
                </lightning:layout>
              </aura:if>
              <h3 class="slds-section__title">
                <span
                  class="slds-truncate slds-button slds-section__title-action"
                  title="Section Title"
                  >Client Information</span
                >
              </h3>
              <lightning:layout>
                <lightning:layoutItem padding="around-small" size="6">
                  <div style="display: none">
                    <lightning:inputField fieldName="Name" />
                  </div>

                  <aura:if isTrue="{!v.processTypeP!='Lite Onboarding'}">
                    <aura:if isTrue="{!v.processTypeP != 'Surety Onboarding'}">
                      <aura:if
                        isTrue="{!or(or( v.clientTypeVal == 'NBFS Trust'),v.processTypeP == 'F2F Onboarding')}"
                        ><!--Removed estate lakshmi 2-6-22 W-020115-->
                        <label class="slds-form-element__label">Title</label>
                        <lightning:inputField
                          aura:id="iClientPersonTitlepicklistUp"
                          fieldName="Titles__pc"
                          value="{!v.editedAccount.PersonTitle}"
                          variant="label-hidden"
                          class="customRequired"
                        />
                      </aura:if>
                      <aura:if
                        isTrue="{! or(v.processTypeP == 'Estate Onboarding',v.clientTypeVal == 'Estate Late')}"
                      >
                        <!--Label added by Lakshmi(27-5-22)-->
                        <label class="slds-form-element__label">Title</label>
                        <!--Changed the input value for title Lakshmi 2-6-22 W-020115-->
                        <lightning:inputField
                          aura:id="iClientPersonTitlepicklistUp"
                          fieldName="Titles__pc"
                          value="{!v.editedAccount.PersonTitle}"
                          variant="label-hidden"
                          class="customRequired"
                        />
                      </aura:if>

                      <aura:if
                        isTrue="{!and(and(v.processTypeP != 'Estate Onboarding',v.clientTypeVal != 'NBFS Trust', v.clientTypeVal != 'Estate Late'), v.processTypeP != 'F2F Onboarding') }"
                      >
                        <lightning:inputField
                          aura:id="iClientPersonTitle"
                          fieldName="PersonTitle"
                          value="{!v.editedAccount.PersonTitle}"
                          class="customRequired"
                        />
                      </aura:if>
                      <!--   <lightning:inputField aura:id="iClientPersonTitlepicklst" fieldName="Titles__pc" class="customRequired"/> -->
                      <lightning:inputField
                        aura:id="iClientInitials"
                        fieldName="Initials__pc"
                        value="{!v.editedAccount.Initials__pc}"
                      />
                    </aura:if>
                  </aura:if>
                  <!--Lakshmi Added for W-020317-->
                  <aura:if
                    isTrue="{! or(or(v.processTypeP == 'Estate Onboarding',v.clientTypeVal == 'Estate Late'),v.processTypeP == 'F2F Onboarding')}"
                  >
                    <lightning:inputField
                      aura:id="iClientFirstName"
                      fieldName="FirstName"
                      value="{!v.editedAccount.FirstName}"
                      class="customRequired"
                    />
                  </aura:if>
                  <aura:if
                    isTrue="{!and(and(v.processTypeP != 'Estate Onboarding',v.clientTypeVal != 'Estate Late'),v.processTypeP != 'F2F Onboarding')}"
                  >
                    <lightning:inputField
                      aura:id="iClientFirstName"
                      fieldName="FirstName"
                      value="{!v.editedAccount.FirstName}"
                    />
                  </aura:if>

                  <lightning:inputField
                    aura:id="iClientLastName"
                    fieldName="LastName"
                    value="{!v.editedAccount.LastName}"
                    class="customRequired"
                  />
                  <!--Tejesh: Commented ount below tag as Relationship is not required -->
                  <!--
									<aura:if isTrue="{!v.processTypeP =='Estate Onboarding'}">
										<aura:if isTrue="{!v.showRelationship}">
											<label class="slds-form-element__label" for="iwill">Relationship</label>
											<lightning:inputField
												aura:id="iNext_of_Kin_Relationship__pc"
												fieldName="Next_of_Kin_Relationship__pc"
												value="{!v.editedAccount.Next_of_Kin_Relationship__pc}"
												class="customRequired"
												variant="label-hidden"
											/>
										</aura:if>
									</aura:if>
       							   -->

                  <aura:if isTrue="{!v.processTypeP!='Lite Onboarding'}">
                    <aura:if isTrue="{!v.processTypeP != 'Surety Onboarding'}">
                      <lightning:inputField
                        aura:id="iClientPersonBirthdate"
                        fieldName="PersonBirthdate"
                        value="{!v.editedAccount.PersonBirthdate}"
                        class="customRequired"
                      />
                      <lightning:inputField
                        aura:id="iCountryOfResidence"
                        fieldName="Country_of_Residence__c"
                        value="{!v.editedAccount.Country_of_Residence__c}"
                        class="customRequired"
                      />
                      <!-- START:AG: W-022648 Additional fields for Partner/Controller Role -->
                      <aura:if isTrue="{!v.isPartnerControllerRole}">
                        <lightning:inputField
                          fieldName="Primary_Identification_Reason__c"
                          value="{!v.newIndivProspect.Primary_Identification_Reason__c}"
                          class="customRequired"
                        />
                        <lightning:inputField
                          fieldName="Temporary_resident_permit_number__c"
                          value="{!v.newIndivProspect.Temporary_resident_permit_number__c}"
                          class="customRequired"
                        />
                        <lightning:inputField
                          fieldName="Temporary_Resident_Permit_Expiry_Date__c"
                          value="{!v.newIndivProspect.Temporary_Resident_Permit_Expiry_Date__c}"
                          class="customRequired"
                        />
                      </aura:if>
                      <!-- END:AG: W-022648 Additional fields for Partner/Controller Role -->
                    </aura:if>
                  </aura:if>
                </lightning:layoutItem>
                <lightning:layoutItem padding="around-small" size="6">
                  <aura:if isTrue="{!v.processTypeP != 'Surety Onboarding'}">
                    <lightning:input
                      aura:id="editSharePercent"
                      cname="SharePercentage"
                      label="Share Percentage"
                      formatter="percent-fixed"
                      onchange="{!c.handleSharePercentChange}"
                      disabled="true"
                    /><!--Add disabled to disable this field on load on screen by chandra-->
                  </aura:if>
                  <aura:if isTrue="{!v.processTypeP != 'Lite Onboarding'}">
                    <lightning:select
                      aura:id="selectedDesignationId"
                      label="Designation"
                      name="Designation"
                      value="{!v.designationSelected}"
                    >
                      <option value="" text="- NONE -" />
                      <aura:iteration
                        items="{!v.designationOptions}"
                        var="designation"
                      >
                        <option value="{!designation}">{!designation}</option>
                      </aura:iteration>
                    </lightning:select>
                  </aura:if>

                  <aura:if isTrue="{!v.processTypeP != 'Surety Onboarding'}">
                    <aura:if isTrue="{!v.processTypeP != 'Lite Onboarding'}">
                      <lightning:select
                        name="Gender"
                        value="{!v.editedAccount.Gender__pc}"
                        label="Gender"
                        required="true"
                      >
                        <option value="">--Select--</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                      </lightning:select>
                    </aura:if>
                    <lightning:select
                      name="Country of Birth"
                      value="{!v.editedAccount.Country_of_Birth__pc}"
                      label="Country of Birth"
                      class="customRequired"
                    >
                      <option value="">--Select--</option>
                      <aura:iteration
                        items="{!v.countryValuesArray_NEW}"
                        var="item"
                      >
                        <option value="{!item.value}">{!item.label}</option>
                      </aura:iteration>
                    </lightning:select>
                    <!--Added by Tejesh: W-020621-->
                    <lightning:select
                      name="Nationality"
                      value="{!v.editedAccount.Nationality__pc}"
                      label="Nationality"
                      class="customRequired"
                    >
                      <option value="">--Select--</option>
                      <aura:iteration
                        items="{!v.countryValuesArray_NEW}"
                        var="item"
                      >
                        <option value="{!item.value}">{!item.label}</option>
                      </aura:iteration>
                    </lightning:select>
                    <!--END: Added by Tejesh:  W-020621-->
                    <!-- Added for defect W-023330-->
                    <!-- Added by Tejesh 29/07/2022 -->
                    <aura:if
                      isTrue="{!and(v.showCntryPass,v.processTypeP != 'F2F Onboarding')}"
                    >
                      <lightning:select
                        name="CountryOfPassport"
                        aura:id="iCountryPassport"
                        value="{!v.editedAccount.CountryPassport__pc}"
                        label="Country Of Passport"
                        class="customRequired"
                      >
                        <option value="">--Select--</option>
                        <aura:iteration
                          items="{!v.countryValuesArray_NEW}"
                          var="item"
                        >
                          <option value="{!item.value}">{!item.label}</option>
                        </aura:iteration>
                      </lightning:select>
                    </aura:if>

                    <aura:if isTrue="{!v.processTypeP != 'Lite Onboarding'}">
                      <aura:if
                        isTrue="{!v.editedAccount.Place_of_Residence__c != 'South African Resident'}"
                      >
                        <lightning:inputField
                          fieldName="Country_Passport_Issued__pc"
                          aura:id="iCountryPassportIssued"
                          value="{!v.editedAccount.Country_Passport_Issued__pc}"
                        />
                      </aura:if>
                      <lightning:inputField
                        fieldName="Date_Issued__pc"
                        aura:id="iCountryDateIssuedEdit"
                        value="{!v.editedAccount.Date_Issued__pc}"
                      />
                      <aura:if
                        isTrue="{!or(and(v.showContact,v.processTypeP=='Estate Onboarding'),and(v.processTypeP != 'Estate Onboarding',v.processTypeP != 'F2F Onboarding'))}"
                      >
                        <lightning:inputField
                          fieldName="Communication_Language__pc"
                          aura:id="iCommunicationLanguage"
                          value="{!v.editedAccount.Communication_Language__pc}"
                          class="customRequired"
                        />
                      </aura:if>
                      <!-- Added W-025069 :SULOCHANA -->
                      <aura:if isTrue="{!v.processTypeP == 'F2F Onboarding'}">
                        <lightning:select
                          name="Communication Language"
                          value="{!v.editedAccount.Communication_Language__pc}"
                          label="Communication Language"
                          required="true"
                        >
                          <option value="">--Select--</option>
                          <option value="Afrikaans">Afrikaans</option>
                          <option value="English">English</option>
                        </lightning:select>
                      </aura:if>
                    </aura:if>
                    <aura:if isTrue="{!v.showMarital}">
                      <!--20-May-22 lakshmi Added for Estate late design change -->
                      <lightning:inputField
                        fieldName="Marital_Status__pc"
                        aura:id="iMaritalStatus"
                        value="{!v.editedAccount.Marital_Status__pc}"
                        class="customRequired"
                      />
                      <lightning:inputField
                        fieldName="Marital_Contract_Type__pc"
                        aura:id="iMaritalContractType"
                        value="{!v.editedAccount.Marital_Contract_Type__pc}"
                      />
                    </aura:if>
                  </aura:if>
                </lightning:layoutItem>
              </lightning:layout>

              <aura:if isTrue="{!v.processTypeP != 'Surety Onboarding'}">
                <lightning:layout>
                  <lightning:layoutItem padding="around-small" size="9">
                    <lightning:dualListbox
                      aura:id="selectGenre"
                      name="Country of Citizenship"
                      required="true"
                      label="Country of Citizenship"
                      sourceLabel="Available Country"
                      selectedLabel="Selected Country"
                      options="{!v.countryValuesArray_NEW }"
                      value="{!v.countryOfCitizenShip}"
                      onchange="{! c.handleChangeCountryOfCitzn }"
                    />
                  </lightning:layoutItem>
                </lightning:layout>
              </aura:if>

              <aura:if
                isTrue="{!v.editedAccount.Place_of_Residence__c != 'South African Resident'}"
              >
                <lightning:layout>
                  <lightning:layoutItem padding="around-small" size="6">
                    <lightning:input
                      type="checkbox"
                      checked="{!v.editedAccount.Is_the_Client_a_Temporary_Resident__c}"
                      label="Temporary Resident"
                      aura:id="tempResidentId"
                      onchange="{!c.handleTempResidentSection}"
                    />
                  </lightning:layoutItem>
                </lightning:layout>
              </aura:if>

              <aura:if isTrue="{!v.showTempResidentSection}">
                <lightning:layout>
                  <lightning:layoutItem padding="around-small" size="6">
                    <lightning:inputField
                      fieldName="Country_of_Permanent_Residency__c"
                      value="{!v.editedAccount.Country_of_Permanent_Residency__c}"
                      class="customRequired"
                    />
                    <lightning:inputField
                      fieldName="Purpose_of_Visit__c"
                      value="{!v.editedAccount.Purpose_of_Visit__c}"
                      class="customRequired"
                    />
                    <lightning:inputField
                      fieldName="Date_of_Arrival_in_South_Africa__c"
                      value="{!v.editedAccount.Date_of_Arrival_in_South_Africa__c}"
                      class="customRequired"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem padding="around-small" size="6">
                    <lightning:inputField
                      fieldName="Period_of_Visit__c"
                      value="{!v.editedAccount.Period_of_Visit__c}"
                      class="customRequired"
                    />
                    <lightning:inputField
                      fieldName="Temporary_Resident_Permit__c"
                      value="{!v.editedAccount.Temporary_Resident_Permit__c}"
                    />
                    <lightning:inputField
                      fieldName="Temporary_Resident_Permit_Expiry_Date__c"
                      value="{!v.editedAccount.Temporary_Resident_Permit_Expiry_Date__c}"
                    />
                  </lightning:layoutItem>
                </lightning:layout>
              </aura:if>

              <!-- TdB: Additional fields for Participant Role -->
              <aura:if isTrue="{!v.isParticipant}">
                <lightning:layout multipleRows="true">
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Primary_Identification_Reason__c"
                      value="{!v.editedAccount.Primary_Identification_Reason__c}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Place_of_Birth_City_Town__c"
                      value="{!v.editedAccount.Place_of_Birth_City_Town__c}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Passport_Number__pc"
                      value="{!v.editedAccount.Passport_Number__pc}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Passport_Expiry_Date__c"
                      value="{!v.editedAccount.Passport_Expiry_Date__c}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Temporary_resident_permit_number__c"
                      value="{!v.editedAccount.Temporary_resident_permit_number__c}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Temporary_Resident_Permit_Expiry_Date__c"
                      value="{!v.editedAccount.Temporary_Resident_Permit_Expiry_Date__c}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="City_of_Residence__c"
                      value="{!v.editedAccount.City_of_Residence__c}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Nationality__pc"
                      value="{!v.editedAccount.Nationality__pc}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Practice_Number__c"
                      value="{!v.editedAccount.Practice_Number__c}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Group_Scheme_Code__c"
                      value="{!v.editedAccount.Group_Scheme_Code__c}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Employee_No__c"
                      value="{!v.editedAccount.Employee_No__c}"
                    />
                  </lightning:layoutItem>
                </lightning:layout>
              </aura:if>

              <aura:if isTrue="{!v.processTypeP != 'Lite Onboarding'}">
                <aura:if
                  isTrue="{!or(and(v.showContact,v.processTypeP=='Estate Onboarding'),v.processTypeP!='Estate Onboarding')}"
                >
                  <!--Lakshmi 19 May 22 Added for estate late design change-->
                  <h3 class="slds-section__title">
                    <span
                      class="slds-truncate slds-button slds-section__title-action"
                      title="Section Title"
                      >Contact Details</span
                    >
                  </h3>
                  <lightning:layout>
                    <lightning:layoutItem padding="around-small" size="6">
                      <!-- Added by Tejesh for W-029881 on 15Feb2023 -->
                      <aura:if isTrue="{!v.processTypeP=='Estate Onboarding'}">
                        <lightning:select
                          aura:id="iCOmmunicationMethod"
                          name="CommunicationMethod"
                          value="{!v.editedAccount.Communication_Method__c}"
                          label="Communication Method"
                          required="true"
                        >
                          <option value="">--Select--</option>
                          <option value="Email">Email</option>
                          <option value="Phone">Phone</option>
                        </lightning:select>
                      </aura:if>
                      <label for="iClientPhone">Phone</label>
                      <lightning:inputField
                        aura:id="iClientPhone"
                        variant="label-hidden"
                        fieldName="Phone"
                        value="{!v.editedAccount.Phone}"
                        label="Phone"
                      />

                      <aura:if
                        isTrue="{!v.processTypeP != 'Surety Onboarding'}"
                      >
                        <lightning:inputField
                          aura:id="iClientPersonMobilePhone"
                          fieldName="PersonMobilePhone"
                          value="{!v.editedAccount.PersonMobilePhone}"
                          label="MobilePhone"
                        />
                      </aura:if>
                      <lightning:inputField
                        aura:id="iClientEmail"
                        fieldName="PersonEmail"
                        value="{!v.editedAccount.PersonEmail}"
                      />
                    </lightning:layoutItem>
                  </lightning:layout>
                </aura:if>
              </aura:if>

              <!-- TdB - Occupation START-->
              <aura:if isTrue="{!v.processTypeP != 'Lite Onboarding'}">
                <aura:if isTrue="{!v.processTypeP != 'Surety Onboarding'}">
                  <!-- Tejesh modified the below condition -->
                  <!-- <aura:if
										isTrue="{! v.isOperatingRole || v.clientTypeVal == 'Estate Late' || v.clientTypeVal == 'NBFS Trust' || v.clientTypeVal == 'ESTATE LATE' || v.processTypeP=='F2F Onboarding' }"
									> -->
                  <aura:if
                    isTrue="{!or(v.isOperatingRole,v.showOccupationSection)}"
                  >
                    <h3 class="slds-section__title">
                      <span
                        class="slds-truncate slds-button slds-section__title-action"
                        title="Section Title"
                        >Occupation Details</span
                      >
                    </h3>
                    <lightning:layout multipleRows="true">
                      <lightning:layoutItem
                        padding=""
                        size="6"
                        smallDeviceSize="12"
                        mediumDeviceSize="6"
                      >
                        <lightning:inputField
                          aura:id="iOccupationStatus"
                          fieldName="Occupation_Status__pc"
                          value="{!v.editedAccount.Occupation_Status__pc}"
                          class="customRequired"
                        />
                      </lightning:layoutItem>
                      <!--<aura:if isTrue="{!v.isEmployed}">-->
                      <lightning:layoutItem
                        padding=""
                        size="6"
                        smallDeviceSize="12"
                        mediumDeviceSize="6"
                      >
                        <lightning:inputField
                          fieldName="Occupation__pc"
                          value="{!v.editedAccount.Occupation__pc}"
                        />
                      </lightning:layoutItem>
                      <lightning:layoutItem
                        padding=""
                        size="6"
                        smallDeviceSize="12"
                        mediumDeviceSize="6"
                      >
                        <lightning:inputField
                          fieldName="Occupation_Category__pc"
                          value="{!v.editedAccount.Occupation_Category__pc}"
                        />
                      </lightning:layoutItem>
                      <lightning:layoutItem
                        padding=""
                        size="6"
                        smallDeviceSize="12"
                        mediumDeviceSize="6"
                      >
                        <lightning:inputField
                          fieldName="Occupation_Level__pc"
                          value="{!v.editedAccount.Occupation_Level__pc}"
                        />
                      </lightning:layoutItem>
                      <lightning:layoutItem
                        padding=""
                        size="6"
                        smallDeviceSize="12"
                        mediumDeviceSize="6"
                      >
                        <lightning:inputField
                          aura:id="iEmployerName"
                          fieldName="Employer_Name__pc"
                          value="{!v.editedAccount.Employer_Name__pc}"
                        />
                      </lightning:layoutItem>
                      <lightning:layoutItem
                        padding=""
                        size="6"
                        smallDeviceSize="12"
                        mediumDeviceSize="6"
                      >
                        <lightning:inputField
                          aura:id="iEmployerSector"
                          fieldName="Employer_Sector__pc"
                          value="{!v.editedAccount.Employer_Sector__pc}"
                        />
                      </lightning:layoutItem>
                      <!--</aura:if>-->
                    </lightning:layout>

                    <br />
                  </aura:if>
                </aura:if>
              </aura:if>
              <!--Occupation End-->

              <h3 class="slds-section__title">
                <span
                  class="slds-truncate slds-button slds-section__title-action"
                  title="Section Title"
                  >Address Information</span
                >
              </h3>
              <!--BUSINESS ADDRESS START-->
              <c:OnboardingClientBusAdd
                isFromEditRelatedParty="true"
                aura:id="addressComp"
              />
              <!--BUSINESS ADDRESS END-->

              <!--Added By Tejesh for Address Information format change on 30/6/22-->
              <!--  <lightning:layout>
                                    <lightning:layoutItem padding="around-small" size="12">
                                        <div style="display:none">
                                            <<Newly commented by Rajesh for Popup issue>>
                                            <<lightning:inputField fieldName="BillingAddress"/>>
                                        </div>
                                        <lightning:recordEditForm objectApiName="Address__c">
                                            <lightning:inputField required="true" fieldName="Shipping_Street__c" value="{!v.newAddressRecord.Shipping_Street__c}"/>
                                            <aura:if isTrue="{! or(v.clientTypeVal == 'NBFS Trust',v.clientTypeVal == 'Estate Late',v.clientTypeVal == 'ESTATE LATE',v.processTypeP == 'Estate Onboarding')}">
                                                <lightning:inputField fieldName="Shipping_Street_2__c" value="{!v.newAddressRecord.Shipping_Street_2__c}"/>
                                            </aura:if>
                                            <aura:if isTrue="{! and(v.clientTypeVal != 'NBFS Trust',v.clientTypeVal != 'Estate Late', v.clientTypeVal != 'ESTATE LATE',v.processTypeP != 'Estate Onboarding')}"> 
                                                <lightning:inputField  required="true" fieldName="Shipping_Street_2__c" value="{!v.newAddressRecord.Shipping_Street_2__c}"/>
                                            </aura:if>
                                            
                                            <lightning:inputField required="true" fieldName="Shipping_Suburb__c" value="{!v.newAddressRecord.Shipping_Suburb__c}"/>
                                            <lightning:inputField required="true" fieldName="Shipping_City__c" value="{!v.newAddressRecord.Shipping_City__c}"/>
                                            <lightning:inputField required="true" fieldName="Shipping_Country__c" value="{!v.newAddressRecord.Shipping_Country__c}"/>
                                            <lightning:inputField required="true" fieldName="Shipping_Zip_Postal_Code__c" value="{!v.newAddressRecord.Shipping_Zip_Postal_Code__c}"/>
                                        </lightning:recordEditForm>
                                        
                                    </lightning:layoutItem>
                                </lightning:layout> -->

              <aura:if isTrue="{! !(v.clientTypeVal == 'NBFS Trust')}">
                <!--Lakshmi 21-4-22 Removed Late esate condition-W-017966-->
                <aura:if
                  isTrue="{!and(v.processTypeP != 'Estate Onboarding',v.clientTypeVal != 'ESTATE LATE',v.clientTypeVal != 'Estate Late')}"
                >
                  <!--Lakshmi 09-Jun-22 -W-019093-->
                  <!--Lakshmi 27-4-22 -W-017966-->
                  <h3 class="slds-section__title">
                    <span
                      class="slds-truncate slds-button slds-section__title-action"
                      title="Section Title"
                      >Company Involvement</span
                    >
                  </h3>
                </aura:if>
                <lightning:layout>
                  <lightning:layoutItem padding="around-small" size="12">
                    <div style="display: none">
                      <!--Newly commented by Rajesh for Popup issue-->
                      <!--<lightning:inputField fieldName="BillingAddress"/>-->
                    </div>
                    <lightning:recordEditForm objectApiName="Account">
                      <aura:if
                        isTrue="{!and(v.processTypeP != 'Estate Onboarding',v.clientTypeVal != 'ESTATE LATE', v.clientTypeVal != 'Estate Late')}"
                      >
                        <!--Lakshmi 09-Jun-22 -W-019093-->
                        <!--Lakshmi 21-4-22 -W-017966-->
                        <lightning:inputField
                          fieldName="US_Person__c"
                          value="{!v.editedAccount.US_Person__c}"
                        />
                        <!--W-030873 <aura:if isTrue="{! v.isOperatingRole}" >-->
                        <lightning:inputField
                          required="{!v.isOperatingRole}"
                          fieldName="Operating_Roles__c"
                          value="{!v.editedAccount.Operating_Roles__c}"
                          aura:id="operatingRoleEditId"
                          onchange="{!c.handleChangeEditOperatingRole}"
                        />
                        <!--</aura:if>-->
                        <aura:if isTrue="{!v.isMandatIndemnityUser}">
                          <lightning:inputField
                            fieldName="Type_of_Instruction__c"
                            value="{!v.editedAccount.Type_of_Instruction__c}"
                          />
                          <lightning:inputField
                            fieldName="Account_Applicable__c"
                            value="{!v.editedAccount.Account_Applicable__c}"
                          />
                          <lightning:inputField
                            fieldName="Instruction_Method__c"
                            value="{!v.editedAccount.Instruction_Method__c}"
                          />
                        </aura:if>
                      </aura:if>
                      <!--Lakshmi 28-05-2022  W-019093 extra fields hidden-->
                    </lightning:recordEditForm>
                  </lightning:layoutItem>
                </lightning:layout>
              </aura:if>

              <!-- TdB: Additional fields for Participant Role -->
              <aura:if isTrue="{!v.isParticipant}">
                <h3 class="slds-section__title">
                  <span
                    class="slds-truncate slds-button slds-section__title-action"
                    title="Section Title"
                    >Financial Information</span
                  >
                </h3>
                <lightning:layout multipleRows="true">
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <label for="prevInsolvent" class="slds-form-element__label"
                      >Have you ever been insolvent or under debt review?</label
                    >
                  </lightning:layoutItem>

                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Insolvent_Debit_Review__pc"
                      aura:id="prevInsolvent"
                      variant="label-hidden"
                      value="{!v.editedAccount.Insolvent_Debit_Review__pc}"
                    />
                    <div
                      aura:id="errPrevInsolvent"
                      class="slds-hide"
                      style="
                        color: var(
                          --lwc-colorTextError,
                          rgb(194, 57, 52)
                        ) !important;
                      "
                    >
                      Please Select a Value
                    </div>
                  </lightning:layoutItem>

                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:input
                      type="checkbox"
                      name="registeredTax"
                      aura:id="registeredTax"
                      label="Registered for TAX in South Africa"
                      checked="true"
                      onchange="{! c.showReasonForTaxNA }"
                    />
                  </lightning:layoutItem>

                  <aura:if isTrue="{!v.showNoTaxReason}">
                    <lightning:layoutItem
                      padding=""
                      size="6"
                      smallDeviceSize="12"
                      mediumDeviceSize="6"
                    >
                      <lightning:inputField
                        fieldName="Reason_For_Not_Providing_SA_Tax_Number__c"
                        aura:id="reasonForTaxNA"
                        value="{!v.editedAccount.Reason_For_Not_Providing_SA_Tax_Number__c}"
                      />
                      <div
                        aura:id="errreasonForTaxNA"
                        class="slds-hide"
                        style="
                          color: var(
                            --lwc-colorTextError,
                            rgb(194, 57, 52)
                          ) !important;
                        "
                      >
                        Please Enter Reason For Not Providing SA Tax Number
                      </div>
                    </lightning:layoutItem>
                    <aura:set attribute="else">
                      <lightning:layoutItem
                        padding=""
                        size="6"
                        smallDeviceSize="12"
                        mediumDeviceSize="6"
                      >
                        <lightning:inputField
                          fieldName="Income_Tax_Number__c"
                          aura:id="itNumber"
                          value="{!v.editedAccount.Income_Tax_Number__c}"
                        />
                        <div
                          aura:id="erritNumber"
                          class="slds-hide"
                          style="
                            color: var(
                              --lwc-colorTextError,
                              rgb(194, 57, 52)
                            ) !important;
                          "
                        >
                          Complete this field
                        </div>
                      </lightning:layoutItem>
                    </aura:set>
                  </aura:if>

                  <lightning:layout>
                    <lightning:layoutItem>
                      <lightning:inputField
                        fieldName="FAIS_Act__c"
                        aura:id="faisAct"
                        variant="label-hidden"
                        onchange="{!c.handleCheckboxChange}"
                        value="{!v.editedAccount.FAIS_Act__c}"
                      />
                    </lightning:layoutItem>

                    <lightning:layoutItem>
                      <label for="faisAct" class="slds-form-element__label"
                        >Client Renders Financial Services as defined in the
                        FAIS Act</label
                      >
                    </lightning:layoutItem>
                  </lightning:layout>

                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:input
                      type="checkbox"
                      name="registeredForeignTax"
                      aura:id="registeredForeignTax"
                      label="Registered for Foreign TAX"
                    />
                  </lightning:layoutItem>

                  <aura:if isTrue="{!v.showCountryForeignTax}">
                    <lightning:layoutItem
                      padding=""
                      size="6"
                      smallDeviceSize="12"
                      mediumDeviceSize="6"
                    >
                      <lightning:inputField
                        fieldName="Country_of_Foreign_tax__c"
                        aura:id="countryForeignTax"
                        value="{!v.editedAccount.Country_of_Foreign_tax__c}"
                      />
                      <div
                        aura:id="errCountryForeignTax"
                        class="slds-hide"
                        style="
                          color: var(
                            --lwc-colorTextError,
                            rgb(194, 57, 52)
                          ) !important;
                        "
                      >
                        Please select the country registered for foreign tax
                      </div>
                    </lightning:layoutItem>

                    <lightning:layoutItem
                      padding=""
                      size="6"
                      smallDeviceSize="12"
                      mediumDeviceSize="6"
                    >
                    </lightning:layoutItem>

                    <lightning:layoutItem
                      padding=""
                      size="6"
                      smallDeviceSize="12"
                      mediumDeviceSize="6"
                    >
                      <lightning:inputField
                        fieldName="Foreign_Tax_Number__c"
                        aura:id="foreignTax"
                        value="{!v.editedAccount.Foreign_Tax_Number__c}"
                      />
                      <div
                        aura:id="errforeignTaxNumber"
                        class="slds-hide"
                        style="
                          color: var(
                            --lwc-colorTextError,
                            rgb(194, 57, 52)
                          ) !important;
                        "
                      >
                        Complete this field
                      </div>
                    </lightning:layoutItem>

                    <lightning:layoutItem
                      padding=""
                      size="6"
                      smallDeviceSize="12"
                      mediumDeviceSize="6"
                    >
                    </lightning:layoutItem>
                  </aura:if>
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Monthly_Income__pc"
                      aura:id="iMonthlyIncome"
                      value="{!v.editedAccount.Monthly_Income__pc}"
                    />
                    <div
                      aura:id="errMonthlyIncome"
                      class="slds-hide"
                      style="
                        color: var(
                          --lwc-colorTextError,
                          rgb(194, 57, 52)
                        ) !important;
                      "
                    >
                      Please Enter Monthly Income
                    </div>
                  </lightning:layoutItem>

                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Does_the_Client_fall_under_the_CPA__c"
                      value="{!v.editedAccount.Does_the_Client_fall_under_the_CPA__c}"
                    />
                  </lightning:layoutItem>

                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Does_the_Client_fall_under_the_CPA__c"
                      value="{!v.editedAccount.Does_the_Client_fall_under_the_CPA__c}"
                    />
                  </lightning:layoutItem>

                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Is_Customer_Multi_Banked__c"
                      value="{!v.editedAccount.Is_Customer_Multi_Banked__c}"
                    />
                  </lightning:layoutItem>

                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Customer_Accounts_closed_by_another_Bank__c"
                      value="{!v.editedAccount.Customer_Accounts_closed_by_another_Bank__c}"
                    />
                  </lightning:layoutItem>

                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                    class="slds-hide"
                  >
                    <lightning:inputField
                      fieldName="Client_Group__c"
                      aura:id="iClientGroupRelatdeParty"
                      value="{!v.editedAccount.Client_Group__c}"
                    />
                  </lightning:layoutItem>

                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Source_of_Income__c"
                      aura:id="iSourceOfIncome"
                      value="{!v.editedAccount.Source_of_Income__c}"
                    />
                  </lightning:layoutItem>
                </lightning:layout>
                <h3 class="slds-section__title">
                  <span
                    class="slds-truncate slds-button slds-section__title-action"
                    title="Section Title"
                    >Regulatory Section - 3(i)f</span
                  >
                </h3>
                <lightning:layout>
                  <lightning:layoutItem>
                    <lightning:inputField
                      fieldName="Is_the_Client_a_Temporary_Resident__c"
                      variant="label-hidden"
                      aura:id="iTemporaryResident"
                      value="{!v.editedAccount.Is_the_Client_a_Temporary_Resident__c}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem>
                    <label
                      for="iTemporaryResident"
                      class="slds-form-element__label"
                      >Is the Client a Temporary Resident?</label
                    >
                  </lightning:layoutItem> </lightning:layout
                ><br />
                <lightning:layout>
                  <lightning:layoutItem>
                    <lightning:inputField
                      fieldName="Is_the_Client_a_Non_resident__c"
                      variant="label-hidden"
                      aura:id="iNonResident"
                      value="{!v.editedAccount.Is_the_Client_a_Non_resident__c}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem>
                    <label for="iNonResident" class="slds-form-element__label"
                      >Is the Client a Non-resident?</label
                    >
                  </lightning:layoutItem> </lightning:layout
                ><br />
              </aura:if>
            </lightning:recordEditForm>
          </p>
        </div>
        <footer class="slds-modal__footer">
          <lightning:button
            variant="neutral"
            label="Cancel"
            title="Cancel"
            onclick="{! c.closeEditRelatedPartyModal }"
          />
          <lightning:button
            variant="brand"
            label="Update Related Party"
            title="Save"
            onclick="{! c.updateRelatedParty }"
          />
        </footer>
      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
  </aura:if>
  <!--Manoj-09102020 - W-005633 New Design for Single Button New Prospect-->
  <aura:if
    isTrue="{!and(v.showEntityTypeSelection,v.ServiceTypeName!='Wealth Offshore Client Onboarding')}"
  >
    <aura:if isTrue="{!v.ServiceTypeName!='Estate Onboarding'}">
      <section
        role="dialog"
        tabindex="-1"
        aria-labelledby="modal-heading-01"
        aria-modal="true"
        aria-describedby="modal-content-id-1"
        class="slds-modal slds-fade-in-open slds-modal_large"
      >
        <div class="slds-modal__container" style="width: 70% !important">
          <header class="slds-modal__header">
            <lightning:buttonIcon
              iconName="utility:close"
              onclick="{! c.closeEntityTypeSelection}"
              alternativeText="close"
              variant="bare-inverse"
              class="slds-modal__close"
            />
            <h2 id="modal-heading-01" class="slds-modal__title slds-hyphenate">
              Entity Selection
            </h2>
          </header>
          <div
            class="slds-modal__content slds-p-around_medium"
            id="modal-content-id-1"
            style="overflow: initial"
          >
            <p>
              <lightning:recordEditForm
                objectApiName="Account"
                aura:id="recordNewAccount"
                recordId="{!v.recordId}"
                recordTypeId="{!v.businessProspectRecordTypeId}"
              >
                <lightning:layout multipleRows="true">
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:combobox
                      aura:id="clientGroupId"
                      name="Client Group"
                      label="Client Group"
                      placeholder="--None--"
                      options="{! v.clientGroupValues }"
                      required="true"
                      onchange="{! c.setClientTypeValue }"
                    />
                    <!--<lightning:inputField fieldName="Client_Group__c" aura:id="clientGroupId" required="true"/>-->
                  </lightning:layoutItem>
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:combobox
                      aura:id="clientTypeId"
                      name="Client Type"
                      label="Client Type"
                      placeholder="--None--"
                      options="{! v.clientTypeValues }"
                      required="true"
                      onchange="{! c.setClientPlaceOfResidenceValue }"
                    />
                    <lightning:inputField
                      fieldName="Client_Type__c"
                      aura:id="clientTypeIdField"
                      class="slds-hide"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Place_of_Residence__c"
                      aura:id="placeOfResidenceId"
                      required="true"
                    />
                  </lightning:layoutItem>
                </lightning:layout>
              </lightning:recordEditForm>
            </p>
          </div>
          <footer class="slds-modal__footer">
            <lightning:button
              variant="neutral"
              label="Cancel"
              title="Cancel"
              onclick="{! c.closeEntityTypeSelection }"
            />
            <lightning:button
              variant="brand"
              label="Select Client Type"
              title="Save"
              onclick="{! c.selectEntityType }"
            />
          </footer>
        </div>
      </section>
      <div class="slds-backdrop slds-backdrop_open"></div>
    </aura:if>
  </aura:if>
  <!-- Distribution Create Individua/Business Prospect for SelfLead added by Anwesh-->

  <aura:attribute name="showProspectModel" type="boolean" default="false" />
  <aura:attribute name="showIndividualFields" type="boolean" default="false" />
  <aura:attribute
    name="showNonIndividualFields"
    type="boolean"
    default="false"
  />
  <aura:attribute
    name="CreateIndividualProspect"
    type="boolean"
    default="false"
  />
  <aura:attribute
    name="CreateBusinessProspect"
    type="boolean"
    default="false"
  />
  <aura:attribute name="clientGroupValue" type="String" />
  <aura:attribute name="clientTypeValue" type="String" />
  <aura:attribute name="isNonIndividual" type="boolean" default="false" />
  <aura:if isTrue="{!v.showProspectModel}">
    <section
      role="dialog"
      tabindex="-1"
      aria-labelledby="modal-heading-01"
      aria-modal="true"
      aria-describedby="modal-content-id-1"
      class="slds-modal slds-fade-in-open slds-modal_large"
    >
      <div class="slds-modal__container" style="width: 70% !important">
        <header class="slds-modal__header">
          <lightning:buttonIcon
            iconName="utility:close"
            onclick="{! c.closeProspectModel}"
            alternativeText="close"
            variant="bare-inverse"
            class="slds-modal__close"
          />
          <h2 id="modal-heading-01" class="slds-modal__title slds-hyphenate">
            New Prospect
          </h2>
        </header>
        <div
          class="slds-modal__content slds-p-around_medium"
          id="modal-content-id-1"
          style="overflow: initial"
        >
          <p>
            <lightning:recordEditForm
              objectApiName="Account"
              aura:id="recordNewAccount"
              recordId="{!v.recordId}"
            >
              <lightning:layout multipleRows="true">
                <lightning:layoutItem
                  padding=""
                  size="6"
                  smallDeviceSize="12"
                  mediumDeviceSize="6"
                >
                  <!-- <span class="slds-form-element">

                                    <lightning:helptext
                                                        content="You can select only Individual/Non-Individual as a Client Group"
                                                        /></span>-->
                  <!--<lightning:inputField fieldName="Client_Group__c" aura:id="F2FclientGroupId" required="true" 
                                                          value="{!v.clientGroupValue}"/>-->
                  <lightning:combobox
                    aura:id="clientGroupId"
                    name="Client Group"
                    label="Client Group"
                    placeholder="--None--"
                    options="{!v.clientGroupValues}"
                    required="true"
                    onchange="{! c.setClientTypeValue }"
                    value="{!v.clientGroupValue}"
                  />
                  <lightning:inputField
                    fieldName="Client_Group__c"
                    aura:id="clientGroupIdField"
                    required="true"
                    class="slds-hide"
                  />
                </lightning:layoutItem>

                <lightning:layoutItem
                  padding=""
                  size="6"
                  smallDeviceSize="12"
                  mediumDeviceSize="6"
                >
                  <lightning:combobox
                    aura:id="clientTypeId"
                    name="Client Type"
                    label="Client Type"
                    placeholder="--None--"
                    options="{!v.clientTypeValues}"
                    required="true"
                    value="{!v.clientTypeValue}"
                    onchange="{!c.OnchangeClientTypeHandler}"
                  />
                  <lightning:inputField
                    fieldName="Client_Type__c"
                    aura:id="clientTypeIdField"
                    class="slds-hide"
                  />
                </lightning:layoutItem>
              </lightning:layout>
              <aura:if
                isTrue="{!and(v.clientGroupValue == 'Individual', or(v.clientTypeValue == 'Individual' ,v.clientTypeValue == 'ESTATE LATE'))}"
              >
                <h3 class="slds-section__title">
                  <span
                    class="slds-truncate slds-button slds-section__title-action"
                    title="Section Title"
                    >Client Information</span
                  >
                </h3>
                <lightning:layout multipleRows="true">
                  <lightning:layoutItem padding="around-small" size="6">
                    <div style="display: none">
                      <lightning:inputField fieldName="Name" />
                    </div>
                    <lightning:inputField
                      aura:id="iClientSalutation"
                      fieldName="Salutation"
                      value="{!v.newIndivProspect.Salutation}"
                      class="customRequired"
                    />
                    <lightning:inputField
                      aura:id="iClientFirstName"
                      fieldName="FirstName"
                      value="{!v.newIndivProspect.FirstName}"
                    />
                    <lightning:inputField
                      aura:id="iClientLastName"
                      fieldName="LastName"
                      value="{!v.newIndivProspect.LastName}"
                      class="customRequired"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem padding="around-small" size="6">
                    <lightning:inputField
                      aura:id="iClientIdNo"
                      fieldName="ID_Number__pc"
                      value="{!v.newIndivProspect.ID_Number__pc}"
                      required="true" 
                    />
                    <!--Added by Kalyani on 06/06/22-->
                    <lightning:select
                      name="ID Type"
                      value="{!v.newIndivProspect.ID_Type__pc}"
                      label="ID Type"
                      required="true"
                    >
                      <option value="">--Select--</option>
                      <option value="SA Identity Document">
                        SA Identity Document
                      </option>
                      <option value="Passport">Passport</option>
                      <!--Added by Kalyani on 13/08/22-->
                      <!--<option value="Temporary ID Document">Temporary ID Document</option>-->
                    </lightning:select>
                  </lightning:layoutItem>
                  <lightning:layoutItem padding="around-small" size="6">
                    <lightning:inputField
                      aura:id="iClientEmail"
                      fieldName="PersonEmail"
                      value="{!v.newIndivProspect.PersonEmail}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem padding="around-small" size="6">
                    <lightning:inputField
                      aura:id="iClientPersonMobilePhone"
                      fieldName="PersonMobilePhone"
                      value="{!v.newIndivProspect.PersonMobilePhone}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem padding="around-small" size="6">
                    <lightning:inputField
                      aura:id="iClientPhone"
                      fieldName="Phone"
                      value="{!v.newIndivProspect.Phone}"
                    />
                  </lightning:layoutItem>
                </lightning:layout>
              </aura:if>
              <aura:if
                isTrue="{! and(v.clientGroupValue == 'Non Individual',v.isNonIndividual == true)}"
              >
                <h3 class="slds-section__title">
                  <span
                    class="slds-truncate slds-button slds-section__title-action"
                    title="Section Title"
                    >Company Information</span
                  >
                </h3>
                <lightning:layout>
                  <lightning:layoutItem padding="around-small" size="6">
                    <div style="display: none">
                      <lightning:inputField fieldName="Name" />
                    </div>
                    <lightning:inputField
                      aura:id="F2FiBusinessName"
                      fieldName="Name"
                      value="{!v.newBusinessProspect.Name}"
                      class="customRequired"
                    />
                    <lightning:inputField
                      aura:id="iBusinessRegistrationNo"
                      fieldName="Registration_Number__c"
                      value="{!v.newBusinessProspect.Registration_Number__c}"
                    />
                  </lightning:layoutItem>
                  <lightning:layoutItem padding="around-small" size="6">
                    <!--Added by Kalyani on 13/08/22-->
                    <!--<lightning:inputField aura:id="iClientCommunicationMethod" fieldName="Communication_Method__c" value="{!v.newBusinessProspect.Communication_Method__c}"/>-->
                    <lightning:select
                      name="CommunicationMethod"
                      value="{!v.newBusinessProspect.Communication_Method__c}"
                      label="Communication Method"
                    >
                      <option value="">--Select--</option>
                      <option value="Email">Email</option>
                      <option value="Phone">Phone</option>
                      <option value="SMS">SMS</option>
                      <option value="Post">Post</option>
                    </lightning:select>
                  </lightning:layoutItem>
                </lightning:layout>
              </aura:if>
              <aura:if
                isTrue="{! and(v.clientGroupValue == 'Non Individual', v.clientTypeValue == 'Trusts')}"
              >
                <h3 class="slds-section__title">
                  <span
                    class="slds-truncate slds-button slds-section__title-action"
                    title="Section Title"
                    >Trust Information</span
                  >
                </h3>

                <lightning:layout multipleRows="true">
                  <lightning:layoutItem padding="around-small" size="6">
                    <div style="display: none">
                      <lightning:inputField fieldName="Name" />
                    </div>
                    <lightning:inputField
                      aura:id="F2FIsTrust"
                      fieldName="Name"
                      value="{!v.newBusinessProspect.Name}"
                      class="customRequired"
                    />
                    <lightning:inputField
                      fieldName="Trust_Number__c"
                      value="{!v.newBusinessProspect.Trust_Number__c}"
                      aura:id="IdTrustNo"
                      required="true"
                    />
                  </lightning:layoutItem>

                  <lightning:layoutItem
                    padding=""
                    size="6"
                    smallDeviceSize="12"
                    mediumDeviceSize="6"
                  >
                    <lightning:inputField
                      fieldName="Trust_Type__c"
                      value="{!v.newBusinessProspect.Trust_Type__c}"
                      aura:id="IdTrusttype"
                      required="true"
                    />
                  </lightning:layoutItem>
                </lightning:layout>
              </aura:if>
            </lightning:recordEditForm>
          </p>
        </div>
        <footer class="slds-modal__footer">
          <lightning:button
            variant="neutral"
            label="Cancel"
            title="Cancel"
            onclick="{! c.closeProspectModel }"
          />
          <aura:if
            isTrue="{! or(and(v.clientGroupValue == 'Non Individual', or(v.isNonIndividual == true, v.clientTypeValue=='Trusts')),
                                     and(v.clientGroupValue == 'Individual', or(v.clientTypeValue == 'Individual' ,v.clientTypeValue == 'ESTATE LATE')))}"
          >
            <lightning:button
              variant="brand"
              label="Create Prospect"
              title="Save"
              onclick="{! c.createClient }"
            />
          </aura:if>
        </footer>
      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
  </aura:if>
  <!-- Distribution Create Individua/Business Prospect for SelfLead END added by Anwesh-->
  <!--Added newly for estate onboariidng-->
  <aura:if
    isTrue="{!and(v.showEntityTypeSelection,v.ServiceTypeName =='Estate Onboarding')}"
  >
    <section
      role="dialog"
      tabindex="-1"
      aria-labelledby="modal-heading-01"
      aria-modal="true"
      aria-describedby="modal-content-id-1"
      class="slds-modal slds-fade-in-open slds-modal_large"
    >
      <div
        class="slds-modal__container slds-modal__content_large"
        style="width: 70% !important"
      >
        <header class="slds-modal__header">
          <lightning:buttonIcon
            iconName="utility:close"
            onclick="{! c.closeEntityTypeSelection}"
            alternativeText="close"
            variant="bare-inverse"
            class="slds-modal__close"
          />
          <h2 id="modal-heading-01" class="slds-modal__title slds-hyphenate">
            Entity Selection
          </h2>
        </header>
        <div
          class="slds-modal__content slds-p-around_medium"
          id="modal-content-id-1"
          style="overflow: initial"
        >
          <p>
            <lightning:recordEditForm
              objectApiName="Account"
              aura:id="recordNewAccount"
              recordId="{!v.recordId}"
              recordTypeId="{!v.businessProspectRecordTypeId}"
            >
              <lightning:layout multipleRows="true">
                <lightning:layoutItem
                  padding=""
                  size="6"
                  smallDeviceSize="12"
                  mediumDeviceSize="6"
                >
                  <lightning:combobox
                    aura:id="estateclientGroupId"
                    name="Client Group"
                    label="Client Group"
                    placeholder="--None--"
                    options="{!v.clientGroupValues}"
                    required="true"
                    onchange="{!c.setClientTypeValue}"
                  />
                  <lightning:inputField
                    fieldName="Client_Group__c"
                    aura:id="clientGroupIdField1"
                    required="true"
                    class="slds-hide"
                  />
                </lightning:layoutItem>
                <lightning:layoutItem
                  padding=""
                  size="6"
                  smallDeviceSize="12"
                  mediumDeviceSize="6"
                >
                  <lightning:combobox
                    aura:id="estateclientTypeId"
                    name="Client Type"
                    label="Client Type"
                    placeholder="--None--"
                    options="{!v.EstateclientTypeValues}"
                    required="true"
                    onchange="{!c.onChangeEstateClientType}"
                  />
                  <lightning:inputField
                    fieldName="Client_Type__c"
                    aura:id="clientTypeIdField1"
                    class="slds-hide"
                  />
                </lightning:layoutItem>
                <lightning:layoutItem
                  padding=""
                  size="6"
                  smallDeviceSize="12"
                  mediumDeviceSize="6"
                >
                  <lightning:combobox
                    aura:id="estateResidentTypeId"
                    name="Place of Residence"
                    label="Country of Residence"
                    placeholder="--None--"
                    options="{!v.estateResidentoptions}"
                    required="true"
                  />
                  <lightning:inputField
                    fieldName="Place_of_Residence__c"
                    aura:id="ResidentField1"
                    class="slds-hide"
                  />
                </lightning:layoutItem>
              </lightning:layout>
            </lightning:recordEditForm>
          </p>
        </div>
        <footer class="slds-modal__footer">
          <lightning:button
            variant="neutral"
            label="Cancel"
            title="Cancel"
            onclick="{! c.closeEntityTypeSelection }"
          />
          <lightning:button
            variant="brand"
            label="Select Client Type"
            title="Save"
            onclick="{!c.navigatetoEstateOnboardingInd}"
            disabled="{!v.enabletoProceed}"
          />
        </footer>
      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
  </aura:if>
  <!-- Wealth Selection Entity Model noted -->
  <aura:if
    isTrue="{!and(v.showEntityTypeSelection,v.ServiceTypeName =='Wealth Offshore Client Onboarding')}"
  >
    <section
      role="dialog"
      tabindex="-1"
      aria-labelledby="modal-heading-01"
      aria-modal="true"
      aria-describedby="modal-content-id-1"
      class="slds-modal slds-fade-in-open slds-modal_large"
    >
      <div class="slds-modal__container" style="width: 70% !important">
        <header class="slds-modal__header">
          <lightning:buttonIcon
            iconName="utility:close"
            onclick="{! c.closeEntityTypeSelection}"
            alternativeText="close"
            variant="bare-inverse"
            class="slds-modal__close"
          />
          <h2 id="modal-heading-01" class="slds-modal__title slds-hyphenate">
            Entity Selection
          </h2>
        </header>
        <div
          class="slds-modal__content slds-p-around_medium"
          id="modal-content-id-1"
          style="overflow: initial"
        >
          <p>
            <lightning:recordEditForm
              objectApiName="Account"
              aura:id="recordNewAccount"
              recordId="{!v.recordId}"
              recordTypeId="{!v.businessProspectRecordTypeId}"
            >
              <lightning:layout multipleRows="true">
                <lightning:layoutItem
                  padding=""
                  size="6"
                  smallDeviceSize="12"
                  mediumDeviceSize="6"
                >
                  <lightning:combobox
                    aura:id="clientGroupId"
                    name="Client Group"
                    label="Client Group"
                    placeholder="--None--"
                    options="{!v.WealthclientGroupValues}"
                    required="true"
                    onchange="{! c.setClientTypeValue }"
                  />
                  <lightning:inputField
                    fieldName="Client_Group__c"
                    aura:id="clientGroupIdField"
                    required="true"
                    class="slds-hide"
                  />
                </lightning:layoutItem>
                <lightning:layoutItem
                  padding=""
                  size="6"
                  smallDeviceSize="12"
                  mediumDeviceSize="6"
                >
                  <lightning:combobox
                    aura:id="clientTypeId"
                    name="Client Type"
                    label="Client Type"
                    placeholder="--None--"
                    options="{!v.WealthclientTypeValues}"
                    required="true"
                    onchange="{!c.onchangewealthClientType}"
                  />
                  <lightning:inputField
                    fieldName="Client_Type__c"
                    aura:id="clientTypeIdField"
                    class="slds-hide"
                  />
                </lightning:layoutItem>
              </lightning:layout>
            </lightning:recordEditForm>
          </p>
        </div>
        <footer class="slds-modal__footer">
          <lightning:button
            variant="neutral"
            label="Cancel"
            title="Cancel"
            onclick="{! c.closeEntityTypeSelection }"
          />
          <lightning:button
            variant="brand"
            label="Select Client Type"
            title="Save"
            onclick="{!c.WealthSelectType }"
            disabled="{!v.enableentityType}"
          />
        </footer>
      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
  </aura:if>
  <!-- end Wealth modification -->
  <!--Sandeep Golla - W-009646 - FIC Refresh Confirmation Popup -->
  <aura:if isTrue="{!v.showFICRefreshConfirmation}">
    <!--###### MODAL BOX Start######-->
    <section
      role="dialog"
      tabindex="-1"
      aria-labelledby="modal-heading-01"
      aria-modal="true"
      aria-describedby="modal-content-id-1"
      class="slds-modal slds-fade-in-open"
    >
      <div class="slds-modal__container">
        <!-- ###### MODAL BOX HEADER Start ######-->
        <header class="slds-modal__header">
          <lightning:buttonIcon
            iconName="utility:close"
            onclick="{!c.closeConfirmation}"
            alternativeText="close"
            variant="bare-inverse"
            class="slds-modal__close"
          />
          <h2
            id="modal-heading-01"
            class="slds-text-heading_medium slds-hyphenate"
          >
            Confirmation..?
          </h2>
        </header>
        <!--###### MODAL BOX BODY Part Start######-->
        <div
          class="slds-modal__content slds-p-around_medium"
          id="modal-content-id-1"
        >
          <div class="slds-grid slds-wrap">
            <div class="slds-col slds-size_6-of-12">
              <span><b>Compliant Status : </b></span>
              <span>{!v.complianceStatus}</span>
            </div>
            <aura:if isTrue="{!v.complianceStatus == 'Compliant'}">
              <div class="slds-col slds-size_6-of-12">
                <span><b>Days Remaining to Refresh : </b></span>
                <span>{!v.daysDue}</span>
              </div>
            </aura:if>
          </div>
          <br />
          <div>
            <span>{!v.confirmationMessage}?</span>
          </div>
        </div>
        <!--###### MODAL BOX FOOTER Part Start ######-->
        <footer class="slds-modal__footer">
          <lightning:button
            variant="neutral"
            label="Cancel"
            title="Cancel"
            onclick="{!c.closeConfirmation}"
          />
          <lightning:button
            variant="brand"
            label="Proceed"
            title="Proceed"
            onclick="{!c.proceed}"
          />
        </footer>
      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
    <!--###### MODAL BOX Part END Here ######-->
  </aura:if>

  <!--Added by Santosh Kumar WorkId- W-012428 on date 22/May/2021 New Design for Single Button New Prospect to show Individual Customer Pop modal to Create Contact record Using LDS-->
  <aura:if isTrue="{!v.showIndividualCustomerPopUP}">
    <section
      role="dialog"
      tabindex="-1"
      aria-labelledby="modal-heading-01"
      aria-modal="true"
      aria-describedby="modal-content-id-1"
      class="slds-modal slds-fade-in-open slds-modal_large"
    >
      <div class="slds-modal__container" style="width: 70%">
        <header class="slds-modal__header">
          <lightning:buttonIcon
            iconName="utility:close"
            onclick="{! c.closeNewIndividualProspectModel}"
            alternativeText="close"
            variant="bare-inverse"
            class="slds-modal__close"
          />
          <h2 id="modal-heading-01" class="slds-modal__title slds-hyphenate">
            Individual Customer Prospect
          </h2>
        </header>
        <div
          class="slds-modal__content slds-p-around_medium"
          id="modal-content-id-1"
          style="overflow: initial"
        >
          <lightning:card>
            <lightning:layout
              verticalAlign="start"
              horizontalAlign="start"
              multipleRows="true"
            >
              <h3
                class="slds-section__title slds-theme_shade"
                style="width: 100%"
              >
                <span
                  class="slds-truncate slds-p-horizontal_small"
                  title="Section Title"
                  iconName="utility:case"
                  ><b>New to bank onboarding</b></span
                >
              </h3>
              <lightning:layoutItem size="6" class="slds-form__item">
                <div
                  class="slds-form-element slds-form-element_stacked slds-hint-parent"
                >
                  <div class="slds-form-element__control">
                    <div class="slds-form-element__static">
                      <lightning:input
                        type="Text"
                        aura:id="ID Number"
                        label="ID Number"
                        value="{!v.newAccount.ID_Number__pc}"
                        required="true"
                      />
                    </div>
                  </div>
                </div>
              </lightning:layoutItem>
              <lightning:layoutItem size="6" class="slds-form__item">
                <div
                  class="slds-form-element slds-form-element_stacked slds-hint-parent"
                >
                  <div class="slds-form-element__control">
                    <div class="slds-form-element__static">
                      <lightning:select
                        aura:id="title"
                        label="Title"
                        value="{!v.newAccount.PersonTitle}"
                        required="true"
                      >
                        <option text="Select title" value="" />
                        <aura:iteration items="{!v.titleOptions}" var="item">
                          <option text="{!item.label}" value="{!item.value}" />
                        </aura:iteration>
                      </lightning:select>
                    </div>
                  </div>
                </div>
              </lightning:layoutItem>
              <lightning:layoutItem size="6" class="slds-form__item">
                <div
                  class="slds-form-element slds-form-element_stacked slds-hint-parent"
                >
                  <div class="slds-form-element__control">
                    <div class="slds-form-element__static">
                      <lightning:input
                        type="Text"
                        aura:id="firstName"
                        label="FirstName"
                        value="{!v.newAccount.FirstName}"
                        required="true"
                      />
                    </div>
                  </div>
                </div>
              </lightning:layoutItem>
              <lightning:layoutItem size="6" class="slds-form__item">
                <div
                  class="slds-form-element slds-form-element_stacked slds-hint-parent"
                >
                  <div class="slds-form-element__control">
                    <div class="slds-form-element__static">
                      <lightning:input
                        type="Text"
                        aura:id="lastName"
                        label="LastName"
                        value="{!v.newAccount.LastName}"
                        required="true"
                      />
                    </div>
                  </div>
                </div>
              </lightning:layoutItem>
              <lightning:layoutItem size="6" class="slds-form__item">
                <div
                  class="slds-form-element slds-form-element_stacked slds-hint-parent"
                >
                  <div class="slds-form-element__control">
                    <div class="slds-form-element__static">
                      <lightning:input
                        type="tel"
                        aura:id="PersonMobilePhone"
                        label="Contact Number"
                        value="{!v.newAccount.PersonMobilePhone}"
                        required="true"
                      />
                    </div>
                  </div>
                </div>
              </lightning:layoutItem>
              <lightning:layoutItem size="8" class="slds-form__item">
                <ui:message severity="info" closable="false">
                  <p>
                    <b
                      >I confirm that I have asked the customer permission to
                      contact them on the above mentioned number should they not
                      be able to complete their application and the customer
                      said:</b
                    >
                  </p>
                  <lightning:radioGroup
                    aura:id="statementOptionsRadioGroup"
                    name="statementOptionsRadioGroup"
                    variant="lebel-hidden"
                    options="{!v.consentOptions }"
                    value="{!v.consentVal}"
                    type="radio"
                    style="display: inline-block !important"
                  />
                </ui:message>
              </lightning:layoutItem>
            </lightning:layout>
          </lightning:card>
        </div>
        <footer class="slds-modal__footer">
          <div
            aura:id="actionButtonBar"
            class="slds-clearfix slds-p-top_medium"
          >
            <!-- If Previous is available, display to the left -->
            <div class="slds-float_left">
              <lightning:button
                variant="neutral"
                label="Cancel"
                title="Cancel"
                onclick="{! c.closeNewIndividualProspectModel }"
              />
            </div>
            <div class="slds-float_right">
              <lightning:button
                variant="brand"
                label="Next"
                title="Save"
                onclick="{! c.createAccountRecord }"
                disabled="{!if(v.consentVal =='Yes', false, true)}"
              />
            </div>
          </div>
        </footer>
      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
  </aura:if>
  <!--Simangaliso: 27 Aug 2021 -->
  <aura:if isTrue="{!v.showPrivacyNotice}">
    <c:SalesOnboadingPrivacyNotice
      showPrivacyNotice="{!v.showPrivacyNotice}"
      showXDSComponent="{!v.showXDSComponent}"
    />
  </aura:if>

  <aura:if isTrue="{!v.showXDSComponent}">
    <section
      role="dialog"
      tabindex="-1"
      aria-labelledby="modal-heading-01"
      aria-modal="true"
      aria-describedby="modal-content-id-1"
      class="slds-modal slds-fade-in-open slds-modal_large"
    >
      <div class="slds-modal__container" style="width: 70%">
        <header class="slds-modal__header">
          <lightning:buttonIcon
            iconName="utility:close"
            onclick="{!c.closeXDSModal}"
            alternativeText="close"
            variant="bare-inverse"
            class="slds-modal__close"
          />
          <h2 id="modal-heading-01" class="slds-modal__title slds-hyphenate">
            XDS Verification
          </h2>
        </header>
        <div
          class="slds-modal__content slds-p-around_medium"
          id="modal-content-id-1"
          style="overflow: initial"
        >
          <div>
            <c:XDSQnAComponent
              showXDS="true"
              xdsDecision="false"
              accountId="{!v.accountId.DeveloperName}"
              disableHandleNext="{!v.disableHandleNext}"
            />
          </div>
        </div>
        <footer class="slds-modal__footer">
          <lightning:button
            variant="brand"
            label="Next"
            title="Next"
            disabled="{!v.disableHandleNext}"
            onclick="{!c.handleNext }"
          />
        </footer>
      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
  </aura:if>
  <!-- Mohammed Junaid U Closure of Account W-010672 Starts-->
  <aura:if isTrue="{!v.showAccountClosureConfirmation}">
    <!--###### MODAL BOX Start######-->
    <section
      role="dialog"
      tabindex="-1"
      aria-labelledby="modal-heading-01"
      aria-modal="true"
      aria-describedby="modal-content-id-1"
      class="slds-modal slds-fade-in-open"
    >
      <div class="slds-modal__container">
        <!-- ###### MODAL BOX HEADER Start ######-->
        <header class="slds-modal__header">
          <lightning:buttonIcon
            iconName="utility:close"
            onclick="{!c.accountClosureConfirmation}"
            alternativeText="close"
            variant="bare-inverse"
            class="slds-modal__close"
          />
          <h2
            id="modal-heading-01"
            class="slds-text-heading_medium slds-hyphenate"
          >
            Confirmation..?
          </h2>
        </header>
        <!--###### MODAL BOX BODY Part Start######-->
        <div
          class="slds-modal__content slds-p-around_medium"
          id="modal-content-id-1"
        >
          <div class="slds-grid slds-wrap">
            <div class="slds-col slds-size_6-of-12">
              <span><b>Compliant Status : </b></span>
              <span>{!v.complianceStatus}</span>
            </div>
          </div>
          <br />
          <div>
            <span
              >The Customer is currently {!v.complianceStatus}. If the customer
              is unwilling to share necessary information and documentation
              please click on proceed to continue with Account Closure, else
              Refresh the customer
            </span>
          </div>
        </div>
        <!--###### MODAL BOX FOOTER Part Start ######-->
        <footer class="slds-modal__footer">
          <lightning:button
            variant="neutral"
            label="Cancel"
            title="Cancel"
            onclick="{!c.accountClosureConfirmation}"
          />
          <lightning:button
            variant="brand"
            label="FIC Refresh"
            title="FIC Refresh"
            onclick="{!c.ficRefreshCreation}"
          />
          <lightning:button
            variant="brand"
            label="Proceed"
            title="Proceed"
            onclick="{!c.proceedtoAccountClosure}"
          />
        </footer>
      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
    <!--###### MODAL BOX Part END Here ######-->
  </aura:if>
  <aura:if isTrue="{!v.showLeadRecordTypePopup}" >
    <c:AIFALeadCreation/>
  </aura:if>

  <!-- W-010672 End -->
  
   <aura:attribute name="IndvProspectFieldSetJson" type="Object[]"/>
    <aura:attribute type="Boolean" name="showDynamicProspectLayout" default="false"/>
    <aura:attribute type="Boolean" name="createAccConRelation" default="false"/>
    <aura:attribute name="accountContactRecord" type="AccountContactRelation" default="{'sobjectType': 'AccountContactRelation'}"/>
    
   
    <aura:if isTrue="{!(v.showDynamicProspectLayout)}">
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
            <div class="slds-modal__container">
                <header class="slds-modal__header">
                    <lightning:buttonIcon iconName="utility:close"
                                          onclick="{! c.closeNewIndividualProspectModel}"
                                          alternativeText="close"
                                          variant="bare-inverse"
                                          class="slds-modal__close"/>
                    <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Create Individual Prospect Client</h2>
                </header>
                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                    <p>
                        <aura:iteration items="{!v.IndvProspectFieldSetJson}" var="arr" indexVar="indexTop">
                            <h3 class="slds-section__title">
                                <span class="slds-truncate slds-button slds-section__title-action" title="Section Title">{!arr.sectionHeader}</span>
                            </h3>
                            <lightning:recordEditForm  aura:id="indivProspect" objectApiName="{!arr.sObject}">
                                <lightning:layout multipleRows="true">
                                    <aura:iteration items="{!arr.fields}" var="field" indexVar="index">
                                        <lightning:layoutItem padding="horizontal-large" size="{!field.layoutItemSize}">
                                        	<label for="{!field.apiName}" class="slds-form-element__label">{!field.label}</label>
                                            <lightning:inputField title="{!arr.sObject}" fieldName="{!field.apiName}" onchange="{!c.onDynamicFieldUpdate}" aura:id="{!field.apiName}" variant="label-hidden"/>
                                        </lightning:layoutItem>
                                    </aura:iteration>
                                </lightning:layout>
                            </lightning:recordEditForm>
                            <br/>
                        </aura:iteration>
                    </p>
                </div>
                <footer class="slds-modal__footer">
                    <lightning:button variant="neutral"
                                      label="Cancel"
                                      title="Cancel"
                                      onclick="{! c.closeNewIndividualProspectModel }"/>
                    <lightning:button variant="brand"
                                      label="Create Prospect"
                                      title="Save"
                                      onclick="{!c.createClient}"/>
                </footer>
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
    </aura:if>
</aura:component>